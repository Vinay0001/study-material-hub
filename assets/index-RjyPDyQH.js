(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Mm={exports:{}},$l={};var mv;function cA(){if(mv)return $l;mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var pv;function hA(){return pv||(pv=1,Mm.exports=cA()),Mm.exports}var E=hA(),km={exports:{}},we={};var gv;function fA(){if(gv)return we;gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,L={};function J(V,Z,ae){this.props=V,this.context=Z,this.refs=L,this.updater=ae||F}J.prototype.isReactComponent={},J.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function ie(V,Z,ae){this.props=V,this.context=Z,this.refs=L,this.updater=ae||F}var fe=ie.prototype=new ne;fe.constructor=ie,K(fe,J.prototype),fe.isPureReactComponent=!0;var Ee=Array.isArray;function _e(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(V,Z,ae){var ue=ae.ref;return{$$typeof:i,type:V,key:Z,ref:ue!==void 0?ue:null,props:ae}}function R(V,Z){return C(V.type,Z,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function U(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return Z[ae]})}var I=/\/+/g;function at(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):Z.toString(36)}function Mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_e,_e):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,Z,ae,ue,be){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case b:return Ue=V._init,X(Ue(V._payload),Z,ae,ue,be)}}if(Ue)return be=be(V),Ue=ue===""?"."+at(V,0):ue,Ee(be)?(ae="",Ue!=null&&(ae=Ue.replace(I,"$&/")+"/"),X(be,Z,ae,"",function(xs){return xs})):be!=null&&(O(be)&&(be=R(be,ae+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+Ue)),Z.push(be)),1;Ue=0;var kt=ue===""?".":ue+":";if(Ee(V))for(var ot=0;ot<V.length;ot++)ue=V[ot],Re=kt+at(ue,ot),Ue+=X(ue,Z,ae,Re,be);else if(ot=M(V),typeof ot=="function")for(V=ot.call(V),ot=0;!(ue=V.next()).done;)ue=ue.value,Re=kt+at(ue,ot++),Ue+=X(ue,Z,ae,Re,be);else if(Re==="object"){if(typeof V.then=="function")return X(Mt(V),Z,ae,ue,be);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(V,Z,ae){if(V==null)return V;var ue=[],be=0;return X(V,ue,"","",function(Re){return Z.call(ae,Re,be++)}),ue}function pe(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,Z,ae){se(V,function(){Z.apply(this,arguments)},ae)},count:function(V){var Z=0;return se(V,function(){Z++}),Z},toArray:function(V){return se(V,function(Z){return Z})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return we.Activity=T,we.Children=Ge,we.Component=J,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},we.cache=function(V){return function(){return V.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(V,Z,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=K({},V.props),be=V.key;if(Z!=null)for(Re in Z.key!==void 0&&(be=""+Z.key),Z)!x.call(Z,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Z.ref===void 0||(ue[Re]=Z[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Ue=Array(Re),kt=0;kt<Re;kt++)Ue[kt]=arguments[kt+2];ue.children=Ue}return C(V.type,be,ue)},we.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},we.createElement=function(V,Z,ae){var ue,be={},Re=null;if(Z!=null)for(ue in Z.key!==void 0&&(Re=""+Z.key),Z)x.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=Z[ue]);var Ue=arguments.length-2;if(Ue===1)be.children=ae;else if(1<Ue){for(var kt=Array(Ue),ot=0;ot<Ue;ot++)kt[ot]=arguments[ot+2];be.children=kt}if(V&&V.defaultProps)for(ue in Ue=V.defaultProps,Ue)be[ue]===void 0&&(be[ue]=Ue[ue]);return C(V,Re,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(V){return{$$typeof:m,render:V}},we.isValidElement=O,we.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:pe}},we.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},we.startTransition=function(V){var Z=N.T,ae={};N.T=ae;try{var ue=V(),be=N.S;be!==null&&be(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(_e,je)}catch(Re){je(Re)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),N.T=Z}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(V){return N.H.use(V)},we.useActionState=function(V,Z,ae){return N.H.useActionState(V,Z,ae)},we.useCallback=function(V,Z){return N.H.useCallback(V,Z)},we.useContext=function(V){return N.H.useContext(V)},we.useDebugValue=function(){},we.useDeferredValue=function(V,Z){return N.H.useDeferredValue(V,Z)},we.useEffect=function(V,Z){return N.H.useEffect(V,Z)},we.useEffectEvent=function(V){return N.H.useEffectEvent(V)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(V,Z,ae){return N.H.useImperativeHandle(V,Z,ae)},we.useInsertionEffect=function(V,Z){return N.H.useInsertionEffect(V,Z)},we.useLayoutEffect=function(V,Z){return N.H.useLayoutEffect(V,Z)},we.useMemo=function(V,Z){return N.H.useMemo(V,Z)},we.useOptimistic=function(V,Z){return N.H.useOptimistic(V,Z)},we.useReducer=function(V,Z,ae){return N.H.useReducer(V,Z,ae)},we.useRef=function(V){return N.H.useRef(V)},we.useState=function(V){return N.H.useState(V)},we.useSyncExternalStore=function(V,Z,ae){return N.H.useSyncExternalStore(V,Z,ae)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var yv;function jp(){return yv||(yv=1,km.exports=fA()),km.exports}var B=jp(),Vm={exports:{}},Wl={},Pm={exports:{}},Um={};var _v;function dA(){return _v||(_v=1,(function(i){function e(X,se){var pe=X.length;X.push(se);e:for(;0<pe;){var je=pe-1>>>1,Ge=X[je];if(0<o(Ge,se))X[je]=se,X[pe]=Ge,pe=je;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],pe=X.pop();if(pe!==se){X[0]=pe;e:for(var je=0,Ge=X.length,V=Ge>>>1;je<V;){var Z=2*(je+1)-1,ae=X[Z],ue=Z+1,be=X[ue];if(0>o(ae,pe))ue<Ge&&0>o(be,ae)?(X[je]=be,X[ue]=pe,je=ue):(X[je]=ae,X[Z]=pe,je=Z);else if(ue<Ge&&0>o(be,pe))X[je]=be,X[ue]=pe,je=ue;else break e}}return se}function o(X,se){var pe=X.sortIndex-se.sortIndex;return pe!==0?pe:X.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,T=null,A=3,M=!1,F=!1,K=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=X)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Ee(X){if(K=!1,fe(X),!F)if(n(p)!==null)F=!0,_e||(_e=!0,U());else{var se=n(g);se!==null&&Mt(Ee,se.startTime-X)}}var _e=!1,N=-1,x=5,C=-1;function R(){return L?!0:!(i.unstable_now()-C<x)}function O(){if(L=!1,_e){var X=i.unstable_now();C=X;var se=!0;try{e:{F=!1,K&&(K=!1,ne(N),N=-1),M=!0;var pe=A;try{t:{for(fe(X),T=n(p);T!==null&&!(T.expirationTime>X&&R());){var je=T.callback;if(typeof je=="function"){T.callback=null,A=T.priorityLevel;var Ge=je(T.expirationTime<=X);if(X=i.unstable_now(),typeof Ge=="function"){T.callback=Ge,fe(X),se=!0;break t}T===n(p)&&s(p),fe(X)}else s(p);T=n(p)}if(T!==null)se=!0;else{var V=n(g);V!==null&&Mt(Ee,V.startTime-X),se=!1}}break e}finally{T=null,A=pe,M=!1}se=void 0}}finally{se?U():_e=!1}}}var U;if(typeof ie=="function")U=function(){ie(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,at=I.port2;I.port1.onmessage=O,U=function(){at.postMessage(null)}}else U=function(){J(O,0)};function Mt(X,se){N=J(function(){X(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var pe=A;A=se;try{return X()}finally{A=pe}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=A;A=X;try{return se()}finally{A=pe}},i.unstable_scheduleCallback=function(X,se,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,X={id:b++,callback:se,priorityLevel:X,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>je?(X.sortIndex=pe,e(g,X),n(p)===null&&X===n(g)&&(K?(ne(N),N=-1):K=!0,Mt(Ee,pe-je))):(X.sortIndex=Ge,e(p,X),F||M||(F=!0,_e||(_e=!0,U()))),X},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(X){var se=A;return function(){var pe=A;A=se;try{return X.apply(this,arguments)}finally{A=pe}}}})(Um)),Um}var vv;function mA(){return vv||(vv=1,Pm.exports=dA()),Pm.exports}var Lm={exports:{}},Zt={};var Ev;function pA(){if(Ev)return Zt;Ev=1;var i=jp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Zt.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var bv;function gA(){if(bv)return Lm.exports;bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Lm.exports=pA(),Lm.exports}var Tv;function yA(){if(Tv)return Wl;Tv=1;var i=mA(),e=jp(),n=gA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function at(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case J:return"Profiler";case L:return"StrictMode";case Ee:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:at(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return at(t(r))}catch{}}return null}var Mt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function V(t){return{current:t}}function Z(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function ae(t,r){Ge++,je[Ge]=t.current,t.current=r}var ue=V(null),be=V(null),Re=V(null),Ue=V(null);function kt(t,r){switch(ae(Re,r),ae(be,t),ae(ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?U0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=U0(r),t=L0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function ot(){Z(ue),Z(be),Z(Re)}function xs(t){t.memoizedState!==null&&ae(Ue,t);var r=ue.current,a=L0(r,t.type);r!==a&&(ae(be,t),ae(ue,a))}function wa(t){be.current===t&&(Z(ue),Z(be)),Ue.current===t&&(Z(Ue),Yl._currentValue=pe)}var Sa,Aa;function hi(t){if(Sa===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Sa=r&&r[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+t+Aa}var Yo=!1;function Rs(t,r){if(!t||Yo)return"";Yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Y){var H=Y}Reflect.construct(t,[],W)}else{try{W.call()}catch(Y){H=Y}t.call(W.prototype)}}else{try{throw Error()}catch(Y){H=Y}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var D=_.split(`
`),q=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===q.length)for(l=D.length-1,f=q.length-1;1<=l&&0<=f&&D[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==q[f]){var Q=`
`+D[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Yo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Qo(t,r){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==r&&r!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return hi("Activity");default:return""}}function Ko(t){try{var r="",a=null;do r+=Qo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Tr=i.unstable_cancelCallback,Vf=i.unstable_shouldYield,Bu=i.unstable_requestPaint,sn=i.unstable_now,Cs=i.unstable_getCurrentPriorityLevel,Xo=i.unstable_ImmediatePriority,$o=i.unstable_UserBlockingPriority,wr=i.unstable_NormalPriority,Pf=i.unstable_LowPriority,qu=i.unstable_IdlePriority,Hu=i.log,Fu=i.unstable_setDisableYieldValue,Yn=null,Ht=null;function In(t){if(typeof Hu=="function"&&Fu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var gt=Math.clz32?Math.clz32:Yu,Gu=Math.log,xa=Math.LN2;function Yu(t){return t>>>=0,t===0?32:31-(Gu(t)/xa|0)|0}var fi=256,Ns=262144,Tt=4194304;function di(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=di(l):(_&=w,_!==0?f=di(_):a||(a=w&~t,a!==0&&(f=di(a))))):(w=l&~d,w!==0?f=di(w):_!==0?f=di(_):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Qn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Uf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function pi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Is(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-gt(a),W=1<<Q;w[Q]=0,D[Q]=-1;var H=q[Q];if(H!==null)for(q[Q]=null,Q=0;Q<H.length;Q++){var Y=H[Q];Y!==null&&(Y.lane&=-536870913)}a&=~W}l!==0&&Ds(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function Ds(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Wo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Jo(t,r){var a=r&-r;return a=(a&42)!==0?1:Os(a),(a&(t.suspendedLanes|r))!==0?0:a}function Os(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ku(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:ov(t.type))}function Kn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Xn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Xn,Lt="__reactProps$"+Xn,gi="__reactContainer$"+Xn,Ra="__reactEvents$"+Xn,jf="__reactListeners$"+Xn,Xu="__reactHandles$"+Xn,$u="__reactResources$"+Xn,yi="__reactMarker$"+Xn;function Ca(t){delete t[wt],delete t[Lt],delete t[Ra],delete t[jf],delete t[Xu]}function _i(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gi]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=G0(t);t!==null;){if(a=t[wt])return a;t=G0(t)}return r}t=a,a=t.parentNode}return null}function Dn(t){if(t=t[wt]||t[gi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function vi(t){var r=t[$u];return r||(r=t[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(t){t[yi]=!0}var Zo=new Set,el={};function Ei(t,r){bi(t,r),bi(t+"Capture",r)}function bi(t,r){for(el[t]=r,t=0;t<r.length;t++)Zo.add(r[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function Wu(t){return bt.call(il,t)?!0:bt.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Na(t,r,a){if(Wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function En(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function At(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ye(t){if(!t._valueTracker){var r=Sr(t)?"checked":"value";t._valueTracker=rl(t,r,""+t[r])}}function Ms(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ks=/[\n"\\]/g;function un(t){return t.replace(ks,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ia(t,r,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+jt(r)):t.value!==""+jt(r)&&(t.value=""+jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?sl(t,_,jt(r)):a!=null?sl(t,_,jt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+jt(w):t.removeAttribute("name")}function Ju(t,r,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ye(t);return}a=a!=null?""+jt(a):"",r=r!=null?""+jt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function sl(t,r,a){r==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Zu(t,r,a){if(r!=null&&(r=""+jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+jt(a):""}function xr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ec.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ol(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&al(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&al(t,d,r[d])}function Da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Rr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var ll=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,wi=null;function Vs(t){var r=Dn(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ia(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Ia(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ms(l)}break e;case"textarea":Zu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ar(t,!!a.multiple,r,!1)}}}var Ma=!1;function Nr(t,r,a){if(Ma)return t(r,a);Ma=!0;try{var l=t(r);return l}finally{if(Ma=!1,(Cr!==null||wi!==null)&&(Kc(),Cr&&(r=Cr,t=wi,wi=Cr=null,Vs(r),t)))for(r=0;r<t.length;r++)Vs(t[r])}}function Wn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Mn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ps=!1}var Si=null,ul=null,Us=null;function cl(){if(Us)return Us;var t,r=ul,a=r.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Us=f.slice(t,1<l?1-l:void 0)}function Ls(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function Jn(){return!1}function Ft(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:Jn,this.isPropagationStopped=Jn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Ft(Xi),Ir=T({},Xi,{view:0,detail:0}),hl=Ft(Ir),Dr,ka,xi,Va=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Dr=t.screenX-xi.screenX,ka=t.screenY-xi.screenY):ka=Dr=0,xi=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),fl=Ft(Va),js=T({},Va,{dataTransfer:0}),nc=Ft(js),ic=T({},Ir,{relatedTarget:0}),zs=Ft(ic),dl=T({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Ft(dl),Pa=T({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sc=Ft(Pa),ac=T({},Xi,{data:0}),Ri=Ft(ac),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=uc[t])?!!r[t]:!1}function Or(){return cc}var an=T({},Ir,{key:function(t){if(t.key){var r=oc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hc=Ft(an),fc=T({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ft(fc),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Ft(c),v=T({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(v),j=T({},Va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ft(j),re=T({},Xi,{newState:0,oldState:0}),Ae=Ft(re),yt=[9,13,27,32],qe=Mn&&"CompositionEvent"in window,lt=null;Mn&&"documentMode"in document&&(lt=document.documentMode);var kn=Mn&&"TextEvent"in window&&!lt,Ci=Mn&&(!qe||lt&&8<lt&&11>=lt),Zn=" ",ei=!1;function Bs(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var La=!1;function k1(t,r){switch(t){case"compositionend":return Ua(r);case"keypress":return r.which!==32?null:(ei=!0,Zn);case"textInput":return t=r.data,t===Zn&&ei?null:t;default:return null}}function V1(t,r){if(La)return t==="compositionend"||!qe&&Bs(t,r)?(t=cl(),Us=ul=Si=null,La=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!P1[t.type]:r==="textarea"}function Xg(t,r,a,l){Cr?wi?wi.push(l):wi=[l]:Cr=l,r=th(r,"onChange"),0<r.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ml=null,pl=null;function U1(t){D0(t,0)}function dc(t){var r=vn(t);if(Ms(r))return t}function $g(t,r){if(t==="change")return r}var Wg=!1;if(Mn){var zf;if(Mn){var Bf="oninput"in document;if(!Bf){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Bf=typeof Jg.oninput=="function"}zf=Bf}else zf=!1;Wg=zf&&(!document.documentMode||9<document.documentMode)}function Zg(){ml&&(ml.detachEvent("onpropertychange",ey),pl=ml=null)}function ey(t){if(t.propertyName==="value"&&dc(pl)){var r=[];Xg(r,pl,t,On(t)),Nr(U1,r)}}function L1(t,r,a){t==="focusin"?(Zg(),ml=r,pl=a,ml.attachEvent("onpropertychange",ey)):t==="focusout"&&Zg()}function j1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(pl)}function z1(t,r){if(t==="click")return dc(r)}function B1(t,r){if(t==="input"||t==="change")return dc(r)}function q1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:q1;function gl(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!bn(t[f],r[f]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,r){var a=ty(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ty(a)}}function iy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?iy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ry(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ti(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ti(t.document)}return r}function qf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var H1=Mn&&"documentMode"in document&&11>=document.documentMode,ja=null,Hf=null,yl=null,Ff=!1;function sy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ff||ja==null||ja!==Ti(l)||(l=ja,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=th(Hf,"onSelect"),0<l.length&&(r=new Ai("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ja)))}function qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var za={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Gf={},ay={};Mn&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Hs(t){if(Gf[t])return Gf[t];if(!za[t])return t;var r=za[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ay)return Gf[t]=r[a];return t}var oy=Hs("animationend"),ly=Hs("animationiteration"),uy=Hs("animationstart"),F1=Hs("transitionrun"),G1=Hs("transitionstart"),Y1=Hs("transitioncancel"),cy=Hs("transitionend"),hy=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function ti(t,r){hy.set(t,r),Ei(r,[t])}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ba=0,Qf=0;function pc(){for(var t=Ba,r=Qf=Ba=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&fy(a,f,d)}}function gc(t,r,a,l){Vn[Ba++]=t,Vn[Ba++]=r,Vn[Ba++]=a,Vn[Ba++]=l,Qf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kf(t,r,a,l){return gc(t,r,a,l),yc(t)}function Fs(t,r){return gc(t,null,null,r),yc(t)}function fy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function yc(t){if(50<jl)throw jl=0,im=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var qa={};function Q1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,a,l){return new Q1(t,r,a,l)}function Xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,r){var a=t.alternate;return a===null?(a=Tn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function dy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function _c(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Xf(t)&&(_=1);else if(typeof t=="string")_=JS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,r,f),t.elementType=C,t.lanes=d,t;case K:return Gs(a.children,f,d,r);case L:_=8,f|=24;break;case J:return t=Tn(12,a,r,f|2),t.elementType=J,t.lanes=d,t;case Ee:return t=Tn(13,a,r,f),t.elementType=Ee,t.lanes=d,t;case _e:return t=Tn(19,a,r,f),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case fe:_=11;break e;case N:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Tn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Gs(t,r,a,l){return t=Tn(7,t,l,r),t.lanes=a,t}function $f(t,r,a){return t=Tn(6,t,null,r),t.lanes=a,t}function my(t){var r=Tn(18,null,null,0);return r.stateNode=t,r}function Wf(t,r,a){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var py=new WeakMap;function Pn(t,r){if(typeof t=="object"&&t!==null){var a=py.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ko(r)},py.set(t,r),r)}return{value:t,source:r,stack:Ko(r)}}var Ha=[],Fa=0,vc=null,_l=0,Un=[],Ln=0,Mr=null,Ni=1,Ii="";function Ji(t,r){Ha[Fa++]=_l,Ha[Fa++]=vc,vc=t,_l=r}function gy(t,r,a){Un[Ln++]=Ni,Un[Ln++]=Ii,Un[Ln++]=Mr,Mr=t;var l=Ni;t=Ii;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ni=1<<32-gt(r)+f|a<<f|l,Ii=d+t}else Ni=1<<d|a<<f|l,Ii=t}function Jf(t){t.return!==null&&(Ji(t,1),gy(t,1,0))}function Zf(t){for(;t===vc;)vc=Ha[--Fa],Ha[Fa]=null,_l=Ha[--Fa],Ha[Fa]=null;for(;t===Mr;)Mr=Un[--Ln],Un[Ln]=null,Ii=Un[--Ln],Un[Ln]=null,Ni=Un[--Ln],Un[Ln]=null}function yy(t,r){Un[Ln++]=Ni,Un[Ln++]=Ii,Un[Ln++]=Mr,Ni=r.id,Ii=r.overflow,Mr=t}var Gt=null,nt=null,Pe=!1,kr=null,jn=!1,ed=Error(s(519));function Vr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Pn(r,t)),ed}function _y(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[wt]=t,r[Lt]=l,a){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Ie(Bl[a],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Ie("invalid",r),Ju(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ie("invalid",r);break;case"textarea":Ie("invalid",r),xr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||V0(r.textContent,a)?(l.popover!=null&&(Ie("beforetoggle",r),Ie("toggle",r)),l.onScroll!=null&&Ie("scroll",r),l.onScrollEnd!=null&&Ie("scrollend",r),l.onClick!=null&&(r.onclick=$n),r=!0):r=!1,r||Vr(t,!0)}function vy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Gt=Gt.return}}function Ga(t){if(t!==Gt)return!1;if(!Pe)return vy(t),Pe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||_m(t.type,t.memoizedProps)),a=!a),a&&nt&&Vr(t),vy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=F0(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=F0(t)}else r===27?(r=nt,Xr(t.type)?(t=wm,wm=null,nt=t):nt=r):nt=Gt?Bn(t.stateNode.nextSibling):null;return!0}function Ys(){nt=Gt=null,Pe=!1}function td(){var t=kr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),kr=null),t}function vl(t){kr===null?kr=[t]:kr.push(t)}var nd=V(null),Qs=null,Zi=null;function Pr(t,r,a){ae(nd,r._currentValue),r._currentValue=a}function er(t){t._currentValue=nd.current,Z(nd)}function id(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function rd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var D=0;D<r.length;D++)if(w.context===r[D]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),id(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),id(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ya(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;bn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}f=f.return}t!==null&&rd(r,t,a,l),r.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){Qs=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Ey(Qs,t)}function bc(t,r){return Qs===null&&Ks(t),Ey(t,r)}function Ey(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zi=Zi.next=r;return a}var K1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},X1=i.unstable_scheduleCallback,$1=i.unstable_NormalPriority,xt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new K1,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&X1($1,function(){t.controller.abort()})}var bl=null,ad=0,Qa=0,Ka=null;function W1(t,r){if(bl===null){var a=bl=[];ad=0,Qa=um(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ad++,r.then(by,by),r}function by(){if(--ad===0&&bl!==null){Ka!==null&&(Ka.status="fulfilled");var t=bl;bl=null,Qa=0,Ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function J1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ty=X.S;X.S=function(t,r){s0=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&W1(t,r),Ty!==null&&Ty(t,r)};var Xs=V(null);function od(){var t=Xs.current;return t!==null?t:et.pooledCache}function Tc(t,r){r===null?ae(Xs,Xs.current):ae(Xs,r.pool)}function wy(){var t=od();return t===null?null:{parent:xt._currentValue,pool:t}}var Xa=Error(s(460)),ld=Error(s(474)),wc=Error(s(542)),Sc={then:function(){}};function Sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ay(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then($n,$n),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ry(t),t;default:if(typeof r.status=="string")r.then($n,$n);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ry(t),t}throw Ws=r,Xa}}function $s(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Xa):a}}var Ws=null;function xy(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function Ry(t){if(t===Xa||t===wc)throw Error(s(483))}var $a=null,Tl=0;function Ac(t){var r=Tl;return Tl+=1,$a===null&&($a=[]),Ay($a,t,r)}function wl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function xc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Cy(t){function r(P,k){if(t){var z=P.deletions;z===null?(P.deletions=[k],P.flags|=16):z.push(k)}}function a(P,k){if(!t)return null;for(;k!==null;)r(P,k),k=k.sibling;return null}function l(P){for(var k=new Map;P!==null;)P.key!==null?k.set(P.key,P):k.set(P.index,P),P=P.sibling;return k}function f(P,k){return P=Wi(P,k),P.index=0,P.sibling=null,P}function d(P,k,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<k?(P.flags|=67108866,k):z):(P.flags|=67108866,k)):(P.flags|=1048576,k)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function w(P,k,z,$){return k===null||k.tag!==6?(k=$f(z,P.mode,$),k.return=P,k):(k=f(k,z),k.return=P,k)}function D(P,k,z,$){var de=z.type;return de===K?Q(P,k,z.props.children,$,z.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&$s(de)===k.type)?(k=f(k,z.props),wl(k,z),k.return=P,k):(k=_c(z.type,z.key,z.props,null,P.mode,$),wl(k,z),k.return=P,k)}function q(P,k,z,$){return k===null||k.tag!==4||k.stateNode.containerInfo!==z.containerInfo||k.stateNode.implementation!==z.implementation?(k=Wf(z,P.mode,$),k.return=P,k):(k=f(k,z.children||[]),k.return=P,k)}function Q(P,k,z,$,de){return k===null||k.tag!==7?(k=Gs(z,P.mode,$,de),k.return=P,k):(k=f(k,z),k.return=P,k)}function W(P,k,z){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=$f(""+k,P.mode,z),k.return=P,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case M:return z=_c(k.type,k.key,k.props,null,P.mode,z),wl(z,k),z.return=P,z;case F:return k=Wf(k,P.mode,z),k.return=P,k;case x:return k=$s(k),W(P,k,z)}if(Mt(k)||U(k))return k=Gs(k,P.mode,z,null),k.return=P,k;if(typeof k.then=="function")return W(P,Ac(k),z);if(k.$$typeof===ie)return W(P,bc(P,k),z);xc(P,k)}return null}function H(P,k,z,$){var de=k!==null?k.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:w(P,k,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===de?D(P,k,z,$):null;case F:return z.key===de?q(P,k,z,$):null;case x:return z=$s(z),H(P,k,z,$)}if(Mt(z)||U(z))return de!==null?null:Q(P,k,z,$,null);if(typeof z.then=="function")return H(P,k,Ac(z),$);if(z.$$typeof===ie)return H(P,k,bc(P,z),$);xc(P,z)}return null}function Y(P,k,z,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,w(k,P,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case M:return P=P.get($.key===null?z:$.key)||null,D(k,P,$,de);case F:return P=P.get($.key===null?z:$.key)||null,q(k,P,$,de);case x:return $=$s($),Y(P,k,z,$,de)}if(Mt($)||U($))return P=P.get(z)||null,Q(k,P,$,de,null);if(typeof $.then=="function")return Y(P,k,z,Ac($),de);if($.$$typeof===ie)return Y(P,k,z,bc(k,$),de);xc(k,$)}return null}function ce(P,k,z,$){for(var de=null,ze=null,he=k,Ce=k=0,Oe=null;he!==null&&Ce<z.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=H(P,he,z[Ce],$);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&r(P,he),k=d(Be,k,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===z.length)return a(P,he),Pe&&Ji(P,Ce),de;if(he===null){for(;Ce<z.length;Ce++)he=W(P,z[Ce],$),he!==null&&(k=d(he,k,Ce),ze===null?de=he:ze.sibling=he,ze=he);return Pe&&Ji(P,Ce),de}for(he=l(he);Ce<z.length;Ce++)Oe=Y(he,P,Ce,z[Ce],$),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),k=d(Oe,k,Ce),ze===null?de=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(es){return r(P,es)}),Pe&&Ji(P,Ce),de}function ge(P,k,z,$){if(z==null)throw Error(s(151));for(var de=null,ze=null,he=k,Ce=k=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ce++,Be=z.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var es=H(P,he,Be.value,$);if(es===null){he===null&&(he=Oe);break}t&&he&&es.alternate===null&&r(P,he),k=d(es,k,Ce),ze===null?de=es:ze.sibling=es,ze=es,he=Oe}if(Be.done)return a(P,he),Pe&&Ji(P,Ce),de;if(he===null){for(;!Be.done;Ce++,Be=z.next())Be=W(P,Be.value,$),Be!==null&&(k=d(Be,k,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return Pe&&Ji(P,Ce),de}for(he=l(he);!Be.done;Ce++,Be=z.next())Be=Y(he,P,Ce,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),k=d(Be,k,Ce),ze===null?de=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(uA){return r(P,uA)}),Pe&&Ji(P,Ce),de}function Ze(P,k,z,$){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:e:{for(var de=z.key;k!==null;){if(k.key===de){if(de=z.type,de===K){if(k.tag===7){a(P,k.sibling),$=f(k,z.props.children),$.return=P,P=$;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&$s(de)===k.type){a(P,k.sibling),$=f(k,z.props),wl($,z),$.return=P,P=$;break e}a(P,k);break}else r(P,k);k=k.sibling}z.type===K?($=Gs(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=_c(z.type,z.key,z.props,null,P.mode,$),wl($,z),$.return=P,P=$)}return _(P);case F:e:{for(de=z.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===z.containerInfo&&k.stateNode.implementation===z.implementation){a(P,k.sibling),$=f(k,z.children||[]),$.return=P,P=$;break e}else{a(P,k);break}else r(P,k);k=k.sibling}$=Wf(z,P.mode,$),$.return=P,P=$}return _(P);case x:return z=$s(z),Ze(P,k,z,$)}if(Mt(z))return ce(P,k,z,$);if(U(z)){if(de=U(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ge(P,k,z,$)}if(typeof z.then=="function")return Ze(P,k,Ac(z),$);if(z.$$typeof===ie)return Ze(P,k,bc(P,z),$);xc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,k!==null&&k.tag===6?(a(P,k.sibling),$=f(k,z),$.return=P,P=$):(a(P,k),$=$f(z,P.mode,$),$.return=P,P=$),_(P)):a(P,k)}return function(P,k,z,$){try{Tl=0;var de=Ze(P,k,z,$);return $a=null,de}catch(he){if(he===Xa||he===wc)throw he;var ze=Tn(29,he,null,P.mode);return ze.lanes=$,ze.return=P,ze}finally{}}}var Js=Cy(!0),Ny=Cy(!1),Ur=!1;function ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=yc(t),fy(t,null,a),r}return gc(t,l,r,a),yc(t)}function Sl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}function hd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var fd=!1;function Al(){if(fd){var t=Ka;if(t!==null)throw t}}function xl(t,r,a,l){fd=!1;var f=t.updateQueue;Ur=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==_&&(w===null?Q.firstBaseUpdate=q:w.next=q,Q.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;_=0,Q=q=D=null,w=d;do{var H=w.lane&-536870913,Y=H!==w.lane;if(Y?(De&H)===H:(l&H)===H){H!==0&&H===Qa&&(fd=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=t,ge=w;H=r;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){W=ce.call(Ze,W,H);break e}W=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,H=typeof ce=="function"?ce.call(Ze,W,H):ce,H==null)break e;W=T({},W,H);break e;case 2:Ur=!0}}H=w.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(q=Q=Y,D=W):Q=Q.next=Y,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Q===null&&(D=W),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=W}}function Iy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Dy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],r)}var Wa=V(null),Rc=V(0);function Oy(t,r){t=ur,ae(Rc,t),ae(Wa,r),ur=t|r.baseLanes}function dd(){ae(Rc,ur),ae(Wa,Wa.current)}function md(){ur=Rc.current,Z(Wa),Z(Rc)}var wn=V(null),zn=null;function zr(t){var r=t.alternate;ae(_t,_t.current&1),ae(wn,t),zn===null&&(r===null||Wa.current!==null||r.memoizedState!==null)&&(zn=t)}function pd(t){ae(_t,_t.current),ae(wn,t),zn===null&&(zn=t)}function My(t){t.tag===22?(ae(_t,_t.current),ae(wn,t),zn===null&&(zn=t)):Br()}function Br(){ae(_t,_t.current),ae(wn,wn.current)}function Sn(t){Z(wn),zn===t&&(zn=null),Z(_t)}var _t=V(0);function Cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bm(a)||Tm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tr=0,xe=null,We=null,Rt=null,Nc=!1,Ja=!1,Zs=!1,Ic=0,Rl=0,Za=null,Z1=0;function mt(){throw Error(s(321))}function gd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function yd(t,r,a,l,f,d){return tr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?g_:Od,Zs=!1,d=a(l,f),Zs=!1,Ja&&(d=Vy(r,a,l,f)),ky(t),d}function ky(t){X.H=Il;var r=We!==null&&We.next!==null;if(tr=0,Rt=We=xe=null,Nc=!1,Rl=0,Za=null,r)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&Ec(t)&&(Ct=!0))}function Vy(t,r,a,l){xe=t;var f=0;do{if(Ja&&(Za=null),Rl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=y_,d=r(a,l)}while(Ja);return d}function eS(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Cl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(xe.flags|=1024),r}function _d(){var t=Ic!==0;return Ic=0,t}function vd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Ed(t){if(Nc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Nc=!1}tr=0,Rt=We=xe=null,Ja=!1,Rl=Ic=0,Za=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?xe.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function vt(){if(We===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Rt===null?xe.memoizedState:Rt.next;if(r!==null)Rt=r,We=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?xe.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var r=Rl;return Rl+=1,Za===null&&(Za=[]),t=Ay(Za,t,r),r=xe,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?g_:Od),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===ie)return Yt(t)}throw Error(s(438,String(t)))}function bd(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Dc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=R;return r.index++,a}function nr(t,r){return typeof r=="function"?r(t):r}function Mc(t){var r=vt();return Td(r,We,t)}function Td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=_=null,D=null,q=r,Q=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(De&W)===W:(tr&W)===W){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===Qa&&(Q=!0);else if((tr&H)===H){q=q.next,H===Qa&&(Q=!0);continue}else W={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(w=D=W,_=d):D=D.next=W,xe.lanes|=H,Fr|=H;W=q.action,Zs&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(w=D=H,_=d):D=D.next=H,xe.lanes|=W,Fr|=W;q=q.next}while(q!==null&&q!==r);if(D===null?_=d:D.next=w,!bn(d,t.memoizedState)&&(Ct=!0,Q&&(a=Ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wd(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);bn(d,r.memoizedState)||(Ct=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Py(t,r,a){var l=xe,f=vt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!bn((We||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,xd(jy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},Ly.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(tr&127)!==0||Uy(l,r,a)}return a}function Uy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Dc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ly(t,r,a,l){r.value=a,r.getSnapshot=l,zy(r)&&By(t)}function jy(t,r,a){return a(function(){zy(r)&&By(t)})}function zy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function By(t){var r=Fs(t,2);r!==null&&pn(r,t,2)}function Sd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),Zs){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},r}function qy(t,r,a,l){return t.baseState=a,Td(t,We,typeof l=="function"?l:nr)}function tS(t,r,a,l,f){if(Pc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Hy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Hy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var w=a(f,l),D=X.S;D!==null&&D(_,w),Fy(t,r,w)}catch(q){Ad(t,r,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Fy(t,r,d)}catch(q){Ad(t,r,q)}}function Fy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gy(t,r,l)},function(l){return Ad(t,r,l)}):Gy(t,r,a)}function Gy(t,r,a){r.status="fulfilled",r.value=a,Yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Hy(t,a)))}function Ad(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yy(r),r=r.next;while(r!==l)}t.action=null}function Yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qy(t,r){return r}function Ky(t,r){if(Pe){var a=et.formState;if(a!==null){e:{var l=xe;if(Pe){if(nt){t:{for(var f=nt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){nt=Bn(f.nextSibling),l=f.data==="F!";break e}}Vr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},a.queue=l,a=d_.bind(null,xe,l),l.dispatch=a,l=Sd(!1),d=Dd.bind(null,xe,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=tS.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Xy(t){var r=vt();return $y(r,We,t)}function $y(t,r,a){if(r=Td(t,r,Qy)[0],t=Mc(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Cl(r)}catch(_){throw _===Xa?wc:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,eo(9,{destroy:void 0},nS.bind(null,f,a),null)),[l,d,t]}function nS(t,r){t.action=r}function Wy(t){var r=vt(),a=We;if(a!==null)return $y(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function eo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Dc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Jy(){return vt().memoizedState}function kc(t,r,a,l){var f=on();xe.flags|=t,f.memoizedState=eo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Vc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&gd(l,We.memoizedState.deps)?f.memoizedState=eo(r,d,a,l):(xe.flags|=t,f.memoizedState=eo(1|r,d,a,l))}function Zy(t,r){kc(8390656,8,t,r)}function xd(t,r){Vc(2048,8,t,r)}function iS(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Dc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function e_(t){var r=vt().memoizedState;return iS({ref:r,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function t_(t,r){return Vc(4,2,t,r)}function n_(t,r){return Vc(4,4,t,r)}function i_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function r_(t,r,a){a=a!=null?a.concat([t]):null,Vc(4,4,i_.bind(null,r,t),a)}function Rd(){}function s_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&gd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function a_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&gd(r,l[1]))return l[0];if(l=t(),Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l}function Cd(t,r,a){return a===void 0||(tr&1073741824)!==0&&(De&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=o0(),xe.lanes|=t,Fr|=t,a)}function o_(t,r,a,l){return bn(a,r)?a:Wa.current!==null?(t=Cd(t,a,l),bn(t,r)||(Ct=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(De&261930)===0?(Ct=!0,t.memoizedState=a):(t=o0(),xe.lanes|=t,Fr|=t,r)}function l_(t,r,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,w={};X.T=w,Dd(t,!1,r,a);try{var D=f(),q=X.S;if(q!==null&&q(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=J1(D,l);Nl(t,r,Q,Rn(t))}else Nl(t,r,l,Rn(t))}catch(W){Nl(t,r,{then:function(){},status:"rejected",reason:W},Rn())}finally{se.p=d,_!==null&&w.types!==null&&(_.types=w.types),X.T=_}}function rS(){}function Nd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=u_(t).queue;l_(t,f,r,pe,a===null?rS:function(){return c_(t),a(l)})}function u_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function c_(t){var r=u_(t);r.next===null&&(r=t.alternate.memoizedState),Nl(t,r.next.queue,{},Rn())}function Id(){return Yt(Yl)}function h_(){return vt().memoizedState}function f_(){return vt().memoizedState}function sS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();t=Lr(a);var l=jr(r,t,a);l!==null&&(pn(l,r,a),Sl(l,r,a)),r={cache:sd()},t.payload=r;return}r=r.return}}function aS(t,r,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pc(t)?m_(r,a):(a=Kf(t,r,a,l),a!==null&&(pn(a,t,l),p_(a,r,l)))}function d_(t,r,a){var l=Rn();Nl(t,r,a,l)}function Nl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pc(t))m_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,bn(w,_))return gc(t,r,f,0),et===null&&pc(),!1}catch{}finally{}if(a=Kf(t,r,f,l),a!==null)return pn(a,t,l),p_(a,r,l),!0}return!1}function Dd(t,r,a,l){if(l={lane:2,revertLane:um(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pc(t)){if(r)throw Error(s(479))}else r=Kf(t,a,l,2),r!==null&&pn(r,t,2)}function Pc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function m_(t,r){Ja=Nc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function p_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Wo(t,a)}}var Il={readContext:Yt,use:Oc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Il.useEffectEvent=mt;var g_={readContext:Yt,use:Oc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Zy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,kc(4194308,4,i_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return kc(4194308,4,t,r)},useInsertionEffect:function(t,r){kc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(Zs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(Zs){In(!0);try{a(r)}finally{In(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=aS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=Sd(t);var r=t.queue,a=d_.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Rd,useDeferredValue:function(t,r){var a=on();return Cd(a,t,r)},useTransition:function(){var t=Sd(!1);return t=l_.bind(null,xe,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(De&127)!==0||Uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Zy(jy.bind(null,l,d,t),[t]),l.flags|=2048,eo(9,{destroy:void 0},Ly.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=et.identifierPrefix;if(Pe){var a=Ii,l=Ni;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ic++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Z1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Id,useFormState:Ky,useActionState:Ky,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Dd.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:bd,useCacheRefresh:function(){return on().memoizedState=sS.bind(null,xe)},useEffectEvent:function(t){var r=on(),a={impl:t};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Od={readContext:Yt,use:Oc,useCallback:s_,useContext:Yt,useEffect:xd,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:Mc,useRef:Jy,useState:function(){return Mc(nr)},useDebugValue:Rd,useDeferredValue:function(t,r){var a=vt();return o_(a,We.memoizedState,t,r)},useTransition:function(){var t=Mc(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:Py,useId:h_,useHostTransitionStatus:Id,useFormState:Xy,useActionState:Xy,useOptimistic:function(t,r){var a=vt();return qy(a,We,t,r)},useMemoCache:bd,useCacheRefresh:f_};Od.useEffectEvent=e_;var y_={readContext:Yt,use:Oc,useCallback:s_,useContext:Yt,useEffect:xd,useImperativeHandle:r_,useInsertionEffect:t_,useLayoutEffect:n_,useMemo:a_,useReducer:wd,useRef:Jy,useState:function(){return wd(nr)},useDebugValue:Rd,useDeferredValue:function(t,r){var a=vt();return We===null?Cd(a,t,r):o_(a,We.memoizedState,t,r)},useTransition:function(){var t=wd(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:Py,useId:h_,useHostTransitionStatus:Id,useFormState:Wy,useActionState:Wy,useOptimistic:function(t,r){var a=vt();return We!==null?qy(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bd,useCacheRefresh:f_};y_.useEffectEvent=e_;function Md(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var kd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Lr(l);f.payload=r,a!=null&&(f.callback=a),r=jr(t,f,l),r!==null&&(pn(r,t,l),Sl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Rn(),f=Lr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=jr(t,f,l),r!==null&&(pn(r,t,l),Sl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Rn(),l=Lr(a);l.tag=2,r!=null&&(l.callback=r),r=jr(t,l,a),r!==null&&(pn(r,t,a),Sl(r,t,a))}};function __(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(f,d):!0}function v_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&kd.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function E_(t){mc(t)}function b_(t){console.error(t)}function T_(t){mc(t)}function Uc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function w_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vd(t,r,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Uc(t,r)},a}function S_(t){return t=Lr(t),t.tag=3,t}function A_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){w_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){w_(r,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function oS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ya(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Xc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Sc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),am(t,l,f)),!1;case 22:return a.flags|=65536,l===Sc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),am(t,l,f)),!1}throw Error(s(435,a.tag))}return am(t,l,f),Xc(),!1}if(Pe)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ed&&(t=Error(s(422),{cause:l}),vl(Pn(t,a)))):(l!==ed&&(r=Error(s(423),{cause:l}),vl(Pn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Pn(l,a),f=Vd(t.stateNode,l,f),hd(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),Ll===null?Ll=[d]:Ll.push(d),pt!==4&&(pt=2),r===null)return!0;l=Pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Vd(a.stateNode,l,t),hd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=S_(f),A_(f,t,a,l),hd(a,f),!1}a=a.return}while(a!==null);return!1}var Pd=Error(s(461)),Ct=!1;function Qt(t,r,a,l){r.child=t===null?Ny(r,null,a,l):Js(r,t.child,a,l)}function x_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ks(r),l=yd(t,r,a,_,d,f),w=_d(),t!==null&&!Ct?(vd(t,r,f),ir(t,r,f)):(Pe&&w&&Jf(r),r.flags|=1,Qt(t,r,l,f),r.child)}function R_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,C_(t,r,d,l,f)):(t=_c(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Fd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(_,l)&&t.ref===r.ref)return ir(t,r,f)}return r.flags|=1,t=Wi(d,l),t.ref=r.ref,t.return=r,r.child=t}function C_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(gl(d,l)&&t.ref===r.ref)if(Ct=!1,r.pendingProps=l=d,Fd(t,f))(t.flags&131072)!==0&&(Ct=!0);else return r.lanes=t.lanes,ir(t,r,f)}return Ud(t,r,a,l,f)}function N_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return I_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Tc(r,d!==null?d.cachePool:null),d!==null?Oy(r,d):dd(),My(r);else return l=r.lanes=536870912,I_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Tc(r,d.cachePool),Oy(r,d),Br(),r.memoizedState=null):(t!==null&&Tc(r,null),dd(),Br());return Qt(t,r,f,a),r.child}function Dl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function I_(t,r,a,l,f){var d=od();return d=d===null?null:{parent:xt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Tc(r,null),dd(),My(r),t!==null&&Ya(t,r,l,!0),r.childLanes=f,null}function Lc(t,r){return r=zc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function D_(t,r,a){return Js(r,t.child,null,a),t=Lc(r,r.pendingProps),t.flags|=2,Sn(r),r.memoizedState=null,t}function lS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=Lc(r,l),r.lanes=536870912,Dl(null,t);if(pd(r),(t=nt)?(t=H0(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Vr(r);return r.lanes=536870912,null}return Lc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(pd(r),f)if(r.flags&256)r.flags&=-257,r=D_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ct||Ya(t,r,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(l=et,l!==null&&(_=Jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Fs(t,_),pn(l,t,_),Pd;Xc(),r=D_(t,r,a)}else t=d.treeContext,nt=Bn(_.nextSibling),Gt=r,Pe=!0,kr=null,jn=!1,t!==null&&yy(r,t),r=Lc(r,l),r.flags|=4096;return r}return t=Wi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function jc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Ud(t,r,a,l,f){return Ks(r),a=yd(t,r,a,l,void 0,f),l=_d(),t!==null&&!Ct?(vd(t,r,f),ir(t,r,f)):(Pe&&l&&Jf(r),r.flags|=1,Qt(t,r,a,f),r.child)}function O_(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=Vy(r,l,a,f),ky(t),l=_d(),t!==null&&!Ct?(vd(t,r,d),ir(t,r,d)):(Pe&&l&&Jf(r),r.flags|=1,Qt(t,r,a,d),r.child)}function M_(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=qa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ud(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):qa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Md(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kd.enqueueReplaceState(d,d.state,null),xl(r,l,d,f),Al(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,D=ea(a,w);d.props=D;var q=d.context,Q=a.contextType;_=qa,typeof Q=="object"&&Q!==null&&(_=Yt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==_)&&v_(r,d,l,_),Ur=!1;var H=r.memoizedState;d.state=H,xl(r,l,d,f),Al(),q=r.memoizedState,w||H!==q||Ur?(typeof W=="function"&&(Md(r,a,W,l),q=r.memoizedState),(D=Ur||__(r,a,D,l,H,q,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,cd(t,r),_=r.memoizedProps,Q=ea(a,_),d.props=Q,W=r.pendingProps,H=d.context,q=a.contextType,D=qa,typeof q=="object"&&q!==null&&(D=Yt(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==D)&&v_(r,d,l,D),Ur=!1,H=r.memoizedState,d.state=H,xl(r,l,d,f),Al();var Y=r.memoizedState;_!==W||H!==Y||Ur||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof w=="function"&&(Md(r,a,w,l),Y=r.memoizedState),(Q=Ur||__(r,a,Q,l,H,Y,D)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,jc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Js(r,t.child,null,f),r.child=Js(r,null,a,f)):Qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ir(t,r,f),t}function k_(t,r,a,l){return Ys(),r.flags|=256,Qt(t,r,a,l),r.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jd(t){return{baseLanes:t,cachePool:wy()}}function zd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=xn),t}function V_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Pe){if(f?zr(r):Br(),(t=nt)?(t=H0(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ni,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=my(t),a.return=r,r.child=a,Gt=r,nt=null)):t=null,t===null)throw Vr(r);return Tm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Br(),f=r.mode,w=zc({mode:"hidden",children:w},f),l=Gs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=jd(a),l.childLanes=zd(t,_,a),r.memoizedState=Ld,Dl(null,l)):(zr(r),Bd(r,w))}var D=t.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(d)r.flags&256?(zr(r),r.flags&=-257,r=qd(t,r,a)):r.memoizedState!==null?(Br(),r.child=t.child,r.flags|=128,r=null):(Br(),w=l.fallback,f=r.mode,l=zc({mode:"visible",children:l.children},f),w=Gs(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Js(r,t.child,null,a),l=r.child,l.memoizedState=jd(a),l.childLanes=zd(t,_,a),r.memoizedState=Ld,r=Dl(null,l));else if(zr(r),Tm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),r=qd(t,r,a)}else if(Ct||Ya(t,r,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=et,_!==null&&(l=Jo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Fs(t,l),pn(_,t,l),Pd;bm(w)||Xc(),r=qd(t,r,a)}else bm(w)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,nt=Bn(w.nextSibling),Gt=r,Pe=!0,kr=null,jn=!1,t!==null&&yy(r,t),r=Bd(r,l.children),r.flags|=4096);return r}return f?(Br(),w=l.fallback,f=r.mode,D=t.child,q=D.sibling,l=Wi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?w=Wi(q,w):(w=Gs(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Dl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=jd(a):(f=w.cachePool,f!==null?(D=xt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=wy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=zd(t,_,a),r.memoizedState=Ld,Dl(t.child,l)):(zr(r),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Bd(t,r){return r=zc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function zc(t,r){return t=Tn(22,t,null,r),t.lanes=0,t}function qd(t,r,a){return Js(r,t.child,null,a),t=Bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function P_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),id(t.return,r,a)}function Hd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function U_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,w=(_&2)!==0;if(w?(_=_&1|2,r.flags|=128):_&=1,ae(_t,_),Qt(t,r,l,a),l=Pe?_l:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,a,r);else if(t.tag===19)P_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Hd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Cc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Hd(r,!0,a,null,d,l);break;case"together":Hd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Fr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ya(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Wi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Fd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function uS(t,r,a){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),Pr(r,xt,t.memoizedState.cache),Ys();break;case 27:case 5:xs(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?V_(t,r,a):(zr(r),t=ir(t,r,a),t!==null?t.sibling:null);zr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ya(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return U_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(_t,_t.current),l)break;return null;case 22:return r.lanes=0,N_(t,r,a,r.pendingProps);case 24:Pr(r,xt,t.memoizedState.cache)}return ir(t,r,a)}function L_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ct=!0;else{if(!Fd(t,a)&&(r.flags&128)===0)return Ct=!1,uS(t,r,a);Ct=(t.flags&131072)!==0}else Ct=!1,Pe&&(r.flags&1048576)!==0&&gy(r,_l,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=$s(r.elementType),r.type=t,typeof t=="function")Xf(t)?(l=ea(t,l),r.tag=1,r=M_(null,r,t,l,a)):(r.tag=0,r=Ud(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===fe){r.tag=11,r=x_(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=R_(null,r,t,l,a);break e}}throw r=at(t)||t,Error(s(306,r,""))}}return r;case 0:return Ud(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ea(l,r.pendingProps),M_(t,r,l,f,a);case 3:e:{if(kt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,cd(t,r),xl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Pr(r,xt,l),l!==d.cache&&rd(r,[xt],a,!0),Al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=k_(t,r,l,a);break e}else if(l!==f){f=Pn(Error(s(424)),r),vl(f),r=k_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Bn(t.firstChild),Gt=r,Pe=!0,kr=null,jn=!0,a=Ny(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ys(),l===f){r=ir(t,r,a);break e}Qt(t,r,l,a)}r=r.child}return r;case 26:return jc(t,r),t===null?(a=X0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,t=r.pendingProps,l=nh(Re.current).createElement(a),l[wt]=r,l[Lt]=t,Kt(l,a,t),St(l),r.stateNode=l):r.memoizedState=X0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xs(r),t===null&&Pe&&(l=r.stateNode=Y0(r.type,r.pendingProps,Re.current),Gt=r,jn=!0,f=nt,Xr(r.type)?(wm=f,nt=Bn(l.firstChild)):nt=f),Qt(t,r,r.pendingProps.children,a),jc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Pe&&((f=l=nt)&&(l=jS(l,r.type,r.pendingProps,jn),l!==null?(r.stateNode=l,Gt=r,nt=Bn(l.firstChild),jn=!1,f=!0):f=!1),f||Vr(r)),xs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,_m(f,d)?l=null:_!==null&&_m(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=yd(t,r,eS,null,null,a),Yl._currentValue=f),jc(t,r),Qt(t,r,l,a),r.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=zS(a,r.pendingProps,jn),a!==null?(r.stateNode=a,Gt=r,nt=null,t=!0):t=!1),t||Vr(r)),null;case 13:return V_(t,r,a);case 4:return kt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Js(r,null,l,a):Qt(t,r,l,a),r.child;case 11:return x_(t,r,r.type,r.pendingProps,a);case 7:return Qt(t,r,r.pendingProps,a),r.child;case 8:return Qt(t,r,r.pendingProps.children,a),r.child;case 12:return Qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Yt(f),l=l(f),r.flags|=1,Qt(t,r,l,a),r.child;case 14:return R_(t,r,r.type,r.pendingProps,a);case 15:return C_(t,r,r.type,r.pendingProps,a);case 19:return U_(t,r,a);case 31:return lS(t,r,a);case 22:return N_(t,r,a,r.pendingProps);case 24:return Ks(r),l=Yt(xt),t===null?(f=od(),f===null&&(f=et,d=sd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ud(r),Pr(r,xt,f)):((t.lanes&a)!==0&&(cd(t,r),xl(r,null,null,a),Al()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,xt,l)):(l=d.cache,Pr(r,xt,l),l!==f.cache&&rd(r,[xt],a,!0))),Qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(t){t.flags|=4}function Gd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(h0())t.flags|=8192;else throw Ws=Sc,ld}else t.flags&=-16777217}function j_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(r))if(h0())t.flags|=8192;else throw Ws=Sc,ld}function Bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Qu():536870912,t.lanes|=r,ro|=r)}function Ol(t,r){if(!Pe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function cS(t,r,a){var l=r.pendingProps;switch(Zf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(xt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ga(r)?rr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,td())),it(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(rr(r),d!==null?(it(r),j_(r,d)):(it(r),Gd(r,f,null,l,a))):d?d!==t.memoizedState?(rr(r),it(r),j_(r,d)):(it(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(r),it(r),Gd(r,f,t,l,a)),null;case 27:if(wa(r),a=Re.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ue.current,Ga(r)?_y(r):(t=Y0(f,l,a),r.stateNode=t,rr(r))}return it(r),null;case 5:if(wa(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(d=ue.current,Ga(r))_y(r);else{var _=nh(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[wt]=r,d[Lt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(r)}}return it(r),Gd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,Ga(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[wt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V0(t.nodeValue,a)),t||Vr(r,!0)}else t=nh(t).createTextNode(l),t[wt]=r,r.stateNode=t}return it(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ga(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),t=!1}else a=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ga(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else Ys(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),f=!1}else f=td(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Bc(r,r.updateQueue),it(r),null);case 4:return ot(),t===null&&dm(r.stateNode.containerInfo),it(r),null;case 10:return er(r.type),it(r),null;case 19:if(Z(_t),l=r.memoizedState,l===null)return it(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Cc(t),d!==null){for(r.flags|=128,Ol(l,!1),t=d.updateQueue,r.updateQueue=t,Bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)dy(a,t),a=a.sibling;return ae(_t,_t.current&1|2),Pe&&Ji(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&sn()>Yc&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304)}else{if(!f)if(t=Cc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Bc(r,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return it(r),null}else 2*sn()-l.renderingStartTime>Yc&&a!==536870912&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=_t.current,ae(_t,f?a&1|2:a&1),Pe&&Ji(r,l.treeForkCount),t):(it(r),null);case 22:case 23:return Sn(r),md(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&Bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(xt),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function hS(t,r){switch(Zf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return er(xt),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Sn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ys()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(_t),null;case 4:return ot(),null;case 10:return er(r.type),null;case 22:case 23:return Sn(r),md(),t!==null&&Z(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return er(xt),null;case 25:return null;default:return null}}function z_(t,r){switch(Zf(r),r.tag){case 3:er(xt),ot();break;case 26:case 27:case 5:wa(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:Z(_t);break;case 10:er(r.type);break;case 22:case 23:Sn(r),md(),t!==null&&Z(Xs);break;case 24:er(xt)}}function Ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){Ke(r,r.return,w)}}function qr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var D=a,q=w;try{q()}catch(Q){Ke(f,D,Q)}}}l=l.next}while(l!==d)}}catch(Q){Ke(r,r.return,Q)}}function B_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Dy(r,a)}catch(l){Ke(t,t.return,l)}}}function q_(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,r,l)}}function kl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ke(t,r,f)}}function Di(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ke(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ke(t,r,f)}else a.current=null}function H_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ke(t,t.return,f)}}function Yd(t,r,a){try{var l=t.stateNode;MS(l,t.type,a,r),l[Lt]=r}catch(f){Ke(t,t.return,f)}}function F_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=$n));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Kd(t,r,a),t=t.sibling;t!==null;)Kd(t,r,a),t=t.sibling}function qc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qc(t,r,a),t=t.sibling;t!==null;)qc(t,r,a),t=t.sibling}function G_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Kt(r,l,a),r[wt]=t,r[Lt]=a}catch(d){Ke(t,t.return,d)}}var sr=!1,Nt=!1,Xd=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function fS(t,r){if(t=t.containerInfo,gm=uh,t=ry(t),qf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,D=-1,q=0,Q=0,W=t,H=null;t:for(;;){for(var Y;W!==a||f!==0&&W.nodeType!==3||(w=_+f),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Y=W.firstChild)!==null;)H=W,W=Y;for(;;){if(W===t)break t;if(H===a&&++q===f&&(w=_),H===d&&++Q===l&&(D=_),(Y=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Y}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:t,selectionRange:a},uh=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=ea(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ke(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}}function Q_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&Ml(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&B_(a),l&512&&kl(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Dy(t,r)}catch(_){Ke(a,a.return,_)}}break;case 27:r===null&&l&4&&G_(a);case 26:case 5:or(t,a),r===null&&l&4&&H_(a),l&512&&kl(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&$_(t,a);break;case 13:or(t,a),l&4&&W_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=bS.bind(null,a),BS(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=sr;var d=Nt;sr=l,(Nt=r)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=f,Nt=d}break;case 30:break;default:or(t,a)}}function K_(t){var r=t.alternate;r!==null&&(t.alternate=null,K_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ca(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function ar(t,r,a){for(a=a.child;a!==null;)X_(t,r,a),a=a.sibling}function X_(t,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Di(a,r),ar(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Di(a,r);var l=ut,f=hn;Xr(a.type)&&(ut=a.stateNode,hn=!1),ar(t,r,a),Hl(a.stateNode),ut=l,hn=f;break;case 5:Nt||Di(a,r);case 6:if(l=ut,f=hn,ut=null,ar(t,r,a),ut=l,hn=f,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ke(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ke(a,r,d)}break;case 18:ut!==null&&(hn?(t=ut,B0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),fo(t)):B0(ut,a.stateNode));break;case 4:l=ut,f=hn,ut=a.stateNode.containerInfo,hn=!0,ar(t,r,a),ut=l,hn=f;break;case 0:case 11:case 14:case 15:qr(2,a,r),Nt||qr(4,a,r),ar(t,r,a);break;case 1:Nt||(Di(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&q_(a,r,l)),ar(t,r,a);break;case 21:ar(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,ar(t,r,a),Nt=l;break;default:ar(t,r,a)}}function $_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fo(t)}catch(a){Ke(r,r.return,a)}}}function W_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fo(t)}catch(a){Ke(r,r.return,a)}}function dS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Y_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Y_),r;default:throw Error(s(435,t.tag))}}function Hc(t,r){var a=dS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=TS.bind(null,t,l);l.then(f,f)}})}function fn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Xr(w.type)){ut=w.stateNode,hn=!1;break e}break;case 5:ut=w.stateNode,hn=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(ut===null)throw Error(s(160));X_(d,_,f),ut=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)J_(r,t),r=r.sibling}var ni=null;function J_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(r,t),dn(t),l&4&&(qr(3,t,t.return),Ml(3,t),qr(5,t,t.return));break;case 1:fn(r,t),dn(t),l&512&&(Nt||a===null||Di(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(fn(r,t),dn(t),l&512&&(Nt||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[wt]=t,St(d),l=d;break e;case"link":var _=J0("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=J0("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,St(d),l=d}t.stateNode=l}else Z0(f,t.type,t.stateNode);else t.stateNode=W0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z0(f,t.type,t.stateNode):W0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(r,t),dn(t),l&512&&(Nt||a===null||Di(a,a.return)),a!==null&&l&4&&Yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(r,t),dn(t),l&512&&(Nt||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(ce){Ke(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Xd=!0);break;case 6:if(fn(r,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(sh=null,f=ni,ni=ih(r.containerInfo),fn(r,t),ni=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(r.containerInfo)}catch(ce){Ke(t,t.return,ce)}Xd&&(Xd=!1,Z_(t));break;case 4:l=ni,ni=ih(t.stateNode.containerInfo),fn(r,t),dn(t),ni=l;break;case 12:fn(r,t),dn(t);break;case 31:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 13:fn(r,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=sr,Q=Nt;if(sr=q||f,Nt=Q||D,fn(r,t),Nt=Q,sr=q,dn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||sr||Nt||ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=D.stateNode;var W=D.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Ke(D,D.return,ce)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ce){Ke(D,D.return,ce)}}}else if(r.tag===18){if(a===null){D=r;try{var Y=D.stateNode;f?q0(Y,!0):q0(D.stateNode,!1)}catch(ce){Ke(D,D.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hc(t,a))));break;case 19:fn(r,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hc(t,l)));break;case 30:break;case 21:break;default:fn(r,t),dn(t)}}function dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(F_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Qd(t);qc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var w=Qd(t);qc(t,w,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=Qd(t);Kd(t,q,D);break;default:throw Error(s(161))}}catch(Q){Ke(t,t.return,Q)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Z_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Z_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Q_(t,r.alternate,r),r=r.sibling}function ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:qr(4,r,r.return),ta(r);break;case 1:Di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&q_(r,r.return,a),ta(r);break;case 27:Hl(r.stateNode);case 26:case 5:Di(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}t=t.sibling}}function lr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),Ml(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ke(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Iy(D[f],w)}catch(q){Ke(l,l.return,q)}}a&&_&64&&B_(d),kl(d,d.return);break;case 27:G_(d);case 26:case 5:lr(f,d,a),a&&l===null&&_&4&&H_(d),kl(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&_&4&&$_(f,d);break;case 13:lr(f,d,a),a&&_&4&&W_(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),kl(d,d.return);break;case 30:break;default:lr(f,d,a)}r=r.sibling}}function $d(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Wd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t))}function ii(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)e0(t,r,a,l),r=r.sibling}function e0(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ii(t,r,a,l),f&2048&&Ml(9,r);break;case 1:ii(t,r,a,l);break;case 3:ii(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t)));break;case 12:if(f&2048){ii(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ke(r,r.return,D)}}else ii(t,r,a,l);break;case 31:ii(t,r,a,l);break;case 13:ii(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ii(t,r,a,l):Vl(t,r):d._visibility&2?ii(t,r,a,l):(d._visibility|=2,to(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&$d(_,r);break;case 24:ii(t,r,a,l),f&2048&&Wd(r.alternate,r);break;default:ii(t,r,a,l)}}function to(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,w=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:to(d,_,w,D,f),Ml(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?to(d,_,w,D,f):Vl(d,_):(Q._visibility|=2,to(d,_,w,D,f)),f&&q&2048&&$d(_.alternate,_);break;case 24:to(d,_,w,D,f),f&&q&2048&&Wd(_.alternate,_);break;default:to(d,_,w,D,f)}r=r.sibling}}function Vl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&$d(l.alternate,l);break;case 24:Vl(a,l),f&2048&&Wd(l.alternate,l);break;default:Vl(a,l)}r=r.sibling}}var Pl=8192;function no(t,r,a){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)t0(t,r,a),t=t.sibling}function t0(t,r,a){switch(t.tag){case 26:no(t,r,a),t.flags&Pl&&t.memoizedState!==null&&ZS(a,ni,t.memoizedState,t.memoizedProps);break;case 5:no(t,r,a);break;case 3:case 4:var l=ni;ni=ih(t.stateNode.containerInfo),no(t,r,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,no(t,r,a),Pl=l):no(t,r,a));break;default:no(t,r,a)}}function n0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ul(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,r0(l,t)}n0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i0(t),t=t.sibling}function i0(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Fc(t)):Ul(t);break;default:Ul(t)}}function Fc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,r0(l,t)}n0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:qr(8,r,r.return),Fc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(r));break;default:Fc(r)}t=t.sibling}}function r0(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(K_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var mS={getCacheForType:function(t){var r=Yt(xt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Yt(xt).controller.signal}},pS=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,Ne=null,De=0,Qe=0,An=null,Hr=!1,io=!1,Jd=!1,ur=0,pt=0,Fr=0,na=0,Zd=0,xn=0,ro=0,Ll=null,mn=null,em=!1,Gc=0,s0=0,Yc=1/0,Qc=null,Gr=null,Pt=0,Yr=null,so=null,cr=0,tm=0,nm=null,a0=null,jl=0,im=null;function Rn(){return(He&2)!==0&&De!==0?De&-De:X.T!==null?um():Ku()}function o0(){if(xn===0)if((De&536870912)===0||Pe){var t=Ns;Ns<<=1,(Ns&3932160)===0&&(Ns=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function pn(t,r,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(ao(t,0),Qr(t,De,xn,!1)),Is(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(na|=a),pt===4&&Qr(t,De,xn,!1)),Oi(t))}function l0(t,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Qn(t,r),f=l?_S(t,r):sm(t,r,!0),d=l;do{if(f===0){io&&!l&&Qr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!gS(a)){f=sm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=t;f=Ll;var D=w.current.memoizedState.isDehydrated;if(D&&(ao(w,_).flags|=256),_=sm(w,_,!1),_!==2){if(Jd&&!D){w.errorRecoveryDisabledLanes|=d,na|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ao(t,0),Qr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Qr(l,r,xn,!Hr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Gc+300-sn(),10<f)){if(Qr(l,r,xn,!Hr),mi(l,0,!0)!==0)break e;cr=r,l.timeoutHandle=j0(u0.bind(null,l,a,mn,Qc,em,r,xn,na,ro,Hr,d,"Throttled",-0,0),f);break e}u0(l,a,mn,Qc,em,r,xn,na,ro,Hr,d,null,-0,0)}}break}while(!0);Oi(t)}function u0(t,r,a,l,f,d,_,w,D,q,Q,W,H,Y){if(t.timeoutHandle=-1,W=r.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},t0(r,d,W);var ce=(d&62914560)===d?Gc-sn():(d&4194048)===d?s0-sn():0;if(ce=eA(W,ce),ce!==null){cr=d,t.cancelPendingCommit=ce(y0.bind(null,t,r,d,a,l,f,_,w,D,Q,W,null,H,Y)),Qr(t,d,_,!q);return}}y0(t,r,d,a,l,f,_,w,D)}function gS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(t,r,a,l){r&=~Zd,r&=~na,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ds(t,a,r)}function Kc(){return(He&6)===0?(zl(0),!1):!0}function rm(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Zi=Qs=null,Ed(t),$a=null,Tl=0,t=Ne;for(;t!==null;)z_(t.alternate,t),t=t.return;Ne=null}}function ao(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cr=0,rm(),et=t,Ne=a=Wi(t.current,null),De=r,Qe=0,An=null,Hr=!1,io=Qn(t,r),Jd=!1,ro=xn=Zd=na=Fr=pt=0,mn=Ll=null,em=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=t[f],l&=~d}return ur=r,pc(),a}function c0(t,r){xe=null,X.H=Il,r===Xa||r===wc?(r=xy(),Qe=3):r===ld?(r=xy(),Qe=4):Qe=r===Pd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Ne===null&&(pt=1,Uc(t,Pn(r,t.current)))}function h0(){var t=wn.current;return t===null?!0:(De&4194048)===De?zn===null:(De&62914560)===De||(De&536870912)!==0?t===zn:!1}function f0(){var t=X.H;return X.H=Il,t===null?Il:t}function d0(){var t=X.A;return X.A=mS,t}function Xc(){pt=4,Hr||(De&4194048)!==De&&wn.current!==null||(io=!0),(Fr&134217727)===0&&(na&134217727)===0||et===null||Qr(et,De,xn,!1)}function sm(t,r,a){var l=He;He|=2;var f=f0(),d=d0();(et!==t||De!==r)&&(Qc=null,ao(t,r)),r=!1;var _=pt;e:do try{if(Qe!==0&&Ne!==null){var w=Ne,D=An;switch(Qe){case 8:rm(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=Qe;if(Qe=0,An=null,oo(t,w,D,q),a&&io){_=0;break e}break;default:q=Qe,Qe=0,An=null,oo(t,w,D,q)}}yS(),_=pt;break}catch(Q){c0(t,Q)}while(!0);return r&&t.shellSuspendCounter++,Zi=Qs=null,He=l,X.H=f,X.A=d,Ne===null&&(et=null,De=0,pc()),_}function yS(){for(;Ne!==null;)m0(Ne)}function _S(t,r){var a=He;He|=2;var l=f0(),f=d0();et!==t||De!==r?(Qc=null,Yc=sn()+500,ao(t,r)):io=Qn(t,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=An;t:switch(Qe){case 1:Qe=0,An=null,oo(t,r,d,1);break;case 2:case 9:if(Sy(d)){Qe=0,An=null,p0(r);break}r=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Oi(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Sy(d)?(Qe=0,An=null,p0(r)):(Qe=0,An=null,oo(t,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var w=Ne;if(_?ev(_):w.stateNode.complete){Qe=0,An=null;var D=w.sibling;if(D!==null)Ne=D;else{var q=w.return;q!==null?(Ne=q,$c(q)):Ne=null}break t}}Qe=0,An=null,oo(t,r,d,5);break;case 6:Qe=0,An=null,oo(t,r,d,6);break;case 8:rm(),pt=6;break e;default:throw Error(s(462))}}vS();break}catch(Q){c0(t,Q)}while(!0);return Zi=Qs=null,X.H=l,X.A=f,He=a,Ne!==null?0:(et=null,De=0,pc(),pt)}function vS(){for(;Ne!==null&&!Vf();)m0(Ne)}function m0(t){var r=L_(t.alternate,t,ur);t.memoizedProps=t.pendingProps,r===null?$c(t):Ne=r}function p0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=O_(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=O_(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:Ed(r);default:z_(a,r),r=Ne=dy(r,ur),r=L_(a,r,ur)}t.memoizedProps=t.pendingProps,r===null?$c(t):Ne=r}function oo(t,r,a,l){Zi=Qs=null,Ed(r),$a=null,Tl=0;var f=r.return;try{if(oS(t,f,r,a,De)){pt=1,Uc(t,Pn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;pt=1,Uc(t,Pn(a,t.current)),Ne=null;return}r.flags&32768?(Pe||l===1?t=!0:io||(De&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g0(r,t)):$c(r)}function $c(t){var r=t;do{if((r.flags&32768)!==0){g0(r,Hr);return}t=r.return;var a=cS(r.alternate,r,ur);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=t}while(r!==null);pt===0&&(pt=5)}function g0(t,r){do{var a=hS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);pt=6,Ne=null}function y0(t,r,a,l,f,d,_,w,D){t.cancelPendingCommit=null;do Wc();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Qf,Lf(t,a,d,_,w,D),t===et&&(Ne=et=null,De=0),so=r,Yr=t,cr=a,tm=d,nm=f,a0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wS(wr,function(){return T0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=se.p,se.p=2,_=He,He|=4;try{fS(t,r,a)}finally{He=_,se.p=f,X.T=l}}Pt=1,_0(),v0(),E0()}}function _0(){if(Pt===1){Pt=0;var t=Yr,r=so,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{J_(r,t);var d=ym,_=ry(t.containerInfo),w=d.focusedElem,D=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&iy(w.ownerDocument.documentElement,w)){if(D!==null&&qf(w)){var q=D.start,Q=D.end;if(Q===void 0&&(Q=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(Q,w.value.length);else{var W=w.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ce=w.textContent.length,ge=Math.min(D.start,ce),Ze=D.end===void 0?ge:Math.min(D.end,ce);!Y.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var P=ny(w,ge),k=ny(w,Ze);if(P&&k&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var z=W.createRange();z.setStart(P.node,P.offset),Y.removeAllRanges(),ge>Ze?(Y.addRange(z),Y.extend(k.node,k.offset)):(z.setEnd(k.node,k.offset),Y.addRange(z))}}}}for(W=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&W.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var $=W[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}uh=!!gm,ym=gm=null}finally{He=f,se.p=l,X.T=a}}t.current=r,Pt=2}}function v0(){if(Pt===2){Pt=0;var t=Yr,r=so,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var f=He;He|=4;try{Q_(t,r.alternate,r)}finally{He=f,se.p=l,X.T=a}}Pt=3}}function E0(){if(Pt===4||Pt===3){Pt=0,Bu();var t=Yr,r=so,a=cr,l=a0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,so=Yr=null,b0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),Qi(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{X.T=r,se.p=f}}(cr&3)!==0&&Wc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===im?jl++:(jl=0,im=t):jl=0,zl(0)}}function b0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,El(r)))}function Wc(){return _0(),v0(),E0(),T0()}function T0(){if(Pt!==5)return!1;var t=Yr,r=tm;tm=0;var a=Qi(cr),l=X.T,f=se.p;try{se.p=32>a?32:a,X.T=null,a=nm,nm=null;var d=Yr,_=cr;if(Pt=0,so=Yr=null,cr=0,(He&6)!==0)throw Error(s(331));var w=He;if(He|=4,i0(d.current),e0(d,d.current,_,a),He=w,zl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{se.p=f,X.T=l,b0(t,r)}}function w0(t,r,a){r=Pn(a,r),r=Vd(t.stateNode,r,2),t=jr(t,r,2),t!==null&&(Is(t,2),Oi(t))}function Ke(t,r,a){if(t.tag===3)w0(t,t,a);else for(;r!==null;){if(r.tag===3){w0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Pn(a,t),a=S_(2),l=jr(r,a,2),l!==null&&(A_(a,l,r,t),Is(l,2),Oi(l));break}}r=r.return}}function am(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Jd=!0,f.add(a),t=ES.bind(null,t,r,a),r.then(t,t))}function ES(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(pt===4||pt===3&&(De&62914560)===De&&300>sn()-Gc?(He&2)===0&&ao(t,0):Zd|=a,ro===De&&(ro=0)),Oi(t)}function S0(t,r){r===0&&(r=Qu()),t=Fs(t,r),t!==null&&(Is(t,r),Oi(t))}function bS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),S0(t,a)}function TS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),S0(t,a)}function wS(t,r){return Vt(t,r)}var Jc=null,lo=null,om=!1,Zc=!1,lm=!1,Kr=0;function Oi(t){t!==lo&&t.next===null&&(lo===null?Jc=lo=t:lo=lo.next=t),Zc=!0,om||(om=!0,AS())}function zl(t,r){if(!lm&&Zc){lm=!0;do for(var a=!1,l=Jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,C0(l,d))}else d=De,d=mi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,C0(l,d));l=l.next}while(a);lm=!1}}function SS(){A0()}function A0(){Zc=om=!1;var t=0;Kr!==0&&VS()&&(t=Kr);for(var r=sn(),a=null,l=Jc;l!==null;){var f=l.next,d=x0(l,r);d===0?(l.next=null,a===null?Jc=f:a.next=f,f===null&&(lo=a)):(a=l,(t!==0||(d&3)!==0)&&(Zc=!0)),l=f}Pt!==0&&Pt!==5||zl(t),Kr!==0&&(Kr=0)}function x0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-gt(d),w=1<<_,D=f[_];D===-1?((w&a)===0||(w&l)!==0)&&(f[_]=Uf(w,r)):D<=r&&(t.expiredLanes|=w),d&=~w}if(r=et,a=De,a=mi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Tr(l),Qi(a)){case 2:case 8:a=$o;break;case 32:a=wr;break;case 268435456:a=qu;break;default:a=wr}return l=R0.bind(null,t),a=Vt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function R0(t,r){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Wc()&&t.callbackNode!==a)return null;var l=De;return l=mi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(l0(t,l,r),x0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?R0.bind(null,t):null)}function C0(t,r){if(Wc())return null;l0(t,r,!0)}function AS(){US(function(){(He&6)!==0?Vt(Xo,SS):A0()})}function um(){if(Kr===0){var t=Qa;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Kr=t}return Kr}function N0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function I0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function xS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=N0((f[Lt]||null).action),_=l.submitter;_&&(r=(r=_[Lt]||null)?N0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var w=new Ai("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var D=_?I0(f,_):new FormData(f);Nd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(w.preventDefault(),D=_?I0(f,_):new FormData(f),Nd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var cm=0;cm<Yf.length;cm++){var hm=Yf[cm],RS=hm.toLowerCase(),CS=hm[0].toUpperCase()+hm.slice(1);ti(RS,"on"+CS)}ti(oy,"onAnimationEnd"),ti(ly,"onAnimationIteration"),ti(uy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(F1,"onTransitionRun"),ti(G1,"onTransitionStart"),ti(Y1,"onTransitionCancel"),ti(cy,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function D0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var w=l[_],D=w.instance,q=w.currentTarget;if(w=w.listener,D!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=q;try{d(f)}catch(Q){mc(Q)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(w=l[_],D=w.instance,q=w.currentTarget,w=w.listener,D!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=q;try{d(f)}catch(Q){mc(Q)}f.currentTarget=null,d=D}}}}function Ie(t,r){var a=r[Ra];a===void 0&&(a=r[Ra]=new Set);var l=t+"__bubble";a.has(l)||(O0(r,t,2,!1),a.add(l))}function fm(t,r,a){var l=0;r&&(l|=4),O0(a,t,l,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[eh]){t[eh]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(NS.has(a)||fm(a,!1,t),fm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[eh]||(r[eh]=!0,fm("selectionchange",!1,r))}}function O0(t,r,a,l){switch(ov(r)){case 2:var f=iA;break;case 8:f=rA;break;default:f=Cm}a=f.bind(null,r,a,t),f=void 0,!Ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function mm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=_i(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Nr(function(){var q=d,Q=On(a),W=[];e:{var H=hy.get(t);if(H!==void 0){var Y=Ai,ce=t;switch(t){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":Y=hc;break;case"focusin":ce="focus",Y=zs;break;case"focusout":ce="blur",Y=zs;break;case"beforeblur":case"afterblur":Y=zs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case oy:case ly:case uy:Y=rc;break;case cy:Y=S;break;case"scroll":case"scrollend":Y=hl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=$i;break;case"toggle":case"beforetoggle":Y=Ae}var ge=(r&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),P=ge?H!==null?H+"Capture":null:H;ge=[];for(var k=q,z;k!==null;){var $=k;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=Wn(k,P),$!=null&&ge.push(ql(k,$,z))),Ze)break;k=k.return}0<ge.length&&(H=new Y(H,ce,null,a,Q),W.push({event:H,listeners:ge}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==ll&&(ce=a.relatedTarget||a.fromElement)&&(_i(ce)||ce[gi]))break e;if((Y||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=q,ce=ce?_i(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Y=null,ce=q),Y!==ce)){if(ge=fl,$="onMouseLeave",P="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ge=$i,$="onPointerLeave",P="onPointerEnter",k="pointer"),Ze=Y==null?H:vn(Y),z=ce==null?H:vn(ce),H=new ge($,k+"leave",Y,a,Q),H.target=Ze,H.relatedTarget=z,$=null,_i(Q)===q&&(ge=new ge(P,k+"enter",ce,a,Q),ge.target=z,ge.relatedTarget=Ze,$=ge),Ze=$,Y&&ce)t:{for(ge=IS,P=Y,k=ce,z=0,$=P;$;$=ge($))z++;$=0;for(var de=k;de;de=ge(de))$++;for(;0<z-$;)P=ge(P),z--;for(;0<$-z;)k=ge(k),$--;for(;z--;){if(P===k||k!==null&&P===k.alternate){ge=P;break t}P=ge(P),k=ge(k)}ge=null}else ge=null;Y!==null&&M0(W,H,Y,ge,!1),ce!==null&&Ze!==null&&M0(W,Ze,ce,ge,!0)}}e:{if(H=q?vn(q):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var ze=$g;else if(Kg(H))if(Wg)ze=B1;else{ze=j1;var he=L1}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Da(q.elementType)&&(ze=$g):ze=z1;if(ze&&(ze=ze(t,q))){Xg(W,ze,a,Q);break e}he&&he(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&sl(H,"number",H.value)}switch(he=q?vn(q):window,t){case"focusin":(Kg(he)||he.contentEditable==="true")&&(ja=he,Hf=q,yl=null);break;case"focusout":yl=Hf=ja=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,sy(W,a,Q);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":sy(W,a,Q)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else La?Bs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ci&&a.locale!=="ko"&&(La||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&La&&(Ce=cl()):(Si=Q,ul="value"in Si?Si.value:Si.textContent,La=!0)),he=th(q,Oe),0<he.length&&(Oe=new Ri(Oe,t,null,a,Q),W.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=Ua(a),Ce!==null&&(Oe.data=Ce)))),(Ce=kn?k1(t,a):V1(t,a))&&(Oe=th(q,"onBeforeInput"),0<Oe.length&&(he=new Ri("onBeforeInput","beforeinput",null,a,Q),W.push({event:he,listeners:Oe}),he.data=Ce)),xS(W,t,q,a,Q)}D0(W,r)})}function ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function th(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Wn(t,a),f!=null&&l.unshift(ql(t,f,d)),f=Wn(t,r),f!=null&&l.push(ql(t,f,d))),t.tag===3)return l;t=t.return}return[]}function IS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M0(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var w=a,D=w.alternate,q=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||q===null||(D=q,f?(q=Wn(a,d),q!=null&&_.unshift(ql(a,q,D))):f||(q=Wn(a,d),q!=null&&_.push(ql(a,q,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function k0(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(OS,"")}function V0(t,r){return r=k0(r),k0(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":ol(t,l,d);break;case"data":if(r!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Na(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Na(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tc.get(a)||a,Na(t,a,l))}}function pm(t,r,a,l,f,d){switch(a){case"style":ol(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Na(t,a,l)}}}function Kt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,_,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":Ie("invalid",t);var w=d=_=f=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":q=Q;break;case"value":d=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Je(t,r,l,Q,a,null)}}Ju(t,d,w,D,q,_,f,!1);return;case"select":Ie("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:Je(t,r,f,w,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ar(t,!!l,r,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Ie("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(t,r,_,w,a,null)}xr(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,D,l,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Ie(Bl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,q,l,a,null)}return;default:if(Da(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&pm(t,r,Q,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(t,r,w,l,a,null))}function MS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,D=null,q=null,Q=null;for(Y in a){var W=a[Y];if(a.hasOwnProperty(Y)&&W!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(Y)||Je(t,r,Y,null,l,W)}}for(var H in l){var Y=l[H];if(W=a[H],l.hasOwnProperty(H)&&(Y!=null||W!=null))switch(H){case"type":d=Y;break;case"name":f=Y;break;case"checked":q=Y;break;case"defaultChecked":Q=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==W&&Je(t,r,H,Y,l,W)}}Ia(t,_,w,D,q,Q,d,f);return;case"select":Y=_=w=H=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==D&&Je(t,r,f,d,l,D)}r=w,a=_,l=Y,H!=null?Ar(t,!!a,H,!1):!!l!=!!a&&(r!=null?Ar(t,!!a,r,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(t,r,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,_,f,l,d)}Zu(t,H,Y);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,r,ce,null,l,H)}for(D in l)if(H=l[D],Y=a[D],l.hasOwnProperty(D)&&H!==Y&&(H!=null||Y!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,r,D,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Je(t,r,ge,null,l,H);for(q in l)if(H=l[q],Y=a[q],l.hasOwnProperty(q)&&H!==Y&&(H!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Je(t,r,q,H,l,Y)}return;default:if(Da(r)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&pm(t,r,Ze,void 0,l,H);for(Q in l)H=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||H===Y||H===void 0&&Y===void 0||pm(t,r,Q,H,l,Y);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Je(t,r,P,null,l,H);for(W in l)H=l[W],Y=a[W],!l.hasOwnProperty(W)||H===Y||H==null&&Y==null||Je(t,r,W,H,l,Y)}function P0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&P0(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>w)break;var Q=D.transferSize,W=D.initiatorType;Q&&P0(W)&&(D=D.responseEnd,_+=Q*(D<w?1:(w-q)/(D-q)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gm=null,ym=null;function nh(t){return t.nodeType===9?t:t.ownerDocument}function U0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function _m(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function VS(){var t=window.event;return t&&t.type==="popstate"?t===vm?!1:(vm=t,!0):(vm=null,!1)}var j0=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(LS)}:j0;function LS(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function B0(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),fo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Hl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Hl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[yi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Hl(t.ownerDocument.body);a=f}while(a);fo(r)}function q0(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Em(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),Ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function zS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function H0(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$?"||t.data==="$~"}function Tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function BS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var wm=null;function F0(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Bn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function G0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Y0(t,r,a){switch(r=nh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ca(t)}var qn=new Map,Q0=new Set;function ih(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=se.d;se.d={f:qS,r:HS,D:FS,C:GS,L:YS,m:QS,X:XS,S:KS,M:$S};function qS(){var t=hr.f(),r=Kc();return t||r}function HS(t){var r=Dn(t);r!==null&&r.tag===5&&r.type==="form"?c_(r):hr.r(t)}var uo=typeof document>"u"?null:document;function K0(t,r,a){var l=uo;if(l&&typeof r=="string"&&r){var f=un(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Q0.has(f)||(Q0.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Kt(r,"link",t),St(r),l.head.appendChild(r)))}}function FS(t){hr.D(t),K0("dns-prefetch",t,null)}function GS(t,r){hr.C(t,r),K0("preconnect",t,r)}function YS(t,r,a){hr.L(t,r,a);var l=uo;if(l&&t&&r){var f='link[rel="preload"][as="'+un(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(r){case"style":d=co(t);break;case"script":d=ho(t)}qn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),qn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Fl(d))||r==="script"&&l.querySelector(Gl(d))||(r=l.createElement("link"),Kt(r,"link",t),St(r),l.head.appendChild(r)))}}function QS(t,r){hr.m(t,r);var a=uo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ho(t)}if(!qn.has(d)&&(t=T({rel:"modulepreload",href:t},r),qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),Kt(l,"link",t),St(l),a.head.appendChild(l)}}}function KS(t,r,a){hr.S(t,r,a);var l=uo;if(l&&t){var f=vi(l).hoistableStyles,d=co(t);r=r||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Fl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=qn.get(d))&&Sm(t,a);var D=_=l.createElement("link");St(D),Kt(D,"link",t),D._p=new Promise(function(q,Q){D.onload=q,D.onerror=Q}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function XS(t,r){hr.X(t,r);var a=uo;if(a&&t){var l=vi(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0},r),(r=qn.get(f))&&Am(t,r),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function $S(t,r){hr.M(t,r);var a=uo;if(a&&t){var l=vi(a).hoistableScripts,f=ho(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=qn.get(f))&&Am(t,r),d=a.createElement("script"),St(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function X0(t,r,a,l){var f=(f=Re.current)?ih(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=co(a.href),a=vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=co(a.href);var d=vi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Fl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||WS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ho(a),a=vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function co(t){return'href="'+un(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function $0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function WS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Kt(r,"link",a),St(r),t.head.appendChild(r))}function ho(t){return'[src="'+un(t)+'"]'}function Gl(t){return"script[async]"+t}function W0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return r.instance=l,St(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Kt(l,"style",f),rh(l,a.precedence,t),r.instance=l;case"stylesheet":f=co(a.href);var d=t.querySelector(Fl(f));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=$0(a),(f=qn.get(f))&&Sm(l,f),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Kt(d,"link",l),r.state.loading|=4,rh(d,a.precedence,t),r.instance=d;case"script":return d=ho(a.src),(f=t.querySelector(Gl(d)))?(r.instance=f,St(f),f):(l=a,(f=qn.get(d))&&(l=T({},a),Am(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),St(f),Kt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,rh(l,a.precedence,t));return r.instance}function rh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var sh=null;function J0(t,r,a){if(sh===null){var l=new Map,f=sh=new Map;f.set(a,l)}else f=sh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function Z0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function JS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZS(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=co(l.href),d=r.querySelector(Fl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ah.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=r.ownerDocument||r,l=$0(l),(f=qn.get(f))&&Sm(l,f),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ah.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var xm=0;function eA(t,r){return t.stylesheets&&t.count===0&&lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&xm===0&&(xm=62500*kS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>xm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oh=null;function lh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oh=new Map,r.forEach(tA,t),oh=null,ah.call(t))}function tA(t,r){if(!(r.state.loading&4)){var a=oh.get(t);if(a)var l=a.get(null);else{a=new Map,oh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=ah.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Yl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function nA(t,r,a,l,f,d,_,w,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function tv(t,r,a,l,f,d,_,w,D,q,Q,W){return t=new nA(t,r,a,_,D,q,Q,W,w),r=1,d===!0&&(r|=24),d=Tn(3,null,null,r),t.current=d,d.stateNode=t,r=sd(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ud(d),t}function nv(t){return t?(t=qa,t):qa}function iv(t,r,a,l,f,d){f=nv(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,r),a!==null&&(pn(a,t,r),Sl(a,t,r))}function rv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Rm(t,r){rv(t,r),(t=t.alternate)&&rv(t,r)}function sv(t){if(t.tag===13||t.tag===31){var r=Fs(t,67108864);r!==null&&pn(r,t,67108864),Rm(t,67108864)}}function av(t){if(t.tag===13||t.tag===31){var r=Rn();r=Os(r);var a=Fs(t,r);a!==null&&pn(a,t,r),Rm(t,r)}}var uh=!0;function iA(t,r,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=2,Cm(t,r,a,l)}finally{se.p=d,X.T=f}}function rA(t,r,a,l){var f=X.T;X.T=null;var d=se.p;try{se.p=8,Cm(t,r,a,l)}finally{se.p=d,X.T=f}}function Cm(t,r,a,l){if(uh){var f=Nm(l);if(f===null)mm(t,r,l,ch,a),lv(t,l);else if(aA(f,t,r,a,l))l.stopPropagation();else if(lv(t,l),r&4&&-1<sA.indexOf(t)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-gt(_);w.entanglements[1]|=D,_&=~D}Oi(d),(He&6)===0&&(Yc=sn()+500,zl(0))}}break;case 31:case 13:w=Fs(d,2),w!==null&&pn(w,d,2),Kc(),Rm(d,2)}if(d=Nm(l),d===null&&mm(t,r,l,ch,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else mm(t,r,l,null,a)}}function Nm(t){return t=On(t),Im(t)}var ch=null;function Im(t){if(ch=null,t=_i(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ch=t,null}function ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Xo:return 2;case $o:return 8;case wr:case Pf:return 32;case qu:return 268435456;default:return 32}default:return 32}}var Dm=!1,$r=null,Wr=null,Jr=null,Ql=new Map,Kl=new Map,Zr=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(t,r){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(r.pointerId)}}function Xl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Dn(r),r!==null&&sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function aA(t,r,a,l,f){switch(r){case"focusin":return $r=Xl($r,t,r,a,l,f),!0;case"dragenter":return Wr=Xl(Wr,t,r,a,l,f),!0;case"mouseover":return Jr=Xl(Jr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ql.set(d,Xl(Ql.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Kl.set(d,Xl(Kl.get(d)||null,t,r,a,l,f)),!0}return!1}function uv(t){var r=_i(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){av(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Kn(t.priority,function(){av(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return r=Dn(a),r!==null&&sv(r),t.blockedOn=a,!1;r.shift()}return!0}function cv(t,r,a){hh(t)&&a.delete(r)}function oA(){Dm=!1,$r!==null&&hh($r)&&($r=null),Wr!==null&&hh(Wr)&&(Wr=null),Jr!==null&&hh(Jr)&&(Jr=null),Ql.forEach(cv),Kl.forEach(cv)}function fh(t,r){t.blockedOn===r&&(t.blockedOn=null,Dm||(Dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,oA)))}var dh=null;function hv(t){dh!==t&&(dh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var d=Dn(a);d!==null&&(t.splice(r,3),r-=3,Nd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function fo(t){function r(D){return fh(D,t)}$r!==null&&fh($r,t),Wr!==null&&fh(Wr,t),Jr!==null&&fh(Jr,t),Ql.forEach(r),Kl.forEach(r);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||hv(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)w=_.formAction;else if(Im(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),hv(a)}}}function fv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Om(t){this._internalRoot=t}mh.prototype.render=Om.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();iv(a,l,t,r,null,null)},mh.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;iv(t.current,2,null,t,null,null),Kc(),r[gi]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ku();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Zr.length&&r!==0&&r<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&uv(t)}};var dv=e.version;if(dv!=="19.2.0")throw Error(s(527,dv,"19.2.0"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var lA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Yn=ph.inject(lA),Ht=ph}catch{}}return Wl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=E_,d=b_,_=T_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=tv(t,1,!1,null,null,a,l,null,f,d,_,fv),t[gi]=r.current,dm(t),new Om(r)},Wl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=E_,_=b_,w=T_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=tv(t,1,!0,r,a??null,l,f,D,d,_,w,fv),r.context=nv(null),a=r.current,l=Rn(),l=Os(l),f=Lr(l),f.callback=null,jr(a,f,l),a=l,r.current.lanes=a,Is(r,a),Oi(r),t[gi]=r.current,dm(t),new mh(r)},Wl.version="19.2.0",Wl}var wv;function _A(){if(wv)return Vm.exports;wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=yA(),Vm.exports}var vA=_A();var Sv="popstate";function EA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ga(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),rp("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:pu(u))}function s(o,u){Nn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return TA(e,n,s,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Nn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function Av(i,e){return{usr:i.state,key:i.key,idx:e}}function rp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||s||bA()}}function pu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ga(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function TA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=b(),J=L==null?null:L-g;g=L,p&&p({action:m,location:K.location,delta:J})}function A(L,J){m="PUSH";let ne=rp(K.location,L,J);n&&n(ne,L),g=b()+1;let ie=Av(ne,g),fe=K.createHref(ne);try{h.pushState(ie,"",fe)}catch(Ee){if(Ee instanceof DOMException&&Ee.name==="DataCloneError")throw Ee;o.location.assign(fe)}u&&p&&p({action:m,location:K.location,delta:1})}function M(L,J){m="REPLACE";let ne=rp(K.location,L,J);n&&n(ne,L),g=b();let ie=Av(ne,g),fe=K.createHref(ne);h.replaceState(ie,"",fe),u&&p&&p({action:m,location:K.location,delta:0})}function F(L){return wA(L)}let K={get action(){return m},get location(){return i(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sv,T),p=L,()=>{o.removeEventListener(Sv,T),p=null}},createHref(L){return e(o,L)},createURL:F,encodeLocation(L){let J=F(L);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:A,replace:M,go(L){return h.go(L)}};return K}function wA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:pu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Cb(i,e,n="/"){return SA(i,e,n,!1)}function SA(i,e,n,s){let o=typeof e=="string"?ga(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=Nb(i);AA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=PA(u);m=kA(h[p],g,s)}return m}function Nb(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ct(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=mr([s,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Nb(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:OA(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Ib(h.path))u(h,m,!0,p)}),e}function Ib(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=Ib(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function AA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:MA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var xA=/^:[\w-]+$/,RA=3,CA=2,NA=1,IA=10,DA=-2,xv=i=>i==="*";function OA(i,e){let n=i.split("/"),s=n.length;return n.some(xv)&&(s+=DA),e&&(s+=CA),n.filter(o=>!xv(o)).reduce((o,u)=>o+(xA.test(u)?RA:u===""?NA:IA),s)}function MA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function kA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:mr([u,T.pathname]),pathnameBase:BA(mr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=mr([u,T.pathnameBase]))}return h}function Bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=VA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},A)=>{if(b==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const M=m[A];return T&&!M?g[b]=void 0:g[b]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function VA(i,e=!1,n=!0){Nn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function PA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LA=i=>UA.test(i);function jA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ga(i):i,u;if(n)if(LA(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Rv(n.substring(1),"/"):u=Rv(n,e)}else u=e;return{pathname:u,search:qA(s),hash:HA(o)}}function Rv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(i){let e=zA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Bp(i,e,n,s=!1){let o;typeof i=="string"?o=ga(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=jA(o,m),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),BA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,HA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function FA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Db=["POST","PUT","PATCH","DELETE"];new Set(Db);var GA=["GET",...Db];new Set(GA);var Vo=B.createContext(null);Vo.displayName="DataRouter";var hf=B.createContext(null);hf.displayName="DataRouterState";B.createContext(!1);var Ob=B.createContext({isTransitioning:!1});Ob.displayName="ViewTransition";var YA=B.createContext(new Map);YA.displayName="Fetchers";var QA=B.createContext(null);QA.displayName="Await";var li=B.createContext(null);li.displayName="Navigation";var Ru=B.createContext(null);Ru.displayName="Location";var ui=B.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var qp=B.createContext(null);qp.displayName="RouteError";function KA(i,{relative:e}={}){ct(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(li),{hash:o,pathname:u,search:h}=Cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Po(){return B.useContext(Ru)!=null}function Gi(){return ct(Po(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Ru).location}var Mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(i){B.useContext(li).static||B.useLayoutEffect(i)}function Uo(){let{isDataRoute:i}=B.useContext(ui);return i?ux():XA()}function XA(){ct(Po(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Vo),{basename:e,navigator:n}=B.useContext(li),{matches:s}=B.useContext(ui),{pathname:o}=Gi(),u=JSON.stringify(zp(s)),h=B.useRef(!1);return kb(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(Nn(h.current,Mb),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=Bp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:mr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,i])}var $A=B.createContext(null);function WA(i){let e=B.useContext(ui).outlet;return B.useMemo(()=>e&&B.createElement($A.Provider,{value:i},e),[e,i])}function Cu(i,{relative:e}={}){let{matches:n}=B.useContext(ui),{pathname:s}=Gi(),o=JSON.stringify(zp(n));return B.useMemo(()=>Bp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function JA(i,e){return Vb(i,e)}function Vb(i,e,n,s,o){ct(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(li),{matches:h}=B.useContext(ui),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";Pb(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=Gi(),M;if(e){let ne=typeof e=="string"?ga(e):e;ct(b==="/"||ne.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),M=ne}else M=A;let F=M.pathname||"/",K=F;if(b!=="/"){let ne=b.replace(/^\//,"").split("/");K="/"+F.replace(/^\//,"").split("/").slice(ne.length).join("/")}let L=Cb(i,{pathname:K});Nn(T||L!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Nn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=ix(L&&L.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:mr([b,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?b:mr([b,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),h,n,s,o);return e&&J?B.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},J):J}function ZA(){let i=lx(),e=FA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,h)}var ex=B.createElement(ZA,null),tx=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?B.createElement(ui.Provider,{value:this.props.routeContext},B.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nx({routeContext:i,match:e,children:n}){let s=B.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ui.Provider,{value:i},n)}function ix(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ct(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:A,errors:M}=n,F=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{s(b,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((b,T,A)=>{let M,F=!1,K=null,L=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,K=T.route.errorElement||ex,m&&(p<0&&A===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,L=null):p===A&&(F=!0,L=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,A+1)),ne=()=>{let ie;return M?ie=K:F?ie=L:T.route.Component?ie=B.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=b,B.createElement(nx,{match:T,routeContext:{outlet:b,matches:J,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?B.createElement(tx,{location:n.location,revalidation:n.revalidation,component:K,error:M,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):ne()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(i){let e=B.useContext(Vo);return ct(e,Hp(i)),e}function sx(i){let e=B.useContext(hf);return ct(e,Hp(i)),e}function ax(i){let e=B.useContext(ui);return ct(e,Hp(i)),e}function Fp(i){let e=ax(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function ox(){return Fp("useRouteId")}function lx(){let i=B.useContext(qp),e=sx("useRouteError"),n=Fp("useRouteError");return i!==void 0?i:e.errors?.[n]}function ux(){let{router:i}=rx("useNavigate"),e=Fp("useNavigate"),n=B.useRef(!1);return kb(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Nn(n.current,Mb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Cv={};function Pb(i,e,n){!e&&!Cv[i]&&(Cv[i]=!0,Nn(!1,n))}B.memo(cx);function cx({routes:i,future:e,state:n,unstable_onError:s}){return Vb(i,void 0,n,s,e)}function Nv({to:i,replace:e,state:n,relative:s}){ct(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(li);Nn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ui),{pathname:h}=Gi(),m=Uo(),p=Bp(i,zp(u),h,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function hx(i){return WA(i.context)}function is(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fx({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ga(n));let{pathname:p="/",search:g="",hash:b="",state:T=null,key:A="default"}=n,M=B.useMemo(()=>{let F=gr(p,h);return F==null?null:{location:{pathname:F,search:g,hash:b,state:T,key:A},navigationType:s}},[h,p,g,b,T,A,s]);return Nn(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:B.createElement(li.Provider,{value:m},B.createElement(Ru.Provider,{children:e,value:M}))}function dx({children:i,location:e}){return JA(sp(i),e)}function sp(i,e=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,sp(s.props.children,u));return}ct(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sp(s.props.children,u)),n.push(h)}),n}var Ch="get",Nh="application/x-www-form-urlencoded";function ff(i){return i!=null&&typeof i.tagName=="string"}function mx(i){return ff(i)&&i.tagName.toLowerCase()==="button"}function px(i){return ff(i)&&i.tagName.toLowerCase()==="form"}function gx(i){return ff(i)&&i.tagName.toLowerCase()==="input"}function yx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _x(i,e){return i.button===0&&(!e||e==="_self")&&!yx(i)}var gh=null;function vx(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var Ex=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(i){return i!=null&&!Ex.has(i)?(Nn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):i}function bx(i,e){let n,s,o,u,h;if(px(i)){let m=i.getAttribute("action");s=m?gr(m,e):null,n=i.getAttribute("method")||Ch,o=zm(i.getAttribute("enctype"))||Nh,u=new FormData(i)}else if(mx(i)||gx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ch,o=zm(i.getAttribute("formenctype"))||zm(m.getAttribute("enctype"))||Nh,u=new FormData(m,i),!vx()){let{name:g,type:b,value:T}=i;if(b==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(ff(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,s=null,o=Nh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tx(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&gr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function wx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ax(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await wx(u,n);return h.links?h.links():[]}return[]}));return Nx(s.flat(1).filter(Sx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Iv(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function xx(i,e,{includeHydrateFallback:n}={}){return Rx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rx(i){return[...new Set(i)]}function Cx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Nx(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Cx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ub(){let i=B.useContext(Vo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ix(){let i=B.useContext(hf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yp=B.createContext(void 0);Yp.displayName="FrameworkContext";function Lb(){let i=B.useContext(Yp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function Dx(i,e){let n=B.useContext(Yp),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=J=>{J.forEach(ne=>{h(ne.isIntersecting)})},L=new IntersectionObserver(K,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[i]),B.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Jl(m,M),onBlur:Jl(p,F),onMouseEnter:Jl(g,M),onMouseLeave:Jl(b,F),onTouchStart:Jl(T,M)}]:[!1,A,{}]}function Jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Ox({page:i,...e}){let{router:n}=Ub(),s=B.useMemo(()=>Cb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(kx,{page:i,matches:s,...e}):null}function Mx(i){let{manifest:e,routeModules:n}=Lb(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return Ax(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function kx({page:i,matches:e,...n}){let s=Gi(),{manifest:o,routeModules:u}=Lb(),{basename:h}=Ub(),{loaderData:m,matches:p}=Ix(),g=B.useMemo(()=>Iv(i,e,p,o,s,"data"),[i,e,p,o,s]),b=B.useMemo(()=>Iv(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,K=!1;if(e.forEach(J=>{let ne=o.routes[J.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===J.route.id)&&J.route.id in m&&u[J.route.id]?.shouldRevalidate||ne.hasClientLoader?K=!0:F.add(J.route.id))}),F.size===0)return[];let L=Tx(i,h,"data");return K&&F.size>0&&L.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[L.pathname+L.search]},[h,m,s,o,g,e,i,u]),A=B.useMemo(()=>xx(b,o),[b,o]),M=Mx(b);return B.createElement(B.Fragment,null,T.map(F=>B.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>B.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),M.map(({key:F,link:K})=>B.createElement("link",{key:F,nonce:n.nonce,...K})))}function Vx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jb&&(window.__reactRouterVersion="7.9.6")}catch{}function Px({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=EA({window:n,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(fx,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,...A},M){let{basename:F}=B.useContext(li),K=typeof g=="string"&&zb.test(g),L,J=!1;if(typeof g=="string"&&K&&(L=g,jb))try{let C=new URL(window.location.href),R=g.startsWith("//")?new URL(C.protocol+g):new URL(g),O=gr(R.pathname,F);R.origin===C.origin&&O!=null?g=O+R.search+R.hash:J=!0}catch{Nn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=KA(g,{relative:o}),[ie,fe,Ee]=Dx(s,A),_e=zx(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T});function N(C){e&&e(C),C.defaultPrevented||_e(C)}let x=B.createElement("a",{...A,...Ee,href:L||ne,onClick:J||u?e:N,ref:Vx(M,fe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ie&&!K?B.createElement(B.Fragment,null,x,B.createElement(Ox,{page:ne})):x});_n.displayName="Link";var Ux=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},b){let T=Cu(h,{relative:g.relative}),A=Gi(),M=B.useContext(hf),{navigator:F,basename:K}=B.useContext(li),L=M!=null&&Gx(T)&&m===!0,J=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,ne=A.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,J=J.toLowerCase()),ie&&K&&(ie=gr(ie,K)||ie);const fe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let Ee=ne===J||!o&&ne.startsWith(J)&&ne.charAt(fe)==="/",_e=ie!=null&&(ie===J||!o&&ie.startsWith(J)&&ie.charAt(J.length)==="/"),N={isActive:Ee,isPending:_e,isTransitioning:L},x=Ee?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Ee?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(N):u;return B.createElement(_n,{...g,"aria-current":x,className:C,ref:b,style:R,to:h,viewTransition:m},typeof p=="function"?p(N):p)});Ux.displayName="NavLink";var Lx=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Ch,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,...A},M)=>{let F=Hx(),K=Fx(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&zb.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Ee=fe?.getAttribute("formmethod")||h;F(fe||ie.currentTarget,{fetcherKey:e,method:Ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T})};return B.createElement("form",{ref:M,method:L,action:K,onSubmit:s?p:ne,...A,"data-discover":!J&&i==="render"?"true":void 0})});Lx.displayName="Form";function jx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bb(i){let e=B.useContext(Vo);return ct(e,jx(i)),e}function zx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Uo(),p=Gi(),g=Cu(i,{relative:u});return B.useCallback(b=>{if(_x(b,e)){b.preventDefault();let T=n!==void 0?n:pu(p)===pu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var Bx=0,qx=()=>`__${String(++Bx)}__`;function Hx(){let{router:i}=Bb("useSubmit"),{basename:e}=B.useContext(li),n=ox();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=bx(s,e);if(o.navigate===!1){let b=o.fetcherKey||qx();await i.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Fx(i,{relative:e}={}){let{basename:n}=B.useContext(li),s=B.useContext(ui);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(i||".",{relative:e})},h=Gi();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),pu(u)}function Gx(i,{relative:e}={}){let n=B.useContext(Ob);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Bb("useViewTransitionState"),o=Cu(i,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bh(o.pathname,h)!=null||Bh(o.pathname,u)!=null}const ia="study_hub_users",yh="study_hub_current_user",Eo={login:async(i,e)=>{if(await new Promise(o=>setTimeout(o,500)),i==="vinay@gmail.com"&&e==="q1w2e3r4t5"){const o={id:"admin-vinay",name:"Vinay (Admin)",email:"vinay@gmail.com",role:"admin",status:"active"};return localStorage.setItem(yh,JSON.stringify(o)),o}const s=JSON.parse(localStorage.getItem(ia)||"[]").find(o=>o.email===i&&o.password===e);if(s){if(s.status==="pending")throw new Error("Account pending approval");if(s.status==="rejected")throw new Error("Account request rejected");const{password:o,...u}=s;return localStorage.setItem(yh,JSON.stringify(u)),u}throw new Error("Invalid credentials")},register:async(i,e,n,s)=>{await new Promise(h=>setTimeout(h,500));const o=JSON.parse(localStorage.getItem(ia)||"[]");if(o.find(h=>h.email===e))throw new Error("User already exists");const u={id:Date.now().toString(),name:i,email:e,password:n,role:"student",status:"pending",courseId:s,joinedAt:new Date().toISOString()};return o.push(u),localStorage.setItem(ia,JSON.stringify(o)),null},logout:()=>{localStorage.removeItem(yh)},getCurrentUser:()=>{const i=localStorage.getItem(yh);return i?JSON.parse(i):null},getPendingUsers:()=>JSON.parse(localStorage.getItem(ia)||"[]").filter(e=>e.status==="pending"),getAllUsers:()=>JSON.parse(localStorage.getItem(ia)||"[]"),updateUserStatus:(i,e)=>{const n=JSON.parse(localStorage.getItem(ia)||"[]"),s=n.findIndex(o=>o.id===i);return s!==-1?(n[s].status=e,localStorage.setItem(ia,JSON.stringify(n)),!0):!1}},qb=B.createContext(null),Yx=({children:i})=>{const[e,n]=B.useState(null),[s,o]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const g=Eo.getCurrentUser();n(g)}catch(g){console.error("Auth initialization error:",g)}finally{o(!1)}})()},[]);const u=async(p,g)=>{const b=await Eo.login(p,g);return n(b),b},h=async(p,g,b,T)=>{const A=await Eo.register(p,g,b,T);return n(A),A},m=()=>{Eo.logout(),n(null)};return E.jsx(qb.Provider,{value:{user:e,login:u,register:h,logout:m,loading:s},children:!s&&i})},Lo=()=>{const i=B.useContext(qb);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},Bm=({children:i,allowedRoles:e=[]})=>{const{user:n}=Lo(),s=Gi();return n?e.length>0&&!e.includes(n.role)?E.jsx(Nv,{to:"/",replace:!0}):i:E.jsx(Nv,{to:"/login",state:{from:s},replace:!0})};const Qx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Dv=i=>{const e=Kx(i);return e.charAt(0).toUpperCase()+e.slice(1)},Hb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Xx=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var $x={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wx=B.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>B.createElement("svg",{ref:p,...$x,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Hb("lucide",o),...!u&&!Xx(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,b])=>B.createElement(g,b)),...Array.isArray(u)?u:[u]]));const ft=(i,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(Wx,{ref:u,iconNode:e,className:Hb(`lucide-${Qx(Dv(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Dv(i),n};const Jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zx=ft("arrow-right",Jx);const eR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gs=ft("book-open",eR);const tR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ov=ft("check",tR);const nR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],iR=ft("circle-alert",nR);const rR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sR=ft("clock",rR);const aR=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fb=ft("download",aR);const oR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],df=ft("file-text",oR);const lR=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Mv=ft("folder",lR);const uR=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ap=ft("history",uR);const cR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],kv=ft("layout-dashboard",cR);const hR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qp=ft("loader-circle",hR);const fR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vv=ft("lock",fR);const dR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],op=ft("log-out",dR);const mR=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pR=ft("mail",mR);const gR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pv=ft("plus",gR);const yR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_R=ft("search",yR);const vR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ER=ft("share-2",vR);const bR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gb=ft("shield",bR);const TR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lp=ft("trash-2",TR);const wR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SR=ft("upload",wR);const AR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iu=ft("user",AR);const xR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RR=ft("users",xR);const CR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],up=ft("x",CR),NR=()=>{const{user:i,logout:e}=Lo(),n=Uo(),s=()=>{e(),n("/login")};return E.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans text-slate-900",children:[E.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200 fixed h-full z-10 hidden md:flex flex-col shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]",children:[E.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-100",children:E.jsxs(_n,{to:"/",className:"flex items-center",children:[E.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg mr-3",children:E.jsx(gs,{className:"h-5 w-5 text-indigo-600"})}),E.jsx("span",{className:"font-bold text-lg tracking-tight text-slate-900",children:"StudyHub"})]})}),E.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[E.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Menu"}),E.jsxs(_n,{to:"/dashboard",className:"flex items-center px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-lg transition-all duration-200 group",children:[E.jsx(df,{className:"h-5 w-5 mr-3 text-slate-400 group-hover:text-indigo-600 transition-colors"}),E.jsx("span",{className:"font-medium",children:"Materials"})]}),i?.role==="admin"&&E.jsxs(E.Fragment,{children:[E.jsxs(_n,{to:"/logs",className:"flex items-center px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-lg transition-all duration-200 group",children:[E.jsx(ap,{className:"h-5 w-5 mr-3 text-slate-400 group-hover:text-indigo-600 transition-colors"}),E.jsx("span",{className:"font-medium",children:"Download Logs"})]}),E.jsxs(_n,{to:"/users",className:"flex items-center px-4 py-2.5 text-slate-600 hover:bg-slate-50 hover:text-indigo-600 rounded-lg transition-all duration-200 group",children:[E.jsx(RR,{className:"h-5 w-5 mr-3 text-slate-400 group-hover:text-indigo-600 transition-colors"}),E.jsx("span",{className:"font-medium",children:"User Approvals"})]})]})]}),E.jsxs("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50",children:[E.jsxs("div",{className:"flex items-center p-2 mb-2 rounded-lg bg-white border border-slate-100 shadow-sm",children:[E.jsx("div",{className:"w-9 h-9 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold mr-3 text-sm ring-2 ring-white",children:i?.name?.[0]?.toUpperCase()}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:i?.name}),E.jsx("p",{className:"text-xs text-slate-500 truncate capitalize",children:i?.role})]})]}),E.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[E.jsx(op,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]}),E.jsxs("div",{className:"flex-1 md:ml-64 flex flex-col min-h-screen transition-all duration-300",children:[E.jsxs("header",{className:"h-16 bg-white/80 backdrop-blur-md border-b border-slate-200 flex items-center justify-between px-4 md:hidden sticky top-0 z-20",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx(gs,{className:"h-6 w-6 text-indigo-600 mr-2"}),E.jsx("span",{className:"font-bold text-lg text-slate-900",children:"StudyHub"})]}),E.jsx("button",{onClick:s,className:"p-2 text-slate-600",children:E.jsx(op,{className:"h-5 w-5"})})]}),E.jsx("main",{className:"flex-1 p-6 md:p-8 overflow-auto",children:E.jsx("div",{className:"max-w-7xl mx-auto",children:E.jsx(hx,{})})})]})]})},IR=()=>{const[i,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(""),[h,m]=B.useState(!1),{login:p}=Lo(),g=Uo();Gi().state?.from?.pathname;const T=async A=>{A.preventDefault(),u(""),m(!0);try{await p(i,n),await p(i,n),g("/dashboard",{replace:!0})}catch(M){u(M.message||"Invalid email or password")}finally{m(!1)}};return E.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl",children:E.jsx(gs,{className:"h-10 w-10 text-indigo-600"})})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-slate-900",children:"Sign in to your account"}),E.jsxs("p",{className:"mt-2 text-center text-sm text-slate-600",children:["Or"," ",E.jsx(_n,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"create a new account"})]})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsx("div",{className:"bg-white py-8 px-4 shadow-sm border border-slate-200 sm:rounded-xl sm:px-10",children:E.jsxs("form",{className:"space-y-6",onSubmit:T,children:[o&&E.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm flex items-center",children:[E.jsx("span",{className:"font-medium mr-1",children:"Error:"})," ",o]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),E.jsx("div",{className:"mt-1",children:E.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:A=>e(A.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm transition-all"})})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),E.jsx("div",{className:"mt-1",children:E.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:A=>s(A.target.value),className:"appearance-none block w-full px-3 py-2 border border-slate-300 rounded-lg shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm transition-all"})})]}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:h?E.jsx(Qp,{className:"h-5 w-5 animate-spin"}):"Sign in"})})]})})})]})},DR=()=>{};var Uv={};const Yb=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(A=64)),s.push(n[b],n[T],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Yb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):OR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new MR;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const e=Yb(i);return Qb.encodeByteArray(e,!0)},qh=function(i){return kR(i).replace(/\./g,"")},Kb=function(i){try{return Qb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PR=()=>VR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof Uv>"u")return;const i=Uv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},LR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Kb(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return DR()||PR()||UR()||LR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xb=i=>mf()?.emulatorHosts?.[i],$b=i=>{const e=Xb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Wb=()=>mf()?.config,Jb=i=>mf()?.[`_${i}`];class jR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function As(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kp(i){return(await fetch(i,{credentials:"include"})).ok}function Zb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qh(JSON.stringify(n)),qh(JSON.stringify(h)),""].join(".")}const ou={};function zR(){const i={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?i.emulator.push(e):i.prod.push(e);return i}function BR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Lv=!1;function Xp(i,e){if(typeof window>"u"||typeof document>"u"||!As(window.location.host)||ou[i]===e||ou[i]||Lv)return;ou[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=zR().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Lv=!0,h()},A}function b(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=BR(s),M=n("text"),F=document.getElementById(M)||document.createElement("span"),K=n("learnmore"),L=document.getElementById(K)||document.createElement("a"),J=n("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),b(L,K);const fe=g();p(ne,J),ie.append(ne,F,L,fe),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function HR(){const i=mf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function KR(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const WR="FirebaseError";class Yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WR,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?JR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Yi(o,m,s)}}function JR(i,e){return i.replace(ZR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ZR=/\{\$([^}]+)}/g;function e2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ca(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(jv(u)&&jv(h)){if(!ca(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(i){return i!==null&&typeof i=="object"}function Iu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function t2(i,e){const n=new n2(i,e);return n.subscribe.bind(n)}class n2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function qm(){}function Wt(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class r2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(i){return i===ra?void 0:i}function a2(i){return i.instantiationMode==="EAGER"}class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const l2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},u2=Me.INFO,c2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},h2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=c2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $p{constructor(e){this.name=e,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const f2=(i,e)=>e.some(n=>i instanceof n);let zv,Bv;function d2(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,cp=new WeakMap,tT=new WeakMap,Hm=new WeakMap,Wp=new WeakMap;function p2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(hs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&eT.set(n,i)}).catch(()=>{}),Wp.set(e,i),e}function g2(i){if(cp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});cp.set(i,e)}let hp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return cp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||tT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function y2(i){hp=i(hp)}function _2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Fm(this),e,...n);return tT.set(s,e.sort?e.sort():[e]),hs(s)}:m2().includes(i)?function(...e){return i.apply(Fm(this),e),hs(eT.get(this))}:function(...e){return hs(i.apply(Fm(this),e))}}function v2(i){return typeof i=="function"?_2(i):(i instanceof IDBTransaction&&g2(i),f2(i,d2())?new Proxy(i,hp):i)}function hs(i){if(i instanceof IDBRequest)return p2(i);if(Hm.has(i))return Hm.get(i);const e=v2(i);return e!==i&&(Hm.set(i,e),Wp.set(e,i)),e}const Fm=i=>Wp.get(i);function E2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=hs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(hs(h.result),p.oldVersion,p.newVersion,hs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const b2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],Gm=new Map;function qv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=T2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||b2.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Gm.set(e,u),u}y2(i=>({...i,get:(e,n,s)=>qv(e,n)||i.get(e,n,s),has:(e,n)=>!!qv(e,n)||i.has(e,n)}));class w2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S2(i){return i.getComponent()?.type==="VERSION"}const fp="@firebase/app",Hv="0.14.6";const yr=new $p("@firebase/app"),A2="@firebase/app-compat",x2="@firebase/analytics-compat",R2="@firebase/analytics",C2="@firebase/app-check-compat",N2="@firebase/app-check",I2="@firebase/auth",D2="@firebase/auth-compat",O2="@firebase/database",M2="@firebase/data-connect",k2="@firebase/database-compat",V2="@firebase/functions",P2="@firebase/functions-compat",U2="@firebase/installations",L2="@firebase/installations-compat",j2="@firebase/messaging",z2="@firebase/messaging-compat",B2="@firebase/performance",q2="@firebase/performance-compat",H2="@firebase/remote-config",F2="@firebase/remote-config-compat",G2="@firebase/storage",Y2="@firebase/storage-compat",Q2="@firebase/firestore",K2="@firebase/ai",X2="@firebase/firestore-compat",$2="firebase",W2="12.6.0";const dp="[DEFAULT]",J2={[fp]:"fire-core",[A2]:"fire-core-compat",[R2]:"fire-analytics",[x2]:"fire-analytics-compat",[N2]:"fire-app-check",[C2]:"fire-app-check-compat",[I2]:"fire-auth",[D2]:"fire-auth-compat",[O2]:"fire-rtdb",[M2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[V2]:"fire-fn",[P2]:"fire-fn-compat",[U2]:"fire-iid",[L2]:"fire-iid-compat",[j2]:"fire-fcm",[z2]:"fire-fcm-compat",[B2]:"fire-perf",[q2]:"fire-perf-compat",[H2]:"fire-rc",[F2]:"fire-rc-compat",[G2]:"fire-gcs",[Y2]:"fire-gcs-compat",[Q2]:"fire-fst",[X2]:"fire-fst-compat",[K2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};const Hh=new Map,Z2=new Map,mp=new Map;function Fv(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ha(i){const e=i.name;if(mp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,i);for(const n of Hh.values())Fv(n,i);for(const n of Z2.values())Fv(n,i);return!0}function pf(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ri(i){return i==null?!1:i.settings!==void 0}const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Nu("app","Firebase",eC);class tC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const ya=W2;function nT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:dp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=Wb()),!n)throw fs.create("no-options");const u=Hh.get(o);if(u){if(ca(n,u.options)&&ca(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const h=new o2(o);for(const p of mp.values())h.addComponent(p);const m=new tC(n,s,h);return Hh.set(o,m),m}function Jp(i=dp){const e=Hh.get(i);if(!e&&i===dp&&Wb())return nT();if(!e)throw fs.create("no-app",{appName:i});return e}function Pi(i,e,n){let s=J2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}ha(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const nC="firebase-heartbeat-database",iC=1,gu="firebase-heartbeat-store";let Ym=null;function iT(){return Ym||(Ym=E2(nC,iC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),Ym}async function rC(i){try{const n=(await iT()).transaction(gu),s=await n.objectStore(gu).get(rT(i));return await n.done,s}catch(e){if(e instanceof Yi)yr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});yr.warn(n.message)}}}async function Gv(i,e){try{const s=(await iT()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,rT(i)),await s.done}catch(n){if(n instanceof Yi)yr.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function rT(i){return`${i.name}!${i.options.appId}`}const sC=1024,aC=30;class oC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>aC){const o=cC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:s}=lC(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return yr.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function lC(i,e=sC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Qv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qv(i){return qh(JSON.stringify({version:2,heartbeats:i})).length}function cC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function hC(i){ha(new ys("platform-logger",e=>new w2(e),"PRIVATE")),ha(new ys("heartbeat",e=>new oC(e),"PRIVATE")),Pi(fp,Hv,i),Pi(fp,Hv,"esm2020"),Pi("fire-js","")}hC("");var fC="firebase",dC="12.6.0";Pi(fC,dC,"app");const sT="firebasestorage.googleapis.com",aT="storageBucket",mC=120*1e3,pC=600*1e3,gC=1e3;class dt extends Yi{constructor(e,n,s=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function Qm(i){return"storage/"+i}function Zp(){const i="An unknown error occurred, please check the error payload for server response.";return new dt(st.UNKNOWN,i)}function yC(i){return new dt(st.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function _C(i){return new dt(st.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vC(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(st.UNAUTHENTICATED,i)}function EC(){return new dt(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bC(i){return new dt(st.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function oT(){return new dt(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lT(){return new dt(st.CANCELED,"User canceled the upload/download.")}function TC(i){return new dt(st.INVALID_URL,"Invalid URL '"+i+"'.")}function wC(i){return new dt(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function SC(){return new dt(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aT+"' property when initializing the app?")}function uT(){return new dt(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function AC(){return new dt(st.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function xC(){return new dt(st.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function RC(i){return new dt(st.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pp(i){return new dt(st.INVALID_ARGUMENT,i)}function cT(){return new dt(st.APP_DELETED,"The Firebase app was deleted.")}function CC(i){return new dt(st.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lu(i,e){return new dt(st.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Zl(i){throw new dt(st.INTERNAL_ERROR,"Internal error: "+i)}class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(s.path==="")return s;throw wC(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const b="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",M=new RegExp(`^https?://${T}/${b}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},K=n===sT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",J=new RegExp(`^https?://${K}/${o}/${L}`,"i"),ie=[{regex:m,indices:p,postModify:u},{regex:M,indices:F,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ie.length;fe++){const Ee=ie[fe],_e=Ee.regex.exec(e);if(_e){const N=_e[Ee.indices.bucket];let x=_e[Ee.indices.path];x||(x=""),s=new Cn(N,x),Ee.postModify(s);break}}if(s==null)throw TC(e);return s}}class NC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function IC(i,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function b(...L){g||(g=!0,e.apply(null,L))}function T(L){o=setTimeout(()=>{o=null,i(M,p())},L)}function A(){u&&clearTimeout(u)}function M(L,...J){if(g){A();return}if(L){A(),b.call(null,L,...J);return}if(p()||h){A(),b.call(null,L,...J);return}s<64&&(s*=2);let ie;m===1?(m=2,ie=0):ie=(s+Math.random())*1e3,T(ie)}let F=!1;function K(L){F||(F=!0,A(),!g&&(o!==null?(L||(m=2),clearTimeout(o),T(0)):L||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,K(!0)},n),K}function DC(i){i(!1)}function OC(i){return i!==void 0}function MC(i){return typeof i=="function"}function kC(i){return typeof i=="object"&&!Array.isArray(i)}function gf(i){return typeof i=="string"||i instanceof String}function Kv(i){return eg()&&i instanceof Blob}function eg(){return typeof Blob<"u"}function Xv(i,e,n,s){if(s<e)throw pp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw pp(`Invalid value for '${i}'. Expected ${n} or less.`)}function jo(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function hT(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var la;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(la||(la={}));function fT(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}class VC{constructor(e,n,s,o,u,h,m,p,g,b,T,A=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,K)=>{this.resolve_=F,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new _h(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===la.NO_ERROR,p=u.getStatus();if(!m||fT(p,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===la.ABORT;s(!1,new _h(!1,null,b));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new _h(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());OC(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Zp();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?cT():lT();h(p)}else{const p=oT();h(p)}};this.canceled_?n(!1,new _h(!1,null,!0)):this.backoffId_=IC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function PC(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function UC(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LC(i,e){e&&(i["X-Firebase-GMPID"]=e)}function jC(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function zC(i,e,n,s,o,u,h=!0,m=!1){const p=hT(i.urlParams),g=i.url+p,b=Object.assign({},i.headers);return LC(b,e),PC(b,n),UC(b,u),jC(b,s),new VC(g,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function BC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qC(...i){const e=BC();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(eg())return new Blob(i);throw new dt(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HC(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}function FC(i){if(typeof atob>"u")throw RC("base-64");return atob(i)}const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,n){this.data=e,this.contentType=n||null}}function GC(i,e){switch(i){case Vi.RAW:return new Km(dT(e));case Vi.BASE64:case Vi.BASE64URL:return new Km(mT(i,e));case Vi.DATA_URL:return new Km(QC(e),KC(e))}throw Zp()}function dT(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function YC(i){let e;try{e=decodeURIComponent(i)}catch{throw lu(Vi.DATA_URL,"Malformed data URL.")}return dT(e)}function mT(i,e){switch(i){case Vi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw lu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FC(e)}catch(o){throw o.message.includes("polyfill")?o:lu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class pT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw lu(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=XC(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function QC(i){const e=new pT(i);return e.base64?mT(Vi.BASE64,e.rest):YC(e.rest)}function KC(i){return new pT(i).contentType}function XC(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class ss{constructor(e,n){let s=0,o="";Kv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Kv(this.data_)){const s=this.data_,o=HC(s,e,n);return o===null?null:new ss(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ss(s,!0)}}static getBlob(...e){if(eg()){const n=e.map(s=>s instanceof ss?s.data_:s);return new ss(qC.apply(null,n))}else{const n=e.map(h=>gf(h)?GC(Vi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ss(o,!0)}}uploadData(){return this.data_}}function gT(i){let e;try{e=JSON.parse(i)}catch{return null}return kC(e)?e:null}function $C(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function WC(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function yT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function JC(i,e){return e}class ln{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||JC}}let vh=null;function ZC(i){return!gf(i)||i.length<2?i:yT(i)}function _T(){if(vh)return vh;const i=[];i.push(new ln("bucket")),i.push(new ln("generation")),i.push(new ln("metageneration")),i.push(new ln("name","fullPath",!0));function e(u,h){return ZC(h)}const n=new ln("name");n.xform=e,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new ln("size");return o.xform=s,i.push(o),i.push(new ln("timeCreated")),i.push(new ln("updated")),i.push(new ln("md5Hash",null,!0)),i.push(new ln("cacheControl",null,!0)),i.push(new ln("contentDisposition",null,!0)),i.push(new ln("contentEncoding",null,!0)),i.push(new ln("contentLanguage",null,!0)),i.push(new ln("contentType",null,!0)),i.push(new ln("metadata","customMetadata",!0)),vh=i,vh}function eN(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Cn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function tN(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return eN(s,i),s}function vT(i,e,n){const s=gT(e);return s===null?null:tN(i,s,n)}function nN(i,e,n,s){const o=gT(e);if(o===null||!gf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const b=i.bucket,T=i.fullPath,A="/b/"+h(b)+"/o/"+h(T),M=jo(A,n,s),F=hT({alt:"media",token:g});return M+F})[0]}function ET(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class _a{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pr(i){if(!i)throw Zp()}function tg(i,e){function n(s,o){const u=vT(i,o,e);return pr(u!==null),u}return n}function iN(i,e){function n(s,o){const u=vT(i,o,e);return pr(u!==null),nN(u,o,i.host,i._protocol)}return n}function Du(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=EC():o=vC():n.getStatus()===402?o=_C(i.bucket):n.getStatus()===403?o=bC(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function ng(i){const e=Du(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=yC(i.path)),u.serverResponse=o.serverResponse,u}return n}function rN(i,e,n){const s=e.fullServerUrl(),o=jo(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new _a(o,u,tg(i,n),h);return m.errorHandler=ng(e),m}function sN(i,e,n){const s=e.fullServerUrl(),o=jo(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new _a(o,u,iN(i,n),h);return m.errorHandler=ng(e),m}function aN(i,e){const n=e.fullServerUrl(),s=jo(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new _a(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=ng(e),m}function oN(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function bT(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=oN(null,e)),s}function lN(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ie="";for(let fe=0;fe<2;fe++)ie=ie+Math.random().toString().slice(2);return ie}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=bT(e,s,o),b=ET(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",M=ss.getBlob(T,s,A);if(M===null)throw uT();const F={name:g.fullPath},K=jo(u,i.host,i._protocol),L="POST",J=i.maxUploadRetryTime,ne=new _a(K,L,tg(i,n),J);return ne.urlParams=F,ne.headers=h,ne.body=M.uploadData(),ne.errorHandler=Du(e),ne}class Fh{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function ig(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{pr(!1)}return pr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function uN(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),h=bT(e,s,o),m={name:h.fullPath},p=jo(u,i.host,i._protocol),g="POST",b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},T=ET(h,n),A=i.maxUploadRetryTime;function M(K){ig(K);let L;try{L=K.getResponseHeader("X-Goog-Upload-URL")}catch{pr(!1)}return pr(gf(L)),L}const F=new _a(p,g,M,A);return F.urlParams=m,F.headers=b,F.body=T,F.errorHandler=Du(e),F}function cN(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const b=ig(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{pr(!1)}T||pr(!1);const A=Number(T);return pr(!isNaN(A)),new Fh(A,s.size(),b==="final")}const h="POST",m=i.maxUploadRetryTime,p=new _a(n,h,u,m);return p.headers=o,p.errorHandler=Du(e),p}const $v=256*1024;function hN(i,e,n,s,o,u,h,m){const p=new Fh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw AC();const g=p.total-p.current;let b=g;o>0&&(b=Math.min(b,o));const T=p.current,A=T+b;let M="";b===0?M="finalize":g===b?M="upload, finalize":M="upload";const F={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},K=s.slice(T,A);if(K===null)throw uT();function L(fe,Ee){const _e=ig(fe,["active","final"]),N=p.current+b,x=s.size();let C;return _e==="final"?C=tg(e,u)(fe,Ee):C=null,new Fh(N,x,_e==="final",C)}const J="POST",ne=e.maxUploadRetryTime,ie=new _a(n,J,L,ne);return ie.headers=F,ie.body=K.uploadData(),ie.progressCallback=m||null,ie.errorHandler=Du(i),ie}const gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xm(i){switch(i){case"running":case"pausing":case"canceling":return gn.RUNNING;case"paused":return gn.PAUSED;case"success":return gn.SUCCESS;case"canceled":return gn.CANCELED;case"error":return gn.ERROR;default:return gn.ERROR}}class fN{constructor(e,n,s){if(MC(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function mo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class dN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Zl("cannot .send() more than once");if(As(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mN extends dN{initXhr(){this.xhr_.responseType="text"}}function aa(){return new mN}class pN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=_T(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(st.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(fT(o.status,[]))if(u)o=oT();else{this.sleepTime=Math.max(this.sleepTime*2,gC),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(st.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=uN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,aa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=cN(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,aa,n,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=$v*this._chunkMultiplier,n=new Fh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=hN(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,aa,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){$v*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=rN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,aa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=lN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,aa,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lT(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Xm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new fN(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Xm(this._state)){case gn.SUCCESS:mo(this._resolve.bind(null,this.snapshot))();break;case gn.CANCELED:case gn.ERROR:const n=this._reject;mo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Xm(this._state)){case gn.RUNNING:case gn.PAUSED:e.next&&mo(e.next.bind(e,this.snapshot))();break;case gn.SUCCESS:e.complete&&mo(e.complete.bind(e))();break;case gn.CANCELED:case gn.ERROR:e.error&&mo(e.error.bind(e,this._error))();break;default:e.error&&mo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class fa{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fa(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yT(this._location.path)}get storage(){return this._service}get parent(){const e=$C(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new fa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CC(e)}}function gN(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new pN(i,new ss(e),n)}function yN(i){i._throwIfRoot("getDownloadURL");const e=sN(i.storage,i._location,_T());return i.storage.makeRequestWithTokens(e,aa).then(n=>{if(n===null)throw xC();return n})}function _N(i){i._throwIfRoot("deleteObject");const e=aN(i.storage,i._location);return i.storage.makeRequestWithTokens(e,aa)}function vN(i,e){const n=WC(i._location.path,e),s=new Cn(i._location.bucket,n);return new fa(i.storage,s)}function EN(i){return/^[A-Za-z]+:\/\//.test(i)}function bN(i,e){return new fa(i,e)}function TT(i,e){if(i instanceof rg){const n=i;if(n._bucket==null)throw SC();const s=new fa(n,n._bucket);return e!=null?TT(s,e):s}else return e!==void 0?vN(i,e):i}function TN(i,e){if(e&&EN(e)){if(i instanceof rg)return bN(i,e);throw pp("To use ref(service, url), the first argument must be a Storage instance.")}else return TT(i,e)}function Wv(i,e){const n=e?.[aT];return n==null?null:Cn.makeFromBucketSpec(n,i)}function wN(i,e,n,s={}){i.host=`${e}:${n}`;const o=As(e);o&&(Kp(`https://${i.host}/b`),Xp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:Zb(u,i.app.options.projectId))}class rg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=sT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mC,this._maxUploadRetryTime=pC,this._requests=new Set,o!=null?this._bucket=Cn.makeFromBucketSpec(o,this._host):this._bucket=Wv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=Wv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new NC(cT());{const h=zC(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Jv="@firebase/storage",Zv="0.14.0";const wT="storage";function SN(i,e,n){return i=Wt(i),gN(i,e,n)}function AN(i){return i=Wt(i),yN(i)}function xN(i){return i=Wt(i),_N(i)}function eE(i,e){return i=Wt(i),TN(i,e)}function RN(i=Jp(),e){i=Wt(i);const s=pf(i,wT).getImmediate({identifier:e}),o=$b("storage");return o&&CN(s,...o),s}function CN(i,e,n,s={}){wN(i,e,n,s)}function NN(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new rg(n,s,o,e,ya)}function IN(){ha(new ys(wT,NN,"PUBLIC").setMultipleInstances(!0)),Pi(Jv,Zv,""),Pi(Jv,Zv,"esm2020")}IN();var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ds,ST;(function(){var i;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(R,O,U){for(var I=Array(arguments.length-2),at=2;at<arguments.length;at++)I[at-2]=arguments[at];return x.prototype[O].apply(R,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const R=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)R[O]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(O=0;O<16;++O)R[O]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],O=N.g[2];let U=N.g[3],I;I=x+(U^C&(O^U))+R[0]+3614090360&4294967295,x=C+(I<<7&4294967295|I>>>25),I=U+(O^x&(C^O))+R[1]+3905402710&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(C^U&(x^C))+R[2]+606105819&4294967295,O=U+(I<<17&4294967295|I>>>15),I=C+(x^O&(U^x))+R[3]+3250441966&4294967295,C=O+(I<<22&4294967295|I>>>10),I=x+(U^C&(O^U))+R[4]+4118548399&4294967295,x=C+(I<<7&4294967295|I>>>25),I=U+(O^x&(C^O))+R[5]+1200080426&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(C^U&(x^C))+R[6]+2821735955&4294967295,O=U+(I<<17&4294967295|I>>>15),I=C+(x^O&(U^x))+R[7]+4249261313&4294967295,C=O+(I<<22&4294967295|I>>>10),I=x+(U^C&(O^U))+R[8]+1770035416&4294967295,x=C+(I<<7&4294967295|I>>>25),I=U+(O^x&(C^O))+R[9]+2336552879&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(C^U&(x^C))+R[10]+4294925233&4294967295,O=U+(I<<17&4294967295|I>>>15),I=C+(x^O&(U^x))+R[11]+2304563134&4294967295,C=O+(I<<22&4294967295|I>>>10),I=x+(U^C&(O^U))+R[12]+1804603682&4294967295,x=C+(I<<7&4294967295|I>>>25),I=U+(O^x&(C^O))+R[13]+4254626195&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(C^U&(x^C))+R[14]+2792965006&4294967295,O=U+(I<<17&4294967295|I>>>15),I=C+(x^O&(U^x))+R[15]+1236535329&4294967295,C=O+(I<<22&4294967295|I>>>10),I=x+(O^U&(C^O))+R[1]+4129170786&4294967295,x=C+(I<<5&4294967295|I>>>27),I=U+(C^O&(x^C))+R[6]+3225465664&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^C&(U^x))+R[11]+643717713&4294967295,O=U+(I<<14&4294967295|I>>>18),I=C+(U^x&(O^U))+R[0]+3921069994&4294967295,C=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(C^O))+R[5]+3593408605&4294967295,x=C+(I<<5&4294967295|I>>>27),I=U+(C^O&(x^C))+R[10]+38016083&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^C&(U^x))+R[15]+3634488961&4294967295,O=U+(I<<14&4294967295|I>>>18),I=C+(U^x&(O^U))+R[4]+3889429448&4294967295,C=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(C^O))+R[9]+568446438&4294967295,x=C+(I<<5&4294967295|I>>>27),I=U+(C^O&(x^C))+R[14]+3275163606&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^C&(U^x))+R[3]+4107603335&4294967295,O=U+(I<<14&4294967295|I>>>18),I=C+(U^x&(O^U))+R[8]+1163531501&4294967295,C=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(C^O))+R[13]+2850285829&4294967295,x=C+(I<<5&4294967295|I>>>27),I=U+(C^O&(x^C))+R[2]+4243563512&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^C&(U^x))+R[7]+1735328473&4294967295,O=U+(I<<14&4294967295|I>>>18),I=C+(U^x&(O^U))+R[12]+2368359562&4294967295,C=O+(I<<20&4294967295|I>>>12),I=x+(C^O^U)+R[5]+4294588738&4294967295,x=C+(I<<4&4294967295|I>>>28),I=U+(x^C^O)+R[8]+2272392833&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^C)+R[11]+1839030562&4294967295,O=U+(I<<16&4294967295|I>>>16),I=C+(O^U^x)+R[14]+4259657740&4294967295,C=O+(I<<23&4294967295|I>>>9),I=x+(C^O^U)+R[1]+2763975236&4294967295,x=C+(I<<4&4294967295|I>>>28),I=U+(x^C^O)+R[4]+1272893353&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^C)+R[7]+4139469664&4294967295,O=U+(I<<16&4294967295|I>>>16),I=C+(O^U^x)+R[10]+3200236656&4294967295,C=O+(I<<23&4294967295|I>>>9),I=x+(C^O^U)+R[13]+681279174&4294967295,x=C+(I<<4&4294967295|I>>>28),I=U+(x^C^O)+R[0]+3936430074&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^C)+R[3]+3572445317&4294967295,O=U+(I<<16&4294967295|I>>>16),I=C+(O^U^x)+R[6]+76029189&4294967295,C=O+(I<<23&4294967295|I>>>9),I=x+(C^O^U)+R[9]+3654602809&4294967295,x=C+(I<<4&4294967295|I>>>28),I=U+(x^C^O)+R[12]+3873151461&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^C)+R[15]+530742520&4294967295,O=U+(I<<16&4294967295|I>>>16),I=C+(O^U^x)+R[2]+3299628645&4294967295,C=O+(I<<23&4294967295|I>>>9),I=x+(O^(C|~U))+R[0]+4096336452&4294967295,x=C+(I<<6&4294967295|I>>>26),I=U+(C^(x|~O))+R[7]+1126891415&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~C))+R[14]+2878612391&4294967295,O=U+(I<<15&4294967295|I>>>17),I=C+(U^(O|~x))+R[5]+4237533241&4294967295,C=O+(I<<21&4294967295|I>>>11),I=x+(O^(C|~U))+R[12]+1700485571&4294967295,x=C+(I<<6&4294967295|I>>>26),I=U+(C^(x|~O))+R[3]+2399980690&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~C))+R[10]+4293915773&4294967295,O=U+(I<<15&4294967295|I>>>17),I=C+(U^(O|~x))+R[1]+2240044497&4294967295,C=O+(I<<21&4294967295|I>>>11),I=x+(O^(C|~U))+R[8]+1873313359&4294967295,x=C+(I<<6&4294967295|I>>>26),I=U+(C^(x|~O))+R[15]+4264355552&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~C))+R[6]+2734768916&4294967295,O=U+(I<<15&4294967295|I>>>17),I=C+(U^(O|~x))+R[13]+1309151649&4294967295,C=O+(I<<21&4294967295|I>>>11),I=x+(O^(C|~U))+R[4]+4149444226&4294967295,x=C+(I<<6&4294967295|I>>>26),I=U+(C^(x|~O))+R[11]+3174756917&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~C))+R[2]+718787259&4294967295,O=U+(I<<15&4294967295|I>>>17),I=C+(U^(O|~x))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,R=this.C;let O=this.h,U=0;for(;U<x;){if(O==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<x;)if(R[O++]=N.charCodeAt(U++),O==this.blockSize){o(this,R),O=0;break}}else for(;U<x;)if(R[O++]=N[U++],O==this.blockSize){o(this,R),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)N[x++]=this.g[C]>>>R&255;return N};function u(N,x){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function h(N,x){this.h=x;const C=[];let R=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;R&&U==x||(C[O]=U,R=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(x){return new h([x|0],x<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return L(g(-N));const x=[];let C=1;for(let R=0;N>=C;R++)x[R]=N/C|0,C*=4294967296;return new h(x,0)}function b(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return L(b(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let R=T;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const I=parseInt(N.substring(U,U+O),x);O<8?(O=g(Math.pow(x,O)),R=R.j(O).add(g(I))):(R=R.j(C),R=R.add(g(I)))}return R}var T=p(0),A=p(1),M=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-L(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);N+=(R>=0?R:4294967296+R)*x,x*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(K(this))return"-"+L(this).toString(N);const x=g(Math.pow(N,6));var C=this;let R="";for(;;){const O=fe(C,x).g;C=J(C,O.j(x));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,F(C))return U+R;for(;U.length<6;)U="0"+U;R=U+R}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=J(this,N),K(N)?-1:F(N)?0:1};function L(N){const x=N.g.length,C=[];for(let R=0;R<x;R++)C[R]=~N.g[R];return new h(C,~N.h).add(A)}i.abs=function(){return K(this)?L(this):this},i.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let R=0;for(let O=0;O<=x;O++){let U=R+(this.i(O)&65535)+(N.i(O)&65535),I=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);R=I>>>16,U&=65535,I&=65535,C[O]=I<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function J(N,x){return N.add(L(x))}i.j=function(N){if(F(this)||F(N))return T;if(K(this))return K(N)?L(this).j(L(N)):L(L(this).j(N));if(K(N))return L(this.j(L(N)));if(this.l(M)<0&&N.l(M)<0)return g(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var R=0;R<2*x;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let O=0;O<N.g.length;O++){const U=this.i(R)>>>16,I=this.i(R)&65535,at=N.i(O)>>>16,Mt=N.i(O)&65535;C[2*R+2*O]+=I*Mt,ne(C,2*R+2*O),C[2*R+2*O+1]+=U*Mt,ne(C,2*R+2*O+1),C[2*R+2*O+1]+=I*at,ne(C,2*R+2*O+1),C[2*R+2*O+2]+=U*at,ne(C,2*R+2*O+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new h(C,0)};function ne(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function ie(N,x){this.g=N,this.h=x}function fe(N,x){if(F(x))throw Error("division by zero");if(F(N))return new ie(T,T);if(K(N))return x=fe(L(N),x),new ie(L(x.g),L(x.h));if(K(x))return x=fe(N,L(x)),new ie(L(x.g),x.h);if(N.g.length>30){if(K(N)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,R=x;R.l(N)<=0;)C=Ee(C),R=Ee(R);var O=_e(C,1),U=_e(R,1);for(R=_e(R,2),C=_e(C,2);!F(R);){var I=U.add(R);I.l(N)<=0&&(O=O.add(C),U=I),R=_e(R,1),C=_e(C,1)}return x=J(N,O.j(x)),new ie(O,x)}for(O=T;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),U=g(C),I=U.j(x);K(I)||I.l(N)>0;)C-=R,U=g(C),I=U.j(x);F(U)&&(U=A),O=O.add(U),N=J(N,I)}return new ie(O,N)}i.B=function(N){return fe(this,N).h},i.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)&N.i(R);return new h(C,this.h&N.h)},i.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)|N.i(R);return new h(C,this.h|N.h)},i.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let R=0;R<x;R++)C[R]=this.i(R)^N.i(R);return new h(C,this.h^N.h)};function Ee(N){const x=N.g.length+1,C=[];for(let R=0;R<x;R++)C[R]=N.i(R)<<1|N.i(R-1)>>>31;return new h(C,N.h)}function _e(N,x){const C=x>>5;x%=32;const R=N.g.length-C,O=[];for(let U=0;U<R;U++)O[U]=x>0?N.i(U+C)>>>x|N.i(U+C+1)<<32-x:N.i(U+C);return new h(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ST=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,ds=h}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AT,ru,xT,Ih,gp,RT,CT,NT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function b(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,G){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[j].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=j[re]}else c.push(j)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function J(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new K(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,_e=!1,N=new ne,x=()=>{const c=Promise.resolve(void 0);Ee=()=>{c.then(C)}};function C(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){L(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}_e=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function at(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(at,O),at.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++X,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<Z.length;G++)v=Z[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,S,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Re(c,y,S,j);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!S,j),y.fa=v,c.push(y)),y};function be(c,y){const v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(S,j,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,y,v,S){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(c,y,v,S,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)ot(c,y[G],v,S,j);return null}return v=Ko(v),c&&c[Mt]?c.J(y,v,m(S)?!!S.capture:!1,j):xs(c,y,v,!1,S,j)}function xs(c,y,v,S,j,G){if(!y)throw Error("Invalid event type");const re=m(j)?!!j.capture:!!j;let Ae=Rs(c);if(Ae||(c[Ue]=Ae=new ue(c)),v=Ae.add(y,v,S,re,G),v.proxy)return v;if(S=wa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(j=re),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(hi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wa(){function c(v){return y.call(c.src,c.listener,v)}const y=Yo;return c}function Sa(c,y,v,S,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)Sa(c,y[G],v,S,j);else S=m(S)?!!S.capture:!!S,v=Ko(v),c&&c[Mt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Re(y,v,S,j),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Rs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,v,S,j)),(v=c>-1?y[c]:null)&&Aa(v))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])be(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(hi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Rs(y))?(be(v,c),v.h==0&&(v.src=null,y[Ue]=null)):pe(c)}}}function hi(c){return c in kt?kt[c]:kt[c]="on"+c}function Yo(c,y){if(c.da)c=!0;else{y=new at(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&Aa(c),c=v.call(S,y)}return c}function Rs(c){return c=c[Ue],c instanceof ue?c:null}var Qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(c){return typeof c=="function"?c:(c[Qo]||(c[Qo]=function(y){return c.handleEvent(y)}),c[Qo])}function bt(){R.call(this),this.i=new ue(this),this.M=this,this.G=null}T(bt,R),bt.prototype[Mt]=!0,bt.prototype.removeEventListener=function(c,y,v,S){Sa(this,c,y,v,S)};function Vt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(S,c),ae(y,j)}j=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],j=Tr(G,S,!0,y)&&j;if(G=y.g=c,j=Tr(G,S,!0,y)&&j,j=Tr(G,S,!1,y)&&j,v)for(re=0;re<v.length;re++)G=y.g=v[re],j=Tr(G,S,!1,y)&&j}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},bt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},bt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Tr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const Ae=re.listener,yt=re.ha||re.src;re.fa&&be(c.i,re),j=Ae.call(yt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Vf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Bu(c){c.g=Vf(()=>{c.g=null,c.i&&(c.i=!1,Bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends R{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){R.call(this),this.h=c,this.g={}}T(Cs,R);var Xo=[];function $o(c){je(c.g,function(y,v){this.g.hasOwnProperty(v)&&Aa(y)},c),c.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),$o(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=h.JSON.stringify,Pf=h.JSON.parse,qu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Hu(){}function Fu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}T(Ht,O);function In(){O.call(this,"c")}T(In,O);var gt={},Gu=null;function xa(){return Gu=Gu||new bt}gt.Ia="serverreachability";function Yu(c){O.call(this,gt.Ia,c)}T(Yu,O);function fi(c){const y=xa();Vt(y,new Yu(y))}gt.STAT_EVENT="statevent";function Ns(c,y){O.call(this,gt.STAT_EVENT,c),this.stat=y}T(Ns,O);function Tt(c){const y=xa();Vt(y,new Ns(y,c))}gt.Ja="timingevent";function di(c,y){O.call(this,gt.Ja,c),this.size=y}T(di,O);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Uf(c,y,v,S,j,G){c.info(function(){if(c.g)if(G){var re="",Ae=G.split("&");for(let qe=0;qe<Ae.length;qe++){var yt=Ae[qe].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const kn=lt.split("_");re=kn.length>=2&&kn[1]=="type"?re+(lt+"="+yt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+re})}function Qu(c,y,v,S,j,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+re})}function pi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lf(c,v)+(S?" "+S:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Lf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return wr(G)}catch{return y}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function Os(){}T(Os,Hu),Os.prototype.g=function(){return new XMLHttpRequest},Jo=new Os;function Qi(c){return encodeURIComponent(String(c))}function Ku(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var wt={},Lt={};function gi(c,y,v){c.M=1,c.A=Ms(At(y)),c.u=v,c.R=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),yi(c),c.B=At(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Da(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Xn,c.g=uc(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Xo[0]=j.toString()),j=Xo);for(let G=0;G<j.length;G++){const re=ot(v,j[G],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),Uf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Jn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Jn(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ae!=4||yt==7||(yt==8||qe<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=jf(this);if(this.o=y==200,Qu(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var G=S;break t}}G=null}if(c=G)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,Tt(12),vn(this),Dn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=$u(this,v),lt==Lt){Ae==4&&(this.m=4,Tt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==wt){this.m=4,Tt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(Xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),dl(re),re.P=!0,Tt(11))}}else pi(this.i,this.l,v,null),vi(this,v);Ae==4&&vn(this),this.o&&!this.K&&(Ae==4?sc(this.j,this):(this.o=!1,yi(this)))}else Xi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),vn(this),Dn(this)}}}catch{}finally{}};function jf(c){if(!Xu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const S=y.length,j=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Dn(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(j&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Xu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function $u(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Kn.prototype.cancel=function(){this.K=!0,vn(this)};function yi(c){c.T=Date.now()+c.H,Ca(c,c.H)}function Ca(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(fi(),Tt(17)),vn(this),this.m=2,Dn(this)):Ca(this,this.T-c)};function Dn(c){c.j.I==0||c.K||sc(c.j,c)}function vn(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,$o(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Dr(v);else break e;zs(v),Tt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Pa(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let qe=j[y];const lt=qe[0];if(!(lt<=v.K))if(v.K=lt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const kn=qe[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Ci=qe[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Zn=qe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ei=c.g;if(ei){const Bs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var G=S.h;G.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(tl(G,G.h),G.h=null))}if(S.G){const Ua=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(S.wa=Ua,Ye(S.J,S.G,Ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=lc(S,S.L?S.ba:null,S.W),re.L){nl(S.h,re);var Ae=re,yt=S.O;yt&&(Ae.H=yt),Ae.D&&(_i(Ae),yi(Ae)),S.g=re}else ic(S);v.i.length>0&&xi(v)}else qe[0]!="stop"&&qe[0]!="close"||Ri(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(v,7):hl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}fi(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function bi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function tl(c,y){c.g?c.g.add(y):c.h=y}function nl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function il(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var Wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,G=null;S>=0?(j=c[v].substring(0,S),G=c[v].substring(S+1)):j=c[v],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,rl(this,tc(c.i)),this.m=c.m):c&&(y=String(c).match(Wu))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Sr(this,y[4]),this.h=Ti(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ks(y,Ia,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ks(y,Ia,!0),"@"),c.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ks(v,v.charAt(0)=="/"?sl:Ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ks(v,Zu)),c.join("")},En.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=y.h.lastIndexOf("/");j!=-1&&(S=y.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let re=0;re<j.length;){const Ae=j[re++];Ae=="."?S&&re==j.length&&G.push(""):Ae==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==j.length&&G.push("")):(G.push(Ae),S=!0)}S=G.join("/")}else S=j}return v?y.h=S:v=c.i.toString()!=="",v?rl(y,tc(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new En(c)}function jt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function rl(c,y,v){y instanceof xr?(c.i=y,Oa(c.i,c.l)):(v||(y=ks(y,Ar)),c.i=new xr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ms(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ks(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ia=/[#\/\?@]/g,Ju=/[#\?:]/g,sl=/[#\?]/g,Ar=/[#\?@]/g,Zu=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=xr.prototype,i.add=function(c,y){cn(this),this.i=null,c=Rr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ec(c,y){cn(c),y=Rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function al(c,y){return cn(c),y=Rr(c,y),c.g.has(y)}i.forEach=function(c,y){cn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)};function ol(c,y){cn(c);let v=[];if(typeof y=="string")al(c,y)&&(v=v.concat(c.g.get(Rr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return cn(this),this.i=null,c=Rr(this,c),al(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=ol(this,c),c.length>0?String(c[0]):y):y};function Da(c,y,v){ec(c,y),v.length>0&&(c.i=null,c.g.set(Rr(c,y),M(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const j=Qi(v);v=ol(this,v);for(let G=0;G<v.length;G++){let re=j;v[G]!==""&&(re+="="+Qi(v[G])),c.push(re)}}return this.i=c.join("&")};function tc(c){const y=new xr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Oa(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(ec(this,S),Da(this,j,v))},c)),c.j=y}function $n(c,y){const v=new Qn;if(h.Image){const S=new Image;S.onload=b(On,v,"TestLoadImage: loaded",!0,y,S),S.onerror=b(On,v,"TestLoadImage: error",!1,y,S),S.onabort=b(On,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(On,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ll(c,y){const v=new Qn,S=new AbortController,j=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Cr(){this.g=new qu}function wi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(wi,Hu),wi.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(c,y){bt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Vs,bt),i=Vs.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Nr(this):Wn(this),this.readyState==3&&Ma(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},i.Na=function(c){this.g&&(this.response=c,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let y="";return je(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ps(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Mn(v),typeof c=="string"?v!=null&&Qi(v):Ye(c,y,v))}function $e(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,bt);var Si=/^https?$/i,ul=["POST","PUT"];i=$e.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Us(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(ul,y,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Us(this,G)}};function Us(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,cl(c),Ki(c)}function cl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Ki(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),$e.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},i.Xa=function(){Ls(this)};function Ls(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let re=String(c.D).match(Wu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Si.test(re?re.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var j=Jn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",cl(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Pf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const y={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Ku(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}Ge(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ir.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){Tt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=lc(this,null,this.W),xi(this)};function hl(c){if(ka(c),c.I==3){var y=c.V++,v=At(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),js(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=Ms(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=uc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}oc(c)}function Dr(c){c.g&&(dl(c),c.g.cancel(),c.g=null)}function ka(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Pa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function xi(c){if(!el(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ee||x(),_e||(Ee(),_e=!0),N.add(y,c),c.D=0}}function Va(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,y),ac(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=nc(this,j,y),v=At(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),js(this,v),G&&(this.R?y="headers="+Qi(Mn(G))+"&"+y:this.u&&Ps(v,this.u,G)),tl(this.h,j),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),j.U=!0,gi(j,v,null)):gi(j,v,y),this.I=2}}else this.I==3&&(c?fl(this,c):this.i.length==0||el(this.h)||fl(this))};function fl(c,y){var v;y?v=y.l:v=c.V++;const S=At(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),js(c,S),c.u&&c.o&&Ps(S,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=nc(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),tl(c.h,v),gi(v,S,y)}function js(c,y){c.H&&je(c.H,function(v,S){Ye(y,S,v)}),c.l&&je({},function(v,S){Ye(y,S,v)})}function nc(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ae=-1;for(;;){const yt=["count="+v];Ae==-1?v>0?(Ae=j[0].g,yt.push("ofs="+Ae)):Ae=0:yt.push("ofs="+Ae);let qe=!0;for(let lt=0;lt<v;lt++){var G=j[lt].g;const kn=j[lt].map;if(G-=Ae,G<0)Ae=Math.max(0,j[lt].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=kn instanceof Map?kn:Object.entries(kn);for(const[Ci,Zn]of re){let ei=Zn;m(Zn)&&(ei=wr(Zn)),yt.push(G+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(kn)}}if(qe){re=yt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function ic(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ee||x(),_e||(Ee(),_e=!0),N.add(y,c),c.A=0}}function zs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),ac(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Dr(this),rc(this))};function dl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function rc(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),js(c,y),c.u&&c.o&&Ps(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ms(At(y)),v.u=null,v.R=!0,Ra(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Dr(this),zs(this),Tt(19))};function Pa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function sc(c,y){var v=null;if(c.g==y){Pa(c),dl(c),c.g=null;var S=2}else if(bi(c.h,y))v=y.G,nl(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;S=xa(),Vt(S,new di(S,v)),xi(c)}else ic(c);else if(j=y.m,j==3||j==0&&y.X>0||!(S==1&&Va(c,y)||S==2&&zs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function ac(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const j=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||jt(S,"https"),Ms(S),j?$n(S.toString(),v):ll(S.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),oc(c),ka(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function oc(c){if(c.I=0,c.ja=[],c.l){const y=il(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function lc(c,y,v){var S=v instanceof En?At(v):new En(v);if(S.g!="")y&&(S.g=y+"."+S.g),Sr(S,S.u);else{var j=h.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new En(null);S&&jt(G,S),y&&(G.g=y),j&&Sr(G,j),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),js(c,S),S}function uc(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new wi({ab:v})):new $e(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}i=cc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $i(this)}T(an,bt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){hl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=wr(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&xi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,an.Z.N.call(this)};function hc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(hc,Ht);function fc(){In.call(this),this.status=1}T(fc,In);function $i(c){this.g=c}T($i,cc),$i.prototype.ra=function(){Vt(this.g,"a")},$i.prototype.qa=function(c){Vt(this.g,new hc(c))},$i.prototype.pa=function(c){Vt(this.g,new fc)},$i.prototype.oa=function(){Vt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,NT=function(){return new Or},CT=function(){return xa()},RT=gt,gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Ih=Ds,Wo.COMPLETE="complete",xT=Wo,Fu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,ru=Fu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,AT=$e}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.9.2";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let zo="12.3.0";const da=new $p("@firebase/firestore");function go(){return da.logLevel}function oe(i,...e){if(da.logLevel<=Me.DEBUG){const n=e.map(sg);da.debug(`Firestore (${zo}): ${i}`,...n)}}function _r(i,...e){if(da.logLevel<=Me.ERROR){const n=e.map(sg);da.error(`Firestore (${zo}): ${i}`,...n)}}function Co(i,...e){if(da.logLevel<=Me.WARN){const n=e.map(sg);da.warn(`Firestore (${zo}): ${i}`,...n)}}function sg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,IT(i,s,n)}function IT(i,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||IT(e,o,s)}function Se(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class ON{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ms,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ms)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new DT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class kN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function yp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return $m(o)===$m(u)?ke(o,u):$m(o)?1:-1}return ke(i.length,e.length)}const LN=55296,jN=57343;function $m(i){const e=i.charCodeAt(0);return e>=LN&&e<=jN}function No(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const sE="__name__";class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=ki.isNumericId(e),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):yp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class tt extends ki{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const zN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends ki{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return zN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sE}static keyField(){return new $t([sE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function OT(i,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function BN(i,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function aE(i){if(!me.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function oE(i){if(me.isDocumentKey(i))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function MT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function yf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function yu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yf(i);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ot(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ou(i,e){if(!MT(i))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const lE=-62135596800,uE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function qN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new _s(o,me.empty(),e)}function HN(i){return new _s(i.readTime,i.key,_u)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(Te.min(),me.empty(),_u)}static max(){return new _s(Te.max(),me.empty(),_u)}}function FN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}const GN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==GN)throw i;oe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{h[g]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function QN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(i){return i.name==="IndexedDbTransactionError"}class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;const og=-1;function vf(i){return i==null}function Gh(i){return i===0&&1/i==-1/0}function KN(i){return typeof i=="number"&&Number.isInteger(i)&&!Gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const kT="";function XN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=cE(e)),e=$N(i.get(n),e);return cE(e)}function $N(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case kT:n+="";break;default:n+=u}}return n}function cE(i){return i+kT+""}function hE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function va(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function VT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new si([])}unionWith(e){let n=new Ut($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new PT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const WN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=WN.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const UT="server_timestamp",LT="__type__",jT="__previous_value__",zT="__local_write_time__";function lg(i){return(i?.mapValue?.fields||{})[LT]?.stringValue===UT}function Ef(i){const e=i.mapValue.fields[jT];return lg(e)?Ef(e):e}function vu(i){const e=vs(i.mapValue.fields[zT].timestampValue);return new rt(e.seconds,e.nanos)}class JN{constructor(e,n,s,o,u,h,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Yh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const BT="__type__",ZN="__max__",Th={mapValue:{}},qT="__vector__",Qh="value";function bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?lg(i)?4:tI(i)?9007199254740991:eI(i)?10:11:ye(28295,{value:i})}function Fi(i,e){if(i===e)return!0;const n=bs(i);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),m=Et(u.doubleValue);return h===m?Gh(h)===Gh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hE(h)!==hE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fi(h[p],m[p])))return!1;return!0})(i,e);default:return ye(52216,{left:i})}}function bu(i,e){return(i.values||[]).find((n=>Fi(n,e)))!==void 0}function Io(i,e){if(i===e)return 0;const n=bs(i),s=bs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return dE(i.timestampValue,e.timestampValue);case 4:return dE(vu(i),vu(e));case 5:return yp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Es(u),p=Es(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=ke(m[g],p[g]);if(b!==0)return b}return ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(Et(u.latitude),Et(h.latitude));return m!==0?m:ke(Et(u.longitude),Et(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return mE(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Qh]?.arrayValue,b=p[Qh]?.arrayValue,T=ke(g?.values?.length||0,b?.values?.length||0);return T!==0?T:mE(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Th.mapValue&&h===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(h===Th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const A=yp(p[T],b[T]);if(A!==0)return A;const M=Io(m[p[T]],g[b[T]]);if(M!==0)return M}return ke(p.length,b.length)})(i.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function dE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=vs(i),s=vs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function mE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Io(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Do(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Es(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return me.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=_p(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${_p(n.fields[h])}`;return o+"}"})(i.mapValue):ye(61005,{value:i})}function Dh(i){switch(bs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(i);return e?16+Dh(e):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return va(s.fields,((u,h)=>{o+=u.length+Dh(h)})),o})(i.mapValue);default:throw ye(13486,{value:i})}}function pE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function ug(i){return!!i&&"arrayValue"in i}function gE(i){return!!i&&"nullValue"in i}function yE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function eI(i){return(i?.mapValue?.fields||{})[BT]?.stringValue===qT}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return va(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(i.arrayValue.values[n]);return e}return{...i}}function tI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZN}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=uu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){va(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Fn(uu(this.value))}}function HT(i){const e=[];return va(i.fields,((n,s)=>{const o=new $t([n]);if(Oh(s)){const u=HT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new si(e)}class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Te.min(),Te.min(),Te.min(),Fn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Te.min(),Te.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Te.min(),Te.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kh{constructor(e,n){this.position=e,this.inclusive=n}}function _E(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),n.key):s=Io(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function vE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fi(i.position[n],e.position[n]))return!1;return!0}class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function nI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class FT{}class Dt extends FT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rI(e,n,s):n==="array-contains"?new oI(e,s):n==="in"?new lI(e,s):n==="not-in"?new uI(e,s):n==="array-contains-any"?new cI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sI(e,s):new aI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return GT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(i){return i.op==="and"}function YT(i){return iI(i)&&GT(i)}function iI(i){for(const e of i.filters)if(e instanceof oi)return!1;return!0}function Ep(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Do(i.value);if(YT(i))return i.filters.map((e=>Ep(e))).join(",");{const e=i.filters.map((n=>Ep(n))).join(",");return`${i.op}(${e})`}}function QT(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Fi(s.value,o.value)})(i,e):i instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&QT(h,o.filters[m])),!0):!1})(i,e):void ye(19439)}function KT(i){return i instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`})(i):i instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"})(i):"Filter"}class rI extends Dt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class sI extends Dt{constructor(e,n){super(e,"in",n),this.keys=XT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class aI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=XT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function XT(i,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class oI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&bu(n.arrayValue,this.value)}}class lI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class uI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class cI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>bu(this.value.arrayValue,s)))}}class hI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function EE(i,e=null,n=[],s=[],o=null,u=null,h=null){return new hI(i,e,n,s,o,u,h)}function cg(i){const e=Se(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Do(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Do(s))).join(",")),e.Te=n}return e.Te}function hg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!nI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!QT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vE(i.startAt,e.startAt)&&vE(i.endAt,e.endAt)}function bp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Mu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fI(i,e,n,s,o,u,h,m){return new Mu(i,e,n,s,o,u,h,m)}function $T(i){return new Mu(i)}function bE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function WT(i){return i.collectionGroup!==null}function cu(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ut($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xh(u,s))})),n.has($t.keyField().canonicalString())||e.Ie.push(new Xh($t.keyField(),s))}return e.Ie}function Ui(i){const e=Se(i);return e.Ee||(e.Ee=dI(e,cu(i))),e.Ee}function dI(i,e){if(i.limitType==="F")return EE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)}));const n=i.endAt?new Kh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kh(i.startAt.position,i.startAt.inclusive):null;return EE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Tp(i,e){const n=i.filters.concat([e]);return new Mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,n){return new Mu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function bf(i,e){return hg(Ui(i),Ui(e))&&i.limitType===e.limitType}function JT(i){return`${cg(Ui(i))}|lt:${i.limitType}`}function yo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>KT(o))).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Do(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Do(o))).join(",")),`Target(${s})`})(Ui(i))}; limitType=${i.limitType})`}function Tf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=_E(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,cu(s),o)||s.endAt&&!(function(h,m,p){const g=_E(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,cu(s),o))})(i,e)}function mI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZT(i){return(e,n)=>{let s=!1;for(const o of cu(i)){const u=pI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pI(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Io(p,g):ye(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}const gI=new ht(me.comparator);function vr(){return gI}const ew=new ht(me.comparator);function su(...i){let e=ew;for(const n of i)e=e.insert(n.key,n);return e}function tw(i){let e=ew;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return hu()}function nw(){return hu()}function hu(){return new Ea((i=>i.toString()),((i,e)=>i.isEqual(e)))}const yI=new ht(me.comparator),_I=new Ut(me.comparator);function Ve(...i){let e=_I;for(const n of i)e=e.add(n);return e}const vI=new Ut(ke);function EI(){return vI}function fg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function iw(i){return{integerValue:""+i}}function bI(i,e){return KN(e)?iw(e):fg(i,e)}class wf{constructor(){this._=void 0}}function TI(i,e,n){return i instanceof Tu?(function(o,u){const h={fields:{[LT]:{stringValue:UT},[zT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=Ef(u)),u&&(h.fields[jT]=u),{mapValue:h}})(n,e):i instanceof wu?sw(i,e):i instanceof Su?aw(i,e):(function(o,u){const h=rw(o,u),m=TE(h)+TE(o.Ae);return vp(h)&&vp(o.Ae)?iw(m):fg(o.serializer,m)})(i,e)}function wI(i,e,n){return i instanceof wu?sw(i,e):i instanceof Su?aw(i,e):n}function rw(i,e){return i instanceof $h?(function(s){return vp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Tu extends wf{}class wu extends wf{constructor(e){super(),this.elements=e}}function sw(i,e){const n=ow(e);for(const s of i.elements)n.some((o=>Fi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Su extends wf{constructor(e){super(),this.elements=e}}function aw(i,e){let n=ow(e);for(const s of i.elements)n=n.filter((o=>!Fi(o,s)));return{arrayValue:{values:n}}}class $h extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TE(i){return Et(i.integerValue||i.doubleValue)}function ow(i){return ug(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class SI{constructor(e,n){this.field=e,this.transform=n}}function AI(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof wu&&o instanceof wu||s instanceof Su&&o instanceof Su?No(s.elements,o.elements,Fi):s instanceof $h&&o instanceof $h?Fi(s.Ae,o.Ae):s instanceof Tu&&o instanceof Tu})(i.transform,e.transform)}class xI{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sf{}function lw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dg(i.key,Li.none()):new ku(i.key,i.data,Li.none());{const n=i.data,s=Fn.empty();let o=new Ut($t.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ba(i.key,s,new si(o.toArray()),Li.none())}}function RI(i,e,n){i instanceof ku?(function(o,u,h){const m=o.value.clone(),p=SE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ba?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=SE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(uw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function fu(i,e,n,s){return i instanceof ku?(function(u,h,m,p){if(!Mh(u.precondition,h))return m;const g=u.value.clone(),b=AE(u.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof ba?(function(u,h,m,p){if(!Mh(u.precondition,h))return m;const g=AE(u.fieldTransforms,p,h),b=h.data;return b.setAll(uw(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,h,m){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function CI(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=rw(s.transform,o||null);u!=null&&(n===null&&(n=Fn.empty()),n.set(s.field,u))}return n||null}function wE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,((u,h)=>AI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ku extends Sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function SE(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,wI(h,m,n[o]))}return s}function AE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,TI(u,h,e))}return s}class dg extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NI extends Sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class II{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nw();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=lw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,s)=>wE(n,s)))&&No(this.baseMutations,e.baseMutations,((n,s)=>wE(n,s)))}}class mg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,n,s,o)}}class DI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class OI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Le;function MI(i){switch(i){case ee.OK:return ye(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function cw(i){if(i===void 0)return _r("GRPC error has no .code"),ee.UNKNOWN;switch(i){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return ye(39323,{code:i})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function kI(){return new TextEncoder}const VI=new ds([4294967295,4294967295],0);function xE(i){const e=kI().encode(i),n=new ST;return n.update(e),new Uint8Array(n.digest())}function RE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class pg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(VI)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=xE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=xE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Af(Te.min(),o,new ht(ke),vr(),Ve())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Ve(),Ve(),Ve())}}class kh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class hw{constructor(e,n){this.targetId=e,this.Ce=n}}class fw{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class CE{constructor(){this.ve=0,this.Fe=NE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new Vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=NE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PI{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=wh(),this.He=wh(),this.Ye=new ht(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bp(u))if(s===0){const h=new me(u.path);this.et(n,h,nn.newNoDocument(h,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Es(s).toUint8Array()}catch(p){if(p instanceof PT)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(h,o,u)}catch(p){return Co(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&bp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ve();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Af(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=wh(),this.He=wh(),this.Ye=new ht(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ut(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ut(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new ht(me.comparator)}function NE(){return new ht(me.comparator)}const UI={asc:"ASCENDING",desc:"DESCENDING"},LI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class zI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sp(i,e){return i.useProto3Json||vf(e)?e:{value:e}}function Wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BI(i,e){return Wh(i,e.toTimestamp())}function ji(i){return Fe(!!i,49232),Te.fromTimestamp((function(n){const s=vs(n);return new rt(s.seconds,s.nanos)})(i))}function gg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function mw(i){const e=tt.fromString(i);return Fe(vw(e),10190,{key:e.toString()}),e}function xp(i,e){return gg(i.databaseId,e.path)}function Wm(i,e){const n=mw(e);if(n.get(1)!==i.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(gw(n))}function pw(i,e){return gg(i.databaseId,e)}function qI(i){const e=mw(i);return e.length===4?tt.emptyPath():gw(e)}function Rp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gw(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function IE(i,e,n){return{name:xp(i,e),fields:n.value.mapValue.fields}}function HI(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Fe(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const b=g.code===void 0?ee.UNKNOWN:cw(g.code);return new le(b,g.message||"")})(h);n=new fw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wm(i,s.document.name),u=ji(s.document.updateTime),h=s.document.createTime?ji(s.document.createTime):Te.min(),m=new Fn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new kh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wm(i,s.document),u=s.readTime?ji(s.readTime):Te.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wm(i,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new OI(o,u),m=s.targetId;n=new hw(m,h)}}return n}function FI(i,e){let n;if(e instanceof ku)n={update:IE(i,e.key,e.value)};else if(e instanceof dg)n={delete:xp(i,e.key)};else if(e instanceof ba)n={update:IE(i,e.key,e.data),updateMask:ZI(e.fieldMask)};else{if(!(e instanceof NI))return ye(16599,{Vt:e.type});n={verify:xp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:BI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(i,e.precondition)),n}function GI(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?ji(o.updateTime):ji(u);return h.isEqual(Te.min())&&(h=ji(u)),new xI(h,o.transformResults||[])})(n,e)))):[]}function YI(i,e){return{documents:[pw(i,e.path)]}}function QI(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pw(i,o);const u=(function(g){if(g.length!==0)return _w(oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((b=>(function(A){return{field:_o(A.field),direction:$I(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Sp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function KI(i){let e=qI(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const A=yw(T);return A instanceof oi&&YT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new Xh(vo(F.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,vf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,M=T.values||[];return new Kh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,M=T.values||[];return new Kh(M,A)})(n.endAt)),fI(e,o,h,u,m,"F",p,g)}function XI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=vo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=vo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(n.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Dt.create(vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>yw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(i):ye(30097,{filter:i})}function $I(i){return UI[i]}function WI(i){return LI[i]}function JI(i){return jI[i]}function _o(i){return{fieldPath:i.canonicalString()}}function vo(i){return $t.fromServerFormat(i.fieldPath)}function _w(i){return i instanceof Dt?(function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(gE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(gE(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:WI(n.op),value:n.value}}})(i):i instanceof oi?(function(n){const s=n.getFilters().map((o=>_w(o)));return s.length===1?s[0]:{compositeFilter:{op:JI(n.op),filters:s}}})(i):ye(54877,{filter:i})}function ZI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class cs{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eD{constructor(e){this.yt=e}}function tD(i){const e=KI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}class nD{constructor(){this.Cn=new iD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(_s.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(tt.comparator)).toArray()}}const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ew=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Ew,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}const OE="LruGarbageCollector",rD=1048576;function ME([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class sD{constructor(e){this.Ir=e,this.buffer=new Ut(ME),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ME(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(OE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?oe(OE,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class oD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(_f.ce);const s=new sD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(DE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),go()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function lD(i,e){return new oD(i,e)}class uD{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&fu(s.mutation,o,si.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ve()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ve()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=su();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ve())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=hu(),m=(function(){return hu()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ba)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),fu(b.mutation,g,b.mutation.getFieldMask(),rt.now())):h.set(g.key,si.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>h.set(g,b))),n.forEach(((g,b)=>m.set(g,new cD(b,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new ht(((h,m)=>h-m)),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||si.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=nw();b.forEach((A=>{if(!u.has(A)){const M=lw(n.get(A),s.get(A));M!==null&&T.set(A,M),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(oa());let m=_u,p=u;return h.next((g=>te.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ve()))).next((b=>({batchId:m,changes:tw(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=su();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,A){return new Mu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,nn.newInvalidDocument(b)))}));let m=su();return h.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&fu(b.mutation,g,si.empty(),rt.now()),Tf(n,g)&&(m=m.insert(p,g))})),m}))}}class fD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:tD(o.bundledQuery),readTime:ji(o.readTime)}})(n)),te.resolve()}}class dD{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,h=new me(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=oa(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new DI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ve(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class mD{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class yg{constructor(){this.Qr=new Ut(Bt.$r),this.Ur=new Ut(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Ve();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class pD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(Bt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new II(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?og:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(ke);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new me(u),0);let m=new Ut(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gD{constructor(e){this.ri=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||FN(HN(b),s)<=0||(o.has(b.key)||Tf(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new yD(this)}getSize(e){return te.resolve(this.size)}}class yD extends uD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class _D{constructor(e){this.persistence=e,this.si=new Ea((n=>cg(n)),hg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class bw{constructor(e,n){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new mD,this.referenceDelegate=e(this),this.Pi=new _D(this),this.indexManager=new nD,this.remoteDocumentCache=(function(o){return new gD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new eD(n),this.Ii=new fD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new pD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new vD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class vD extends YN{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jh{constructor(e,n){this.persistence=e,this.pi=new Ea((s=>XN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=lD(this,n)}static mi(e,n){return new Jh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,n.fromCache,s,o)}}class ED{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KR()?8:QN(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new ED;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(go()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(go()<=Me.DEBUG&&oe("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(go()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):te.resolve())}ys(e,n){if(bE(n))return te.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ve(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,wp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return bE(n)||o.isEqual(Te.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?te.resolve(null):(go()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(n)),this.vs(e,h,n,qN(o,_u)).next((m=>m)))}))}Ds(e,n){let s=new Ut(ZT(e));return n.forEach(((o,u)=>{Tf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return go()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Eg="LocalStore",TD=3e8;class wD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(ke),this.xs=new Ea((u=>cg(u)),hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SD(i,e,n,s){return new wD(i,e,n,s)}async function Tw(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function AD(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,A=T.keys();let M=te.resolve();return A.forEach((F=>{M=M.next((()=>b.getEntry(p,F))).next((K=>{const L=g.docVersions.get(F);Fe(L!==null,48541),K.version.compareTo(L)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),b.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function ww(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xD(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(b.resumeToken,s)),o=o.insert(T,M),(function(K,L,J){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=TD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(A,M,b)&&m.push(n.Pi.updateTargetData(u,M))}));let p=vr(),g=Ve();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(RD(u,h,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function RD(i,e,n){let s=Ve(),o=Ve();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):oe(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function CD(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ND(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new cs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Cp(i,e,n){const s=Se(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!qo(h))throw h;oe(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function kE(i,e,n){const s=Se(i);let o=Te.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,b){const T=Se(p),A=T.xs.get(b);return A!==void 0?te.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,b)})(s,h,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Ve()))).next((m=>(ID(s,mI(e),m),{documents:m,Qs:u})))))}function ID(i,e,n){let s=i.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class VE{constructor(){this.activeTargetIds=EI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OD{Oo(e){}shutdown(){}}const PE="ConnectivityMonitor";class UE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(PE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(PE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Np(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const Jm="RestConnection",MD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Np(),m=this.zo(e,n.toUriEncodedString());oe(Jm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=As(g);return this.Jo(e,m,p,s,b).then((T=>(oe(Jm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Co(Jm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=MD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class VD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class PD extends kD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Np();return new Promise(((m,p)=>{const g=new AT;g.setWithCredentials(!0),g.listenOnce(xT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const T=g.getResponseJson();oe(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Ih.TIMEOUT:oe(en,`RPC '${e}' ${h} timed out`),p(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const A=g.getStatus();if(oe(en,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const K=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(F.status);p(new le(K,F.message))}else p(new le(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(ee.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(en,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);oe(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=NT(),m=CT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");oe(en,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=h.createWebChannel(b,p);this.I_(T);let A=!1,M=!1;const F=new VD({Yo:L=>{M?oe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(oe(en,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),oe(en,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),K=(L,J,ne)=>{L.listen(J,(ie=>{try{ne(ie)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return K(T,ru.EventType.OPEN,(()=>{M||(oe(en,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),K(T,ru.EventType.CLOSE,(()=>{M||(M=!0,oe(en,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),K(T,ru.EventType.ERROR,(L=>{M||(M=!0,Co(en,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),F.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),K(T,ru.EventType.MESSAGE,(L=>{if(!M){const J=L.data[0];Fe(!!J,16349);const ne=J,ie=ne?.error||ne[0]?.error;if(ie){oe(en,`RPC '${e}' stream ${o} received error:`,ie);const fe=ie.status;let Ee=(function(x){const C=It[x];if(C!==void 0)return cw(C)})(fe),_e=ie.message;Ee===void 0&&(Ee=ee.INTERNAL,_e="Unknown error status: "+fe+" with message "+ie.message),M=!0,F.a_(new le(Ee,_e)),T.close()}else oe(en,`RPC '${e}' stream ${o} received:`,J),F.u_(J)}})),K(m,RT.STAT_EVENT,(L=>{L.stat===gp.PROXY?oe(en,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===gp.NOPROXY&&oe(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zm(){return typeof document<"u"?document:null}function xf(i){return new zI(i,!0)}class Sw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const LE="PersistentStream";class Aw{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UD extends Aw{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?ji(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Rp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=bp(p)?{documents:YI(u,p)}:{query:QI(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=dw(u,h.resumeToken);const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=Wh(u,h.snapshotVersion.toTimestamp());const g=Sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=XI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.q_(n)}}class LD extends Aw{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GI(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Rp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>FI(this.serializer,s)))};this.q_(n)}}class jD{}class zD extends jD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ap(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Ap(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class qD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{Ta(this)&&(oe(ma,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await Pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rf(g)})(this))}))})),this.Ra=new BD(s,o)}}async function Rf(i){if(Ta(i))for(const e of i.da)await e(!0)}async function Pu(i){for(const e of i.da)await e(!1)}function xw(i,e){const n=Se(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?wg(n):Ho(n).O_()&&Tg(n,e))}function bg(i,e){const n=Se(i),s=Ho(n);n.Ia.delete(e),s.O_()&&Rw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ta(n)&&n.Ra.set("Unknown"))}function Tg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(i).Y_(e)}function Rw(i,e){i.Va.Ue(e),Ho(i).Z_(e)}function wg(i){i.Va=new PI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ho(i).start(),i.Ra.ua()}function Sg(i){return Ta(i)&&!Ho(i).x_()&&i.Ia.size>0}function Ta(i){return Se(i).Ea.size===0}function Cw(i){i.Va=void 0}async function HD(i){i.Ra.set("Online")}async function FD(i){i.Ia.forEach(((e,n)=>{Tg(i,e)}))}async function GD(i,e){Cw(i),Sg(i)?(i.Ra.ha(e),wg(i)):i.Ra.set("Unknown")}async function YD(i,e,n){if(i.Ra.set("Online"),e instanceof fw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){oe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zh(i,s)}else if(e instanceof kh?i.Va.Ze(e):e instanceof hw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Te.min()))try{const s=await ww(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),Rw(u,p);const T=new cs(b.target,p,g,b.sequenceNumber);Tg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){oe(ma,"Failed to raise snapshot:",s),await Zh(i,s)}}async function Zh(i,e,n){if(!qo(e))throw e;i.Ea.add(1),await Pu(i),i.Ra.set("Offline"),n||(n=()=>ww(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{oe(ma,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Rf(i)}))}function Nw(i,e){return e().catch((n=>Zh(i,n,e)))}async function Cf(i){const e=Se(i),n=Ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:og;for(;QD(e);)try{const o=await CD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,KD(e,o)}catch(o){await Zh(e,o)}Iw(e)&&Dw(e)}function QD(i){return Ta(i)&&i.Ta.length<10}function KD(i,e){i.Ta.push(e);const n=Ts(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Iw(i){return Ta(i)&&!Ts(i).x_()&&i.Ta.length>0}function Dw(i){Ts(i).start()}async function XD(i){Ts(i).ra()}async function $D(i){const e=Ts(i);for(const n of i.Ta)e.ea(n.mutations)}async function WD(i,e,n){const s=i.Ta.shift(),o=mg.from(s,e,n);await Nw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Cf(i)}async function JD(i,e){e&&Ts(i).X_&&await(async function(s,o){if((function(h){return MI(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Ts(s).B_(),await Nw(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cf(s)}})(i,e),Iw(i)&&Dw(i)}async function jE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),oe(ma,"RemoteStore received new credentials");const s=Ta(n);n.Ea.add(3),await Pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rf(n)}async function ZD(i,e){const n=Se(i);e?(n.Ea.delete(2),await Rf(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function Ho(i){return i.ma||(i.ma=(function(n,s,o){const u=Se(n);return u.sa(),new UD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:HD.bind(null,i),t_:FD.bind(null,i),r_:GD.bind(null,i),H_:YD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sg(i)?wg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Cw(i))}))),i.ma}function Ts(i){return i.fa||(i.fa=(function(n,s,o){const u=Se(n);return u.sa(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:XD.bind(null,i),r_:JD.bind(null,i),ta:$D.bind(null,i),na:WD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Cf(i)):(await i.fa.stop(),i.Ta.length>0&&(oe(ma,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Ag(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),qo(i))return new le(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class zE{constructor(){this.ga=new ht(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Mo(e,n,To.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class eO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tO{constructor(){this.queries=BE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=BE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function BE(){return new Ea((i=>JT(i)),bf)}async function nO(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new eO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=xg(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rg(n)}async function iO(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rO(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Rg(n)}function sO(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Rg(i){i.Ca.forEach((e=>{e.next()}))}var Ip,qE;(qE=Ip||(Ip={})).Ma="default",qE.Cache="cache";class aO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ip.Cache}}class Ow{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class oO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=ZT(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new zE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const A=o.get(b),M=Tf(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;A&&M?A.data.isEqual(M.data)?F!==K&&(s.track({type:3,doc:M}),L=!0):this.su(A,M)||(s.track({type:2,doc:M}),L=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),L=!0):A&&!M&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(M?(h=h.add(M),u=K?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(M,F){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:L})}};return K(M)-K(F)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Mo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Mw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Ow(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class lO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class uO{constructor(e){this.key=e,this.hu=!1}}class cO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ea((m=>JT(m)),bf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hO(i,e,n=!0){const s=jw(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await kw(s,e,n,!0),o}async function fO(i,e){const n=jw(i);await kw(n,e,!0,!1)}async function kw(i,e,n,s){const o=await ND(i.localStore,Ui(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await dO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&xw(i.remoteStore,o),m}async function dO(i,e,n,s,o){i.pu=(T,A,M)=>(async function(K,L,J,ne){let ie=L.view.ru(J);ie.Cs&&(ie=await kE(K.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,ie))));const fe=ne&&ne.targetChanges.get(L.targetId),Ee=ne&&ne.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(ie,K.isPrimaryClient,fe,Ee);return FE(K,L.targetId,_e.au),_e.snapshot})(i,T,A,M);const u=await kE(i.localStore,e,!0),h=new oO(e,u.Qs),m=h.ru(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);FE(i,n,g.au);const b=new lO(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function mO(i,e,n){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!bf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Cp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Dp(s,o.targetId)})).catch(Bo)):(Dp(s,o.targetId),await Cp(s.localStore,o.targetId,!0))}async function pO(i,e){const n=Se(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function gO(i,e,n){const s=wO(i);try{const o=await(function(h,m){const p=Se(h),g=rt.now(),b=m.reduce(((M,F)=>M.add(F.key)),Ve());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=vr(),K=Ve();return p.Ns.getEntries(M,b).next((L=>{F=L,F.forEach(((J,ne)=>{ne.isValidDocument()||(K=K.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((L=>{T=L;const J=[];for(const ne of m){const ie=CI(ne,T.get(ne.key).overlayedDocument);ie!=null&&J.push(new ba(ne.key,ie,HT(ie.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,J,m)})).next((L=>{A=L;const J=L.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(M,L.batchId,J)}))})).then((()=>({batchId:A.batchId,changes:tw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ht(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Uu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function Vw(i,e){const n=Se(i);try{const s=await xD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await Uu(n,s,e)}catch(s){await Bo(s)}}function HE(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&Rg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yO(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(me.comparator);h=h.insert(u,nn.newNoDocument(u,Te.min()));const m=Ve().add(u),p=new Af(Te.min(),new Map,new ht(ke),h,m);await Vw(s,p),s.du=s.du.remove(u),s.Au.delete(e),Ng(s)}else await Cp(s.localStore,e,!1).then((()=>Dp(s,e,n))).catch(Bo)}async function _O(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await AD(n.localStore,e);Uw(n,s,null),Pw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await Bo(o)}}async function vO(i,e,n){const s=Se(i);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);Uw(s,e,n),Pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,o)}catch(o){await Bo(o)}}function Pw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Uw(i,e,n){const s=Se(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Dp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Lw(i,s)}))}function Lw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(bg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Ng(i))}function FE(i,e,n){for(const s of n)s instanceof Ow?(i.Ru.addReference(s.key,e),EO(i,s)):s instanceof Mw?(oe(Cg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Lw(i,s.key)):ye(19791,{wu:s})}function EO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(oe(Cg,"New document in limbo: "+n),i.Eu.add(s),Ng(i))}function Ng(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new uO(n)),i.du=i.du.insert(n,s),xw(i.remoteStore,new cs(Ui($T(n.path)),s,"TargetPurposeLimboResolution",_f.ce))}}async function Uu(i,e,n){const s=Se(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=vg.As(p.targetId,g);u.push(b)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const b=Se(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(A=>te.forEach(A.Es,(M=>b.persistence.referenceDelegate.addReference(T,A.targetId,M))).next((()=>te.forEach(A.ds,(M=>b.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))))))}catch(T){if(!qo(T))throw T;oe(Eg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const M=b.Ms.get(A),F=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(F);b.Ms=b.Ms.insert(A,K)}}})(s.localStore,u))}async function bO(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){oe(Cg,"User change. New user:",e.toKey());const s=await Tw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Ls)}}function TO(i,e){const n=Se(i),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let o=Ve();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function jw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yO.bind(null,e),e.Pu.H_=rO.bind(null,e.eventManager),e.Pu.yu=sO.bind(null,e.eventManager),e}function wO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vO.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SD(this.persistence,new bD,e.initialUser,this.serializer)}Cu(e){return new bw(_g.mi,this.serializer)}Du(e){return new DD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class SO extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new bw((s=>Jh.mi(s,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tO})()}createDatastore(e){const n=xf(e.databaseInfo.databaseId),s=(function(u){return new PD(u)})(e.databaseInfo);return(function(u,h,m,p){return new zD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new qD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>HE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new OD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,b){const T=new cO(o,u,h,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);oe(ma,"RemoteStore shutting down."),s.Ea.add(5),await Pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class AO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class xO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{oe(ws,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(oe(ws,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ep(i,e){i.asyncQueue.verifyOperationInProgress(),oe(ws,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Tw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function GE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await RO(i);oe(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>jE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>jE(e.remoteStore,o))),i._onlineComponents=e}async function RO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(ws,"Using user provided OfflineComponentProvider");try{await ep(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await ep(i,new ef)}}else oe(ws,"Using default OfflineComponentProvider"),await ep(i,new SO(void 0));return i._offlineComponents}async function zw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(ws,"Using user provided OnlineComponentProvider"),await GE(i,i._uninitializedComponentsProvider._online)):(oe(ws,"Using default OnlineComponentProvider"),await GE(i,new Op))),i._onlineComponents}function CO(i){return zw(i).then((e=>e.syncEngine))}async function NO(i){const e=await zw(i),n=e.eventManager;return n.onListen=hO.bind(null,e.syncEngine),n.onUnlisten=mO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pO.bind(null,e.syncEngine),n}function IO(i,e,n={}){const s=new ms;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const b=new AO({next:A=>{b.Nu(),h.enqueueAndForget((()=>iO(u,T))),A.fromCache&&p.source==="server"?g.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new aO(m,b,{includeMetadataChanges:!0,qa:!0});return nO(u,T)})(await NO(i),i.asyncQueue,e,n,s))),s.promise}function Bw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const YE=new Map;const qw="firestore.googleapis.com",QE=!0;class KE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qw,this.ssl=QE}else this.host=e.host,this.ssl=e.ssl??QE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rD)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DN;switch(s.type){case"firstParty":return new VN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=YE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),YE.delete(n),s.terminate())})(this),Promise.resolve()}}function DO(i,e,n,s={}){i=yu(i,Nf);const o=As(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Kp(`https://${m}`),Xp("Firestore",!0)),u.host!==qw&&u.host!==m&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ca(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,b;if(typeof s.mockUserToken=="string")g=s.mockUserToken,b=tn.MOCK_USER;else{g=Zb(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(T)}i._authCredentials=new ON(new DT(g,b))}}class Fo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,qt._jsonSchema))return new qt(e,s||null,new me(tt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Ot("string",qt._jsonSchemaVersion),referencePath:Ot("string")};class ps extends Fo{constructor(e,n,s){super(e,n,$T(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new me(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function rs(i,e,...n){if(i=Wt(i),OT("collection","path",e),i instanceof Nf){const s=tt.fromString(e,...n);return oE(s),new ps(i,null,s)}{if(!(i instanceof qt||i instanceof ps))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return oE(s),new ps(i.firestore,null,s)}}function Mp(i,e,...n){if(i=Wt(i),arguments.length===1&&(e=ag.newId()),OT("doc","path",e),i instanceof Nf){const s=tt.fromString(e,...n);return aE(s),new qt(i,null,new me(s))}{if(!(i instanceof qt||i instanceof ps))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return aE(s),new qt(i.firestore,i instanceof ps?i.converter:null,new me(s))}}const XE="AsyncQueue";class $E{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sw(this,"async_queue_retry"),this._c=()=>{const s=Zm();s&&oe(XE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;oe(XE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",WE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:WE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class If extends Nf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $E,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function OO(i,e){const n=typeof i=="object"?i:Jp(),s=typeof i=="string"?i:Yh,o=pf(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$b("firestore");u&&DO(o,...u)}return o}function Hw(i){if(i._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MO(i),i._firestoreClient}function MO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new JN(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Bw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new xO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Jt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ot("string",Gn._jsonSchemaVersion),bytes:Ot("string")};class Ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),vectorValues:Ot("object")};const kO=/^__.*__$/;class VO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}function Fw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:i})}}class Og{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fw(this.Ac)&&kO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xf(e)}Cc(e,n,s,o=!1){return new Og({Ac:e,methodName:n,Dc:s,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gw(i){const e=i._freezeSettings(),n=xf(i._databaseId);return new PO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function UO(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Kw("Data must be an object, but it was:",h,s);const m=Yw(s,h);let p,g;if(u.merge)p=new si(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const A=jO(e,T,n);if(!h.contains(A))throw new le(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BO(b,A)||b.push(A)}p=new si(b),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new VO(new Fn(m),p,g)}class Mg extends Dg{_toFieldTransform(e){return new SI(e.path,new Tu)}isEqual(e){return e instanceof Mg}}function LO(i,e,n,s=!1){return kg(n,i.Cc(s?4:3,e))}function kg(i,e){if(Qw(i=Wt(i)))return Kw("Unsupported field value:",e,i),Yw(i,e);if(i instanceof Dg)return(function(s,o){if(!Fw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=kg(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Wh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:dw(o.serializer,s._byteString)};if(s instanceof qt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(h,m){return{mapValue:{fields:{[BT]:{stringValue:qT},[Qh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return fg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${yf(s)}`)})(i,e)}function Yw(i,e){const n={};return VT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(i,((s,o)=>{const u=kg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Qw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof zi||i instanceof Gn||i instanceof qt||i instanceof Dg||i instanceof Bi)}function Kw(i,e,n){if(!Qw(n)||!MT(n)){const s=yf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function jO(i,e,n){if((e=Wt(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return Xw(i,e);throw tf("Field path arguments must be of type string or ",i,!1,void 0,n)}const zO=new RegExp("[~\\*/\\[\\]]");function Xw(i,e,n){if(e.search(zO)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ig(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function tf(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(ee.INVALID_ARGUMENT,m+i+p)}function BO(i,e){return i.some((n=>n.isEqual(e)))}class $w{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qO extends $w{data(){return super.data()}}function Vg(i,e){return typeof e=="string"?Xw(i,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}function HO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class FO extends Pg{}function JE(i,e,...n){let s=[];e instanceof Pg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Ug)).length,m=u.filter((p=>p instanceof Df)).length;if(h>1||h>0&&m>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Df extends FO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Df(e,n,s)}_apply(e){const n=this._parse(e);return Ww(e._query,n),new Fo(e.firestore,e.converter,Tp(e._query,n))}_parse(e){const n=Gw(e.firestore);return(function(u,h,m,p,g,b,T){let A;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){tb(T,b);const F=[];for(const K of T)F.push(eb(p,u,K));A={arrayValue:{values:F}}}else A=eb(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||tb(T,b),A=LO(m,h,T,b==="in"||b==="not-in");return Dt.create(g,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ZE(i,e,n){const s=e,o=Vg("where",i);return Df._create(o,s,n)}class Ug extends Pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Ww(h,p),h=Tp(h,p)})(e._query,n),new Fo(e.firestore,e.converter,Tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function eb(i,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(i,new me(s))}if(n instanceof qt)return pE(i,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(n)}.`)}function tb(i,e){if(!Array.isArray(i)||i.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ww(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GO{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return va(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(vw(s),9688,{name:e});const o=new Eu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function YO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends $w{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Vg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:Ot("string",wo._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Vh extends wo{data(e={}){return super.data(e)}}class So{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ah(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Vh(this._firestore,this._userDataWriter,s.key,s,new Ah(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ah(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ah(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:QO(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Ot("string",So._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class KO extends GO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Ph(i){i=yu(i,Fo);const e=yu(i.firestore,If),n=Hw(e),s=new KO(e);return HO(i._query),IO(n,i._query).then((o=>new So(e,s,i,o)))}function nb(i){return Jw(yu(i.firestore,If),[new dg(i._key,Li.none())])}function kp(i,e){const n=yu(i.firestore,If),s=Mp(i),o=YO(i.converter,e);return Jw(n,[UO(Gw(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then((()=>s))}function Jw(i,e){return(function(s,o){const u=new ms;return s.asyncQueue.enqueueAndForget((async()=>gO(await CO(s),o,u))),u.promise})(Hw(i),e)}function XO(){return new Mg("serverTimestamp")}(function(e,n=!0){(function(o){zo=o})(ya),ha(new ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new If(new MN(s.getProvider("auth-internal")),new PN(h,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Pi(nE,iE,e),Pi(nE,iE,"esm2020")})();function Zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=Zw,e1=new Nu("auth","Firebase",Zw());const nf=new $p("@firebase/auth");function WO(i,...e){nf.logLevel<=Me.WARN&&nf.warn(`Auth (${ya}): ${i}`,...e)}function Uh(i,...e){nf.logLevel<=Me.ERROR&&nf.error(`Auth (${ya}): ${i}`,...e)}function Er(i,...e){throw Lg(i,...e)}function qi(i,...e){return Lg(i,...e)}function t1(i,e,n){const s={...$O(),[e]:n};return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function ua(i){return t1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return e1.create(i,...e)}function ve(i,e,...n){if(!i)throw Lg(e,...n)}function fr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Uh(e),new Error(e)}function br(i,e){i||fr(e)}function Vp(){return typeof self<"u"&&self.location?.href||""}function JO(){return ib()==="http:"||ib()==="https:"}function ib(){return typeof self<"u"&&self.location?.protocol||null}function ZO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JO()||GR()||"connection"in navigator)?navigator.onLine:!0}function e4(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=qR()||YR()}get(){return ZO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jg(i,e){br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class n1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const t4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const n4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i4=new Lu(3e4,6e4);function zg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Go(i,e,n,s,o={}){return i1(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Iu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return FR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&As(i.emulatorConfig.host)&&(g.credentials="include"),n1.fetch()(await r1(i,i.config.apiHost,n,m),g)})}async function i1(i,e,n){i._canInitEmulator=!1;const s={...t4,...e};try{const o=new s4(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw xh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw xh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw xh(i,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw t1(i,b,g);Er(i,b)}}catch(o){if(o instanceof Yi)throw o;Er(i,"network-request-failed",{message:String(o)})}}async function r4(i,e,n,s,o={}){const u=await Go(i,e,n,s,o);return"mfaPendingCredential"in u&&Er(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function r1(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?jg(i.config,o):`${i.config.apiScheme}://${o}`;return n4.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(qi(this.auth,"network-request-failed")),i4.get())})}}function xh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=qi(i,e,s);return o.customData._tokenResponse=n,o}async function a4(i,e){return Go(i,"POST","/v1/accounts:delete",e)}async function rf(i,e){return Go(i,"POST","/v1/accounts:lookup",e)}function du(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o4(i,e=!1){const n=Wt(i),s=await n.getIdToken(e),o=Bg(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:du(tp(o.auth_time)),issuedAtTime:du(tp(o.iat)),expirationTime:du(tp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function tp(i){return Number(i)*1e3}function Bg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kb(n);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rb(i){const e=Bg(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Au(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yi&&l4(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function l4({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class u4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sf(i){const e=i.auth,n=await i.getIdToken(),s=await Au(i,rf(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?s1(o.providerUserInfo):[],h=h4(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,b)}async function c4(i){const e=Wt(i);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h4(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function s1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function f4(i,e){const n=await i1(i,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await r1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&As(i.emulatorConfig.host)&&(p.credentials="include"),n1.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d4(i,e){return Go(i,"POST","/v2/accounts:revokeToken",zg(i,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=rb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await f4(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Ao;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return fr("not implemented")}}function ts(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new u4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o4(this,e)}reload(){return c4(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await Au(this,a4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:M,providerData:F,stsTokenManager:K}=n;ve(T&&K,e,"internal-error");const L=Ao.fromJSON(this.name,K);ve(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),ve(typeof A=="boolean",e,"internal-error"),ve(typeof M=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(b,e.name);const J=new ai({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:b});return F&&Array.isArray(F)&&(J.providerData=F.map(ne=>({...ne}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ao;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await sf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?s1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Ao;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const sb=new Map;function dr(i){br(i instanceof Function,"Expected a class definition");let e=sb.get(i);return e?(br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sb.set(i,e),e)}class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a1.type="NONE";const ab=a1;function Lh(i,e,n){return`firebase:${i}:${e}:${n}`}class xo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rf(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new xo(dr(ab),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(ab);const h=Lh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(h);if(b){let T;if(typeof b=="string"){const A=await rf(e,{idToken:b}).catch(()=>{});if(!A)break;T=await ai._fromGetAccountInfoResponse(e,A,b)}else T=ai._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new xo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new xo(u,e,s))}}function ob(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f1(e))return"Blackberry";if(d1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function o1(i=rn()){return/firefox\//i.test(i)}function l1(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(i=rn()){return/crios\//i.test(i)}function c1(i=rn()){return/iemobile/i.test(i)}function h1(i=rn()){return/android/i.test(i)}function f1(i=rn()){return/blackberry/i.test(i)}function d1(i=rn()){return/webos/i.test(i)}function qg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function m4(i=rn()){return qg(i)&&!!window.navigator?.standalone}function p4(){return QR()&&document.documentMode===10}function m1(i=rn()){return qg(i)||h1(i)||d1(i)||f1(i)||/windows phone/i.test(i)||c1(i)}function p1(i,e=[]){let n;switch(i){case"Browser":n=ob(rn());break;case"Worker":n=`${ob(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${s}`}class g4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function y4(i,e={}){return Go(i,"GET","/v2/passwordPolicy",zg(i,e))}const _4=6;class v4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class E4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new g4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rf(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(ua(this));const n=e?Wt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y4(this),n=new v4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await d4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&WO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hg(i){return Wt(i)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=t2(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b4(i){Fg=i}function T4(i){return Fg.loadJS(i)}function w4(){return Fg.gapiScript}function S4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function A4(i,e){const n=pf(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ca(u,e??{}))return o;Er(o,"already-initialized")}return n.initialize({options:e})}function x4(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function R4(i,e,n){const s=Hg(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=g1(e),{host:h,port:m}=C4(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ca(g,s.config.emulator)&&ca(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,As(h)?(Kp(`${u}//${h}${p}`),Xp("Auth",!0)):N4()}function g1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function C4(i){const e=g1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ub(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:ub(h)}}}function ub(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function N4(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class y1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function Ro(i,e){return r4(i,"POST","/v1/accounts:signInWithIdp",zg(i,e))}const I4="http://localhost";class pa extends y1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new pa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ro(e,n)}buildRequest(){const e={requestUri:I4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}class _1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends _1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends ju{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class os extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class ls extends ju{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends ju{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),h=cb(s);return new ko({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=cb(s);return new ko({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function cb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class af extends Yi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new af(e,n,s,o)}}function v1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(i,u,e,s):u})}async function D4(i,e,n=!1){const s=await Au(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ko._forOperation(i,"link",s)}async function O4(i,e,n=!1){const{auth:s}=i;if(ri(s.app))return Promise.reject(ua(s));const o="reauthenticate";try{const u=await Au(i,v1(s,o,e,i),n);ve(u.idToken,s,"internal-error");const h=Bg(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),ko._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}async function M4(i,e,n=!1){if(ri(i.app))return Promise.reject(ua(i));const s="signIn",o=await v1(i,s,e),u=await ko._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function k4(i,e,n,s){return Wt(i).onIdTokenChanged(e,n,s)}function V4(i,e,n){return Wt(i).beforeAuthStateChanged(e,n)}const of="__sak";class E1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P4=1e3,U4=10;class b1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);p4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,U4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const L4=b1;class T1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T1.type="SESSION";const w1=T1;function j4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await j4(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function Gg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class z4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Hi(){return window}function B4(i){Hi().location.href=i}function S1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function q4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H4(){return navigator?.serviceWorker?.controller||null}function F4(){return S1()?self:null}const A1="firebaseLocalStorageDb",G4=1,lf="firebaseLocalStorage",x1="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(i,e){return i.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function Y4(){const i=indexedDB.deleteDatabase(A1);return new zu(i).toPromise()}function Up(){const i=indexedDB.open(A1,G4);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lf,{keyPath:x1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(lf)?e(s):(s.close(),await Y4(),e(await Up()))})})}async function hb(i,e,n){const s=Mf(i,!0).put({[x1]:e,value:n});return new zu(s).toPromise()}async function Q4(i,e){const n=Mf(i,!1).get(e),s=await new zu(n).toPromise();return s===void 0?null:s.value}function fb(i,e){const n=Mf(i,!0).delete(e);return new zu(n).toPromise()}const K4=800,X4=3;class R1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>X4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(F4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await q4(),!this.activeServiceWorker)return;this.sender=new z4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await hb(e,of,"1"),await fb(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Q4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mf(o,!1).getAll();return new zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R1.type="LOCAL";const $4=R1;new Lu(3e4,6e4);function W4(i,e){return e?dr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Yg extends y1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J4(i){return M4(i.auth,new Yg(i),i.bypassAuthState)}function Z4(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),O4(n,new Yg(i),i.bypassAuthState)}async function eM(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),D4(n,new Yg(i),i.bypassAuthState)}class C1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J4;case"linkViaPopup":case"linkViaRedirect":return eM;case"reauthViaPopup":case"reauthViaRedirect":return Z4;default:Er(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tM=new Lu(2e3,1e4);class bo extends C1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tM.get())};e()}}bo.currentPopupAction=null;const nM="pendingRedirect",jh=new Map;class iM extends C1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const s=await rM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rM(i,e){const n=oM(e),s=aM(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function sM(i,e){jh.set(i._key(),e)}function aM(i){return dr(i._redirectPersistence)}function oM(i){return Lh(nM,i.config.apiKey,i.name)}async function lM(i,e,n=!1){if(ri(i.app))return Promise.reject(ua(i));const s=Hg(i),o=W4(s,e),h=await new iM(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const uM=600*1e3;class cM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!N1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uM&&this.cachedEventUids.clear(),this.cachedEventUids.has(db(e))}saveEventToCache(e){this.cachedEventUids.add(db(e)),this.lastProcessedEventTime=Date.now()}}function db(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function N1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function hM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N1(i);default:return!1}}async function fM(i,e={}){return Go(i,"GET","/v1/projects",e)}const dM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mM=/^https?/;async function pM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await fM(i);for(const n of e)try{if(gM(n))return}catch{}Er(i,"unauthorized-domain")}function gM(i){const e=Vp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!mM.test(n))return!1;if(dM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const yM=new Lu(3e4,6e4);function mb(){const i=Hi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function _M(i){return new Promise((e,n)=>{function s(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),n(qi(i,"network-request-failed"))},timeout:yM.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)s();else{const o=S4("iframefcb");return Hi()[o]=()=>{gapi.load?s():n(qi(i,"network-request-failed"))},T4(`${w4()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw zh=null,e})}let zh=null;function vM(i){return zh=zh||_M(i),zh}const EM=new Lu(5e3,15e3),bM="__/auth/iframe",TM="emulator/auth/iframe",wM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AM(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jg(e,TM):`https://${i.config.authDomain}/${bM}`,s={apiKey:e.apiKey,appName:i.name,v:ya},o=SM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Iu(s).slice(1)}`}async function xM(i){const e=await vM(i),n=Hi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:AM(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=qi(i,"network-request-failed"),m=Hi().setTimeout(()=>{u(h)},EM.get());function p(){Hi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const RM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CM=500,NM=600,IM="_blank",DM="http://localhost";class pb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OM(i,e,n,s=CM,o=NM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...RM,width:s.toString(),height:o.toString(),top:u,left:h},g=rn().toLowerCase();n&&(m=u1(g)?IM:n),o1(g)&&(e=e||DM,p.scrollbars="yes");const b=Object.entries(p).reduce((A,[M,F])=>`${A}${M}=${F},`,"");if(m4(g)&&m!=="_self")return MM(e||"",m),new pb(null);const T=window.open(e||"",m,b);ve(T,i,"popup-blocked");try{T.focus()}catch{}return new pb(T)}function MM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const kM="__/auth/handler",VM="emulator/auth/handler",PM=encodeURIComponent("fac");async function gb(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ya,eventId:o};if(e instanceof _1){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",e2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof ju){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),g=p?`#${PM}=${encodeURIComponent(p)}`:"";return`${UM(i)}?${Iu(m).slice(1)}${g}`}function UM({config:i}){return i.emulator?jg(i,VM):`https://${i.authDomain}/${kM}`}const np="webStorageSupport";class LM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=lM,this._overrideRedirectResult=sM}async _openPopup(e,n,s,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gb(e,n,s,Vp(),o);return OM(e,u,Gg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await gb(e,n,s,Vp(),o);return B4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await xM(e),s=new cM(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},o=>{const u=o?.[0]?.[np];u!==void 0&&n(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m1()||l1()||qg()}}const jM=LM;var yb="@firebase/auth",_b="1.11.1";class zM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qM(i){ha(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(i)},g=new E4(s,o,u,p);return x4(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ha(new ys("auth-internal",e=>{const n=Hg(e.getProvider("auth").getImmediate());return(s=>new zM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(yb,_b,BM(i)),Pi(yb,_b,"esm2020")}const HM=300,FM=Jb("authIdTokenMaxAge")||HM;let vb=null;const GM=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>FM)return;const o=n?.token;vb!==o&&(vb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YM(i=Jp()){const e=pf(i,"auth");if(e.isInitialized())return e.getImmediate();const n=A4(i,{popupRedirectResolver:jM,persistence:[$4,L4,w1]}),s=Jb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=GM(u.toString());V4(n,h,()=>h(n.currentUser)),k4(n,m=>h(m))}}const o=Xb("auth");return o&&R4(n,`http://${o}`),n}function QM(){return document.getElementsByTagName("head")?.[0]??document}b4({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=qi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",QM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qM("Browser");const KM={apiKey:"AIzaSyC9Irn3Ltc7SB7syiK5yNgJniqvs3keyoo",authDomain:"studyhub-fdebe.firebaseapp.com",projectId:"studyhub-fdebe",storageBucket:"studyhub-fdebe.firebasestorage.app",messagingSenderId:"107211113324",appId:"1:107211113324:web:de5e6e34aa288d0e806949"},Qg=nT(KM),Eb=RN(Qg),Mi=OO(Qg);YM(Qg);const mu="courses",eu="materials",XM=async()=>{try{if((await Ph(rs(Mi,mu))).empty){const e=[{title:"Introduction to React",code:"CS101",description:"Learn the basics of React"},{title:"Advanced JavaScript",code:"CS102",description:"Deep dive into JS concepts"},{title:"Web Design Principles",code:"DS101",description:"UI/UX fundamentals"}];for(const n of e)await kp(rs(Mi,mu),n)}}catch(i){console.error("Error seeding data:",i)}},Hn={getCourses:async()=>{try{return await XM(),(await Ph(rs(Mi,mu))).docs.map(e=>({id:e.id,...e.data()}))}catch(i){return console.error("Error getting courses:",i),[]}},getMaterials:async i=>{try{let e;return i?e=JE(rs(Mi,eu),ZE("courseId","==",i)):e=rs(Mi,eu),(await Ph(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting materials:",e),[]}},addMaterial:async i=>{try{return{id:(await kp(rs(Mi,eu),{...i,uploadedAt:XO()})).id,...i}}catch(e){throw console.error("Error adding material:",e),e}},deleteMaterial:async(i,e)=>{try{if(await nb(Mp(Mi,eu,i)),e&&e.includes("firebase")){const n=eE(Eb,e);await xN(n)}}catch(n){throw console.error("Error deleting material:",n),n}},addCourse:async i=>{try{return{id:(await kp(rs(Mi,mu),i)).id,...i}}catch(e){throw console.error("Error adding course:",e),e}},deleteCourse:async i=>{try{await nb(Mp(Mi,mu,i));const e=JE(rs(Mi,eu),ZE("courseId","==",i)),s=(await Ph(e)).docs.map(async o=>{const u=o.data();await Hn.deleteMaterial(o.id,u.url)});await Promise.all(s)}catch(e){throw console.error("Error deleting course:",e),e}},uploadFile:async(i,e)=>{try{const s=`${Date.now()}_${i.name}`,o=eE(Eb,`materials/${s}`),u=SN(o,i);return new Promise((h,m)=>{u.on("state_changed",p=>{const g=p.bytesTransferred/p.totalBytes*100;e&&e(g)},p=>{console.error("Upload error:",p),m(p)},async()=>{try{const p=await AN(u.snapshot.ref);h({url:p,name:i.name,type:i.type,size:i.size})}catch(p){m(p)}})})}catch(n){throw console.error("Error uploading file:",n),n}}},$M=()=>{const i=Uo(),{register:e}=Lo(),[n,s]=B.useState({name:"",email:"",password:"",confirmPassword:""}),[o,u]=B.useState(""),[h,m]=B.useState([]),[p,g]=B.useState(""),[b,T]=B.useState(!1);B.useEffect(()=>{const M=Hn.getCourses();m(M),M.length>0&&u(M[0].id)},[]);const A=async M=>{if(M.preventDefault(),g(""),n.password!==n.confirmPassword){g("Passwords do not match");return}if(!o){g("Please select a course");return}T(!0);try{await e(n.name,n.email,n.password,o),alert("Registration successful! Please wait for admin approval."),i("/login")}catch(F){g(F.message)}finally{T(!1)}};return E.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:E.jsx("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-100",children:E.jsxs("div",{className:"px-8 pt-8 pb-6",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Create Account"}),E.jsx("p",{className:"text-slate-500 mt-2",children:"Join to access your study materials"})]}),p&&E.jsxs("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg flex items-start",children:[E.jsx(iR,{className:"h-5 w-5 text-red-500 mt-0.5 mr-3 flex-shrink-0"}),E.jsx("p",{className:"text-sm text-red-700",children:p})]}),E.jsxs("form",{onSubmit:A,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 ml-1",children:"Full Name"}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(iu,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),E.jsx("input",{type:"text",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-slate-50/50 focus:bg-white",placeholder:"John Doe",value:n.name,onChange:M=>s({...n,name:M.target.value})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 ml-1",children:"Email Address"}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(pR,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),E.jsx("input",{type:"email",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-slate-50/50 focus:bg-white",placeholder:"you@example.com",value:n.email,onChange:M=>s({...n,email:M.target.value})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 ml-1",children:"Select Course"}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(gs,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),E.jsxs("select",{required:!0,value:o,onChange:M=>u(M.target.value),className:"block w-full pl-10 pr-10 py-2.5 border border-slate-200 rounded-xl text-slate-900 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-slate-50/50 focus:bg-white appearance-none",children:[E.jsx("option",{value:"",disabled:!0,children:"Select a course"}),h.map(M=>E.jsxs("option",{value:M.id,children:[M.code," - ",M.title]},M.id))]}),E.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:E.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 ml-1",children:"Password"}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Vv,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),E.jsx("input",{type:"password",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-slate-50/50 focus:bg-white",placeholder:"",value:n.password,onChange:M=>s({...n,password:M.target.value})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 ml-1",children:"Confirm Password"}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Vv,{className:"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"})}),E.jsx("input",{type:"password",required:!0,className:"block w-full pl-10 pr-3 py-2.5 border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all bg-slate-50/50 focus:bg-white",placeholder:"",value:n.confirmPassword,onChange:M=>s({...n,confirmPassword:M.target.value})})]})]}),E.jsx("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:b?E.jsxs(E.Fragment,{children:[E.jsx(Qp,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Creating Account..."]}):"Create Account"})]}),E.jsx("div",{className:"mt-6 text-center",children:E.jsxs("p",{className:"text-sm text-slate-500",children:["Already have an account?"," ",E.jsx(_n,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})})]})})})},Rh="study_hub_logs",Lp={logDownload:(i,e,n,s)=>{const o=JSON.parse(localStorage.getItem(Rh)||"[]"),u={id:Date.now().toString(),userId:i,userName:e,materialId:n,materialName:s,timestamp:new Date().toISOString()};return o.unshift(u),localStorage.setItem(Rh,JSON.stringify(o)),u},getLogs:()=>JSON.parse(localStorage.getItem(Rh)||"[]"),clearLogs:()=>{localStorage.removeItem(Rh)}},WM=({isOpen:i,onClose:e,courseId:n,onUploadComplete:s})=>{const[o,u]=B.useState(null),[h,m]=B.useState(""),[p,g]=B.useState(""),[b,T]=B.useState(!1),[A,M]=B.useState(0);if(!i)return null;const F=L=>{L.target.files[0]&&(u(L.target.files[0]),h||m(L.target.files[0].name))},K=async L=>{if(L.preventDefault(),!(!o||!n)){T(!0),M(0);try{const J=await Hn.uploadFile(o,ie=>{M(ie)}),ne={courseId:n,title:h,description:p,fileName:J.name,fileUrl:J.url,fileType:J.type,fileSize:J.size};await Hn.addMaterial(ne),s(),e(),u(null),m(""),g(""),M(0)}catch(J){console.error("Upload failed:",J),alert("Upload failed: "+J.message)}finally{T(!1)}}};return E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-slate-900/75 backdrop-blur-sm",onClick:e})}),E.jsx("div",{className:"relative w-full max-w-lg transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all border border-slate-100",children:E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[E.jsxs("div",{className:"flex justify-between items-start mb-5",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Upload Material"}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Add new resources to this course"})]}),E.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-500 bg-slate-50 p-2 rounded-full hover:bg-slate-100 transition-colors",children:E.jsx(up,{className:"h-5 w-5"})})]}),E.jsxs("form",{onSubmit:K,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),E.jsx("input",{type:"text",required:!0,value:h,onChange:L=>m(L.target.value),className:"block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm transition-all",placeholder:"e.g., Week 1 Lecture Slides"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),E.jsx("textarea",{value:p,onChange:L=>g(L.target.value),rows:3,className:"block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm transition-all",placeholder:"Brief description of the content..."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"File"}),E.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-slate-300 border-dashed rounded-xl hover:border-indigo-400 hover:bg-indigo-50/30 transition-all group",children:E.jsx("div",{className:"space-y-2 text-center",children:o?E.jsxs("div",{className:"flex flex-col items-center justify-center text-indigo-600",children:[E.jsx("div",{className:"p-3 bg-indigo-100 rounded-full mb-2",children:E.jsx(df,{className:"h-8 w-8"})}),E.jsx("span",{className:"text-sm font-medium text-slate-900",children:o.name}),E.jsxs("span",{className:"text-xs text-slate-500",children:[(o.size/1024).toFixed(1)," KB"]})]}):E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("div",{className:"p-3 bg-slate-100 rounded-full mb-2 group-hover:bg-indigo-100 transition-colors",children:E.jsx(SR,{className:"h-8 w-8 text-slate-400 group-hover:text-indigo-600 transition-colors"})}),E.jsxs("div",{className:"flex text-sm text-slate-600",children:[E.jsxs("label",{className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none",children:[E.jsx("span",{children:"Upload a file"}),E.jsx("input",{type:"file",className:"sr-only",onChange:F,required:!0})]}),E.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),E.jsx("p",{className:"text-xs text-slate-500",children:"PDF, PPT, DOC up to 5MB"})]})})})]}),b&&A>0&&E.jsxs("div",{className:"mt-4",children:[E.jsxs("div",{className:"flex justify-between text-sm text-slate-600 mb-1",children:[E.jsx("span",{children:"Uploading..."}),E.jsxs("span",{children:[Math.round(A),"%"]})]}),E.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:E.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})})]}),E.jsxs("div",{className:"mt-5 sm:mt-6 flex justify-end space-x-3 pt-2 border-t border-slate-100",children:[E.jsx("button",{type:"button",onClick:e,className:"inline-flex justify-center rounded-lg border border-slate-300 shadow-sm px-4 py-2.5 bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all",children:"Cancel"}),E.jsx("button",{type:"submit",disabled:b,className:"inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2.5 bg-indigo-600 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:b?E.jsxs(E.Fragment,{children:[E.jsx(Qp,{className:"h-4 w-4 animate-spin mr-2"}),"Uploading..."]}):"Upload Material"})]})]})]})})]})})},I1=6048e5,JM=864e5,bb=Symbol.for("constructDateFrom");function Ss(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&bb in i?i[bb](e):i instanceof Date?new i.constructor(e):new Date(e)}function ci(i,e){return Ss(e||i,i)}let ZM={};function kf(){return ZM}function xu(i,e){const n=kf(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ci(i,e?.in),u=o.getDay(),h=(u<s?7:0)+u-s;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function uf(i,e){return xu(i,{...e,weekStartsOn:1})}function D1(i,e){const n=ci(i,e?.in),s=n.getFullYear(),o=Ss(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=uf(o),h=Ss(n,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const m=uf(h);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function Tb(i){const e=ci(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function ek(i,...e){const n=Ss.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function wb(i,e){const n=ci(i,e?.in);return n.setHours(0,0,0,0),n}function tk(i,e,n){const[s,o]=ek(n?.in,i,e),u=wb(s),h=wb(o),m=+u-Tb(u),p=+h-Tb(h);return Math.round((m-p)/JM)}function nk(i,e){const n=D1(i,e),s=Ss(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),uf(s)}function ik(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function rk(i){return!(!ik(i)&&typeof i!="number"||isNaN(+ci(i)))}function sk(i,e){const n=ci(i,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ak={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ok=(i,e,n)=>{let s;const o=ak[i];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function ip(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const lk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ck={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hk={date:ip({formats:lk,defaultWidth:"full"}),time:ip({formats:uk,defaultWidth:"full"}),dateTime:ip({formats:ck,defaultWidth:"full"})},fk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dk=(i,e,n,s)=>fk[i];function tu(i){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const mk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_k={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ek=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bk={ordinalNumber:Ek,era:tu({values:mk,defaultWidth:"wide"}),quarter:tu({values:pk,defaultWidth:"wide",argumentCallback:i=>i-1}),month:tu({values:gk,defaultWidth:"wide"}),day:tu({values:yk,defaultWidth:"wide"}),dayPeriod:tu({values:_k,defaultWidth:"wide",formattingValues:vk,defaultFormattingWidth:"wide"})};function nu(i){return(e,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?wk(m,T=>T.test(h)):Tk(m,T=>T.test(h));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const b=e.slice(h.length);return{value:g,rest:b}}}function Tk(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function wk(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function Sk(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const o=s[0],u=e.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const Ak=/^(\d+)(th|st|nd|rd)?/i,xk=/\d+/i,Rk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ck={any:[/^b/i,/^(a|c)/i]},Nk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ik={any:[/1/i,/2/i,/3/i,/4/i]},Dk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ok={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uk={ordinalNumber:Sk({matchPattern:Ak,parsePattern:xk,valueCallback:i=>parseInt(i,10)}),era:nu({matchPatterns:Rk,defaultMatchWidth:"wide",parsePatterns:Ck,defaultParseWidth:"any"}),quarter:nu({matchPatterns:Nk,defaultMatchWidth:"wide",parsePatterns:Ik,defaultParseWidth:"any",valueCallback:i=>i+1}),month:nu({matchPatterns:Dk,defaultMatchWidth:"wide",parsePatterns:Ok,defaultParseWidth:"any"}),day:nu({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any"}),dayPeriod:nu({matchPatterns:Vk,defaultMatchWidth:"any",parsePatterns:Pk,defaultParseWidth:"any"})},Lk={code:"en-US",formatDistance:ok,formatLong:hk,formatRelative:dk,localize:bk,match:Uk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jk(i,e){const n=ci(i,e?.in);return tk(n,sk(n))+1}function zk(i,e){const n=ci(i,e?.in),s=+uf(n)-+nk(n);return Math.round(s/I1)+1}function O1(i,e){const n=ci(i,e?.in),s=n.getFullYear(),o=kf(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,h=Ss(e?.in||i,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const m=xu(h,e),p=Ss(e?.in||i,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=xu(p,e);return+n>=+m?s+1:+n>=+g?s:s-1}function Bk(i,e){const n=kf(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=O1(i,e),u=Ss(e?.in||i,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),xu(u,e)}function qk(i,e){const n=ci(i,e?.in),s=+xu(n,e)-+Bk(n,e);return Math.round(s/I1)+1}function Xe(i,e){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(e,"0");return n+s}const ns={y(i,e){const n=i.getFullYear(),s=n>0?n:1-n;return Xe(e==="yy"?s%100:s,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):Xe(n+1,2)},d(i,e){return Xe(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(i,e){return Xe(i.getHours()%12||12,e.length)},H(i,e){return Xe(i.getHours(),e.length)},m(i,e){return Xe(i.getMinutes(),e.length)},s(i,e){return Xe(i.getSeconds(),e.length)},S(i,e){const n=e.length,s=i.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Xe(o,e.length)}},po={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sb={G:function(i,e,n){const s=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const s=i.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return ns.y(i,e)},Y:function(i,e,n,s){const o=O1(i,s),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return Xe(h,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Xe(u,e.length)},R:function(i,e){const n=D1(i);return Xe(n,e.length)},u:function(i,e){const n=i.getFullYear();return Xe(n,e.length)},Q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Xe(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Xe(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,e,n){const s=i.getMonth();switch(e){case"M":case"MM":return ns.M(i,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,e,n){const s=i.getMonth();switch(e){case"L":return String(s+1);case"LL":return Xe(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,e,n,s){const o=qk(i,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Xe(o,e.length)},I:function(i,e,n){const s=zk(i);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Xe(s,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):ns.d(i,e)},D:function(i,e,n){const s=jk(i);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Xe(s,e.length)},E:function(i,e,n){const s=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,e,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Xe(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Xe(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,n){const s=i.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Xe(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,e,n){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,n){const s=i.getHours();let o;switch(s===12?o=po.noon:s===0?o=po.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,n){const s=i.getHours();let o;switch(s>=17?o=po.evening:s>=12?o=po.afternoon:s>=4?o=po.morning:o=po.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return ns.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):ns.H(i,e)},K:function(i,e,n){const s=i.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Xe(s,e.length)},k:function(i,e,n){let s=i.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Xe(s,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):ns.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):ns.s(i,e)},S:function(i,e){return ns.S(i,e)},X:function(i,e,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return xb(s);case"XXXX":case"XX":return sa(s);case"XXXXX":case"XXX":default:return sa(s,":")}},x:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"x":return xb(s);case"xxxx":case"xx":return sa(s);case"xxxxx":case"xxx":default:return sa(s,":")}},O:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ab(s,":");case"OOOO":default:return"GMT"+sa(s,":")}},z:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ab(s,":");case"zzzz":default:return"GMT"+sa(s,":")}},t:function(i,e,n){const s=Math.trunc(+i/1e3);return Xe(s,e.length)},T:function(i,e,n){return Xe(+i,e.length)}};function Ab(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Xe(u,2)}function xb(i,e){return i%60===0?(i>0?"-":"+")+Xe(Math.abs(i)/60,2):sa(i,e)}function sa(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),o=Xe(Math.trunc(s/60),2),u=Xe(s%60,2);return n+o+e+u}const Rb=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},M1=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hk=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Rb(i,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",Rb(s,e)).replace("{{time}}",M1(o,e))},Fk={p:M1,P:Hk},Gk=/^D+$/,Yk=/^Y+$/,Qk=["D","DD","YY","YYYY"];function Kk(i){return Gk.test(i)}function Xk(i){return Yk.test(i)}function $k(i,e,n){const s=Wk(i,e,n);if(console.warn(s),Qk.includes(i))throw new RangeError(s)}function Wk(i,e,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e6=/^'([^]*?)'?$/,t6=/''/g,n6=/[a-zA-Z]/;function cf(i,e,n){const s=kf(),o=s.locale??Lk,u=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=ci(i,n?.in);if(!rk(m))throw new RangeError("Invalid time value");let p=e.match(Zk).map(b=>{const T=b[0];if(T==="p"||T==="P"){const A=Fk[T];return A(b,o.formatLong)}return b}).join("").match(Jk).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const T=b[0];if(T==="'")return{isToken:!1,value:i6(b)};if(Sb[T])return{isToken:!0,value:b};if(T.match(n6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:b}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(b=>{if(!b.isToken)return b.value;const T=b.value;(Xk(T)||Kk(T))&&$k(T,e,String(i));const A=Sb[T[0]];return A(m,T,o.localize,g)}).join("")}function i6(i){const e=i.match(e6);return e?e[1].replace(t6,"'"):i}const r6=()=>{const{user:i}=Lo(),[e,n]=B.useState([]),[s,o]=B.useState(null),[u,h]=B.useState([]),[m,p]=B.useState(!1),[g,b]=B.useState(""),[T,A]=B.useState(!1),[M,F]=B.useState({title:"",code:"",description:""}),[K,L]=B.useState(!0),[J,ne]=B.useState(!1);console.log("Dashboard Debug:",{user:i,role:i?.role,selectedCourse:s,courses:e}),B.useEffect(()=>{ie()},[]);const ie=async()=>{L(!0);try{const R=await Hn.getCourses();n(R),R.length>0&&!s&&o(R[0])}catch(R){console.error("Error loading courses:",R)}finally{L(!1)}};B.useEffect(()=>{(async()=>{if(s){ne(!0);try{const O=await Hn.getMaterials(s.id);h(O)}catch(O){console.error("Error loading materials:",O)}finally{ne(!1)}}else h([])})()},[s]);const fe=R=>{Lp.logDownload(i.id,i.name,R.id,R.title);const O=document.createElement("a");O.href=R.fileUrl,O.download=R.fileName,document.body.appendChild(O),O.click(),document.body.removeChild(O)},Ee=async R=>{if(window.confirm("Are you sure you want to delete this material?"))try{await Hn.deleteMaterial(R.id,R.fileUrl),x()}catch(O){console.error("Error deleting material:",O),alert("Failed to delete material")}},_e=async R=>{R.preventDefault();try{await Hn.addCourse(M),A(!1),F({title:"",code:"",description:""}),ie()}catch(O){console.error("Error adding course:",O),alert("Failed to add course")}},N=async(R,O)=>{if(R.stopPropagation(),window.confirm("Are you sure you want to delete this course and all its materials?"))try{await Hn.deleteCourse(O);const U=await Hn.getCourses();n(U),s?.id===O&&o(U.length>0?U[0]:null)}catch(U){console.error("Error deleting course:",U),alert("Failed to delete course")}},x=async()=>{if(s){ne(!0);try{const R=await Hn.getMaterials(s.id);h(R)}catch(R){console.error("Error refreshing materials:",R)}finally{ne(!1)}}},C=u.filter(R=>R.title.toLowerCase().includes(g.toLowerCase())||R.description.toLowerCase().includes(g.toLowerCase()));return E.jsxs("div",{className:"h-full flex flex-col space-y-6",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Course Materials"}),E.jsx("p",{className:"text-slate-500 mt-1",children:"Access and manage your study resources"})]}),i?.role==="admin"&&s&&E.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2.5 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-sm transition-all",children:[E.jsx(Pv,{className:"h-5 w-5 mr-2"}),"Upload Material"]})]}),E.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 h-[calc(100vh-12rem)]",children:[E.jsxs("div",{className:"w-full lg:w-80 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[E.jsx("h2",{className:"font-semibold text-slate-700 text-sm uppercase tracking-wider",children:"Courses"}),i?.role==="admin"&&E.jsx("button",{onClick:()=>A(!0),className:"p-1.5 text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Add Course",children:E.jsx(Pv,{className:"h-4 w-4"})})]}),E.jsx("div",{className:"overflow-y-auto flex-1 p-3 space-y-2",children:e.map(R=>E.jsxs("button",{onClick:()=>o(R),className:`w-full text-left p-4 rounded-lg transition-all duration-200 group relative ${s?.id===R.id?"bg-indigo-50 border-indigo-200 border shadow-sm":"hover:bg-slate-50 border border-transparent hover:border-slate-200"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("span",{className:`font-bold text-sm ${s?.id===R.id?"text-indigo-700":"text-slate-700 group-hover:text-slate-900"}`,children:R.code}),s?.id===R.id&&E.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-600 shadow-[0_0_8px_rgba(79,70,229,0.4)]"})]}),E.jsx("h3",{className:`text-sm font-medium mb-1 pr-6 ${s?.id===R.id?"text-indigo-900":"text-slate-600"}`,children:R.title}),E.jsx("p",{className:"text-xs text-slate-400 line-clamp-2",children:R.description}),i?.role==="admin"&&E.jsx("div",{onClick:O=>N(O,R.id),className:"absolute top-3 right-3 p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-all opacity-0 group-hover:opacity-100",title:"Delete Course",children:E.jsx(lp,{className:"h-4 w-4"})})]},R.id))})]}),E.jsxs("div",{className:"flex-1 bg-white rounded-xl shadow-sm border border-slate-200 flex flex-col overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-white",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg mr-3",children:E.jsx(Mv,{className:"h-5 w-5 text-indigo-600"})}),E.jsx("h2",{className:"font-semibold text-slate-800",children:s?s.title:"Select a Course"})]}),E.jsxs("div",{className:"relative max-w-md w-full sm:w-72",children:[E.jsx(_R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),E.jsx("input",{type:"text",placeholder:"Search materials...",value:g,onChange:R=>b(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-slate-200 rounded-lg text-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all"})]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/30",children:C.length===0?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[E.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:E.jsx(Mv,{className:"h-8 w-8 text-slate-300"})}),E.jsx("p",{className:"font-medium",children:"No materials found"}),E.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or select another course"})]}):E.jsx("div",{className:"grid gap-4",children:C.map(R=>E.jsxs("div",{className:"flex items-center justify-between p-5 bg-white border border-slate-100 rounded-xl shadow-sm hover:shadow-md hover:border-indigo-100 transition-all duration-200 group",children:[E.jsxs("div",{className:"flex items-start space-x-4",children:[E.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl text-indigo-600 group-hover:bg-indigo-100 group-hover:scale-105 transition-all",children:E.jsx(df,{className:"h-6 w-6"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-slate-900 group-hover:text-indigo-700 transition-colors",children:R.title}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:R.description}),E.jsxs("div",{className:"flex items-center mt-3 space-x-4 text-xs font-medium text-slate-400",children:[E.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded text-slate-500",children:cf(new Date(R.uploadedAt),"MMM d, yyyy")}),E.jsxs("span",{children:[(R.fileSize/1024).toFixed(1)," KB"]})]})]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{onClick:()=>fe(R),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all",title:"Download",children:E.jsx(Fb,{className:"h-5 w-5"})}),i?.role==="admin"&&E.jsx("button",{onClick:()=>Ee(R),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Delete",children:E.jsx(lp,{className:"h-5 w-5"})})]})]},R.id))})})]})]}),E.jsx(WM,{isOpen:m,onClose:()=>p(!1),courseId:s?.id,onUploadComplete:x}),T&&E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-slate-900/75 backdrop-blur-sm",onClick:()=>A(!1)})}),E.jsx("div",{className:"relative w-full max-w-md transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all border border-slate-100",children:E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Add New Course"}),E.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Course Code"}),E.jsx("input",{type:"text",required:!0,value:M.code,onChange:R=>F({...M,code:R.target.value}),className:"block w-full border border-slate-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. CS101"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Course Title"}),E.jsx("input",{type:"text",required:!0,value:M.title,onChange:R=>F({...M,title:R.target.value}),className:"block w-full border border-slate-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. Intro to CS"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),E.jsx("textarea",{value:M.description,onChange:R=>F({...M,description:R.target.value}),className:"block w-full border border-slate-300 rounded-lg shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 sm:text-sm",rows:3,placeholder:"Course description..."})]}),E.jsxs("div",{className:"mt-5 sm:mt-6 flex justify-end space-x-3",children:[E.jsx("button",{type:"button",onClick:()=>A(!1),className:"inline-flex justify-center rounded-lg border border-slate-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),E.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-lg border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add Course"})]})]})]})})]})})]})},s6=()=>{const[i,e]=B.useState([]);B.useEffect(()=>{e(Lp.getLogs())},[]);const n=()=>{window.confirm("Are you sure you want to clear all logs?")&&(Lp.clearLogs(),e([]))};return E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Download Logs"}),E.jsx("p",{className:"text-slate-500 mt-1",children:"Track who downloaded what and when"})]}),E.jsxs("div",{className:"flex items-center space-x-4",children:[E.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-slate-600 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm",children:[E.jsx(ap,{className:"h-4 w-4 text-slate-400"}),E.jsxs("span",{children:["Total: ",i.length]})]}),i.length>0&&E.jsxs("button",{onClick:n,className:"flex items-center px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-100",children:[E.jsx(lp,{className:"h-4 w-4 mr-2"}),"Clear Logs"]})]})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Timestamp"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Material"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Action"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"4",className:"px-6 py-16 text-center text-slate-400",children:E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx(ap,{className:"h-8 w-8 mb-2 opacity-20"}),E.jsx("p",{children:"No download activity recorded yet"})]})})}):i.map(s=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:cf(new Date(s.timestamp),"MMM d, yyyy HH:mm:ss")}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs mr-3 ring-2 ring-white",children:s.userName?.[0]?.toUpperCase()}),E.jsx("div",{className:"text-sm font-medium text-slate-900",children:s.userName})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center text-sm text-slate-900",children:[E.jsx(df,{className:"h-4 w-4 mr-2 text-slate-400"}),s.materialName]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:E.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 border border-emerald-200",children:[E.jsx(Fb,{className:"h-3 w-3 mr-1"}),"Downloaded"]})})]},s.id))})]})})})]})},a6=()=>{const[i,e]=B.useState([]),[n,s]=B.useState([]),[o,u]=B.useState([]),[h,m]=B.useState(!0),p=()=>{m(!0);try{const T=Eo.getAllUsers();e(T.filter(M=>M.status==="pending")),s(T.filter(M=>M.status!=="pending"));const A=Hn.getCourses();u(A)}finally{m(!1)}};B.useEffect(()=>{p()},[]);const g=(T,A)=>{window.confirm(`Are you sure you want to ${A} this user?`)&&(Eo.updateUserStatus(T,A),p())},b=T=>{const A=o.find(M=>M.id===T);return A?`${A.code} - ${A.title}`:"No Course Selected"};return E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"User Approvals"}),E.jsx("p",{className:"text-slate-500 mt-1",children:"Review and approve new account requests"})]}),E.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-slate-600 bg-white px-3 py-1.5 rounded-lg border border-slate-200 shadow-sm",children:[E.jsx(sR,{className:"h-4 w-4 text-orange-500"}),E.jsxs("span",{children:["Pending: ",i.length]})]})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Course"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Requested At"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:i.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-slate-400",children:E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx(iu,{className:"h-8 w-8 mb-2 opacity-20"}),E.jsx("p",{children:"No pending user requests"})]})})}):i.map(T=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs mr-3 ring-2 ring-white",children:T.name?.[0]?.toUpperCase()}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-medium text-slate-900",children:T.name}),E.jsx("div",{className:"text-sm text-slate-500",children:T.email})]})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[E.jsx(gs,{className:"h-4 w-4 mr-2 text-slate-400"}),b(T.courseId)]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[E.jsx(iu,{className:"h-3 w-3 mr-1"}),T.role]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:T.joinedAt?cf(new Date(T.joinedAt),"MMM d, yyyy HH:mm"):"N/A"}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("button",{onClick:()=>g(T.id,"active"),className:"text-emerald-600 hover:text-emerald-900 bg-emerald-50 hover:bg-emerald-100 p-1.5 rounded-lg transition-colors",title:"Approve",children:E.jsx(Ov,{className:"h-4 w-4"})}),E.jsx("button",{onClick:()=>g(T.id,"rejected"),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 p-1.5 rounded-lg transition-colors",title:"Reject",children:E.jsx(up,{className:"h-4 w-4"})})]})})]},T.id))})]})})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Registered Users"}),E.jsx("p",{className:"text-slate-500 mt-1",children:"List of all active and rejected users"})]}),E.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[E.jsx("thead",{className:"bg-slate-50",children:E.jsxs("tr",{children:[E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Course"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),E.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Joined At"})]})}),E.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:n.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"px-6 py-16 text-center text-slate-400",children:E.jsxs("div",{className:"flex flex-col items-center justify-center",children:[E.jsx(iu,{className:"h-8 w-8 mb-2 opacity-20"}),E.jsx("p",{children:"No registered users found"})]})})}):n.map(T=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold text-xs mr-3 ring-2 ring-white",children:T.name?.[0]?.toUpperCase()}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-medium text-slate-900",children:T.name}),E.jsx("div",{className:"text-sm text-slate-500",children:T.email})]})]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("div",{className:"flex items-center text-sm text-slate-600",children:[E.jsx(gs,{className:"h-4 w-4 mr-2 text-slate-400"}),b(T.courseId)]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.role==="admin"?"bg-purple-100 text-purple-800 border border-purple-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[T.role==="admin"?E.jsx(Gb,{className:"h-3 w-3 mr-1"}):E.jsx(iu,{className:"h-3 w-3 mr-1"}),T.role]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.status==="active"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-red-100 text-red-800 border border-red-200"}`,children:[T.status==="active"?E.jsx(Ov,{className:"h-3 w-3 mr-1"}):E.jsx(up,{className:"h-3 w-3 mr-1"}),T.status]})}),E.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:T.joinedAt?cf(new Date(T.joinedAt),"MMM d, yyyy HH:mm"):"N/A"})]},T.id))})]})})})]})]})},o6=()=>{const{user:i,logout:e}=Lo(),n=Uo(),s=()=>{e(),n("/login")};return E.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900",children:[E.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center",children:[E.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg mr-3",children:E.jsx(gs,{className:"h-6 w-6 text-indigo-600"})}),E.jsx("span",{className:"font-bold text-xl tracking-tight",children:"StudyHub"})]}),E.jsx("div",{className:"flex items-center space-x-4",children:i?E.jsxs(E.Fragment,{children:[E.jsxs("span",{className:"text-sm font-medium text-slate-600 hidden sm:block",children:["Welcome, ",i.name]}),E.jsxs(_n,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",children:[E.jsx(kv,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),E.jsxs("button",{onClick:s,className:"flex items-center px-4 py-2 text-sm font-medium text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[E.jsx(op,{className:"h-4 w-4 mr-2"}),"Sign out"]})]}):E.jsxs(E.Fragment,{children:[E.jsx(_n,{to:"/login",className:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors",children:"Sign in"}),E.jsx(_n,{to:"/register",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-all shadow-sm hover:shadow-md",children:"Get Started"})]})})]}),E.jsxs("div",{className:"relative overflow-hidden pt-16 pb-32",children:[E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:E.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[E.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight text-slate-900 mb-6",children:["Your Central Hub for ",E.jsx("span",{className:"text-indigo-600",children:"Study Materials"})]}),E.jsx("p",{className:"text-xl text-slate-600 mb-10 leading-relaxed",children:"Securely share, organize, and access course resources. Designed for students and instructors to streamline the learning experience."}),E.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:i?E.jsxs(_n,{to:"/dashboard",className:"w-full sm:w-auto px-8 py-4 text-base font-semibold text-white bg-indigo-600 rounded-xl hover:bg-indigo-700 transition-all shadow-lg hover:shadow-indigo-500/30 flex items-center justify-center",children:[E.jsx(kv,{className:"mr-2 h-5 w-5"}),"Go to Dashboard"]}):E.jsxs(E.Fragment,{children:[E.jsxs(_n,{to:"/register",className:"w-full sm:w-auto px-8 py-4 text-base font-semibold text-white bg-indigo-600 rounded-xl hover:bg-indigo-700 transition-all shadow-lg hover:shadow-indigo-500/30 flex items-center justify-center",children:["Request Access ",E.jsx(Zx,{className:"ml-2 h-5 w-5"})]}),E.jsx(_n,{to:"/login",className:"w-full sm:w-auto px-8 py-4 text-base font-semibold text-slate-700 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all flex items-center justify-center",children:"Member Login"})]})})]})}),E.jsxs("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-full h-full z-0 pointer-events-none",children:[E.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-indigo-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),E.jsx("div",{className:"absolute top-20 right-10 w-72 h-72 bg-purple-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute -bottom-8 left-1/2 w-72 h-72 bg-pink-100 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]})]}),E.jsx("div",{className:"bg-slate-50 py-24",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 mb-6",children:E.jsx(ER,{className:"h-6 w-6"})}),E.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Easy Sharing"}),E.jsx("p",{className:"text-slate-600",children:"Upload and distribute PDFs, PPTs, and docs instantly. Keep everyone on the same page."})]}),E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 mb-6",children:E.jsx(Gb,{className:"h-6 w-6"})}),E.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Secure Access"}),E.jsx("p",{className:"text-slate-600",children:"Role-based access control ensures only approved members can view and download materials."})]}),E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600 mb-6",children:E.jsx(gs,{className:"h-6 w-6"})}),E.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Organized Library"}),E.jsx("p",{className:"text-slate-600",children:"Materials are automatically organized by course and date for quick retrieval."})]})]})})})]})};function l6(){return E.jsx(Yx,{children:E.jsx(Px,{children:E.jsxs(dx,{children:[E.jsx(is,{path:"/",element:E.jsx(o6,{})}),E.jsx(is,{path:"/login",element:E.jsx(IR,{})}),E.jsx(is,{path:"/register",element:E.jsx($M,{})}),E.jsxs(is,{path:"/",element:E.jsx(Bm,{children:E.jsx(NR,{})}),children:[E.jsx(is,{path:"dashboard",element:E.jsx(r6,{})}),E.jsx(is,{path:"logs",element:E.jsx(Bm,{allowedRoles:["admin"],children:E.jsx(s6,{})})}),E.jsx(is,{path:"users",element:E.jsx(Bm,{allowedRoles:["admin"],children:E.jsx(a6,{})})})]})]})})})}vA.createRoot(document.getElementById("root")).render(E.jsx(B.StrictMode,{children:E.jsx(l6,{})}));
